/*! For license information please see extension.js.LICENSE.txt */
(()=>{var e={7437:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const r=n(9877),o=n(2357),s=["redmond.corp.microsoft.com","northamerica.corp.microsoft.com","fareast.corp.microsoft.com","ntdev.corp.microsoft.com","wingroup.corp.microsoft.com","southpacific.corp.microsoft.com","wingroup.windeploy.ntdev.microsoft.com","ddnet.microsoft.com","europe.corp.microsoft.com"],a={"common.msftInternal":function(){const e=process.env.USERDNSDOMAIN;if(!e)return!1;const t=e.toLowerCase();return s.some((e=>t===e))}()?1:0},l={};try{const e=n(9690);l["common.adsversion"]=null==e?void 0:e.version}catch(e){}class c{constructor(e,t,n,i){this.reporter=e,this.eventName=t,this.properties=n,this.measurements=i,this.properties=n||{},Object.assign(this.properties,l),this.measurements=i||{},Object.assign(this.measurements,a)}send(){var e;try{null===(e=this.reporter)||void 0===e||e.sendTelemetryEvent(this.eventName,this.properties,this.measurements)}catch(e){const t=e instanceof Error?e.message:e;console.error(`Error sending ${this.eventName} event ${t}`)}}withAdditionalProperties(e){return Object.assign(this.properties,e),this}withAdditionalMeasurements(e){return Object.assign(this.measurements,e),this}withConnectionInfo(e){return"object"==typeof e?Object.assign(this.properties,{authenticationType:e.authenticationType,providerName:e.providerName}):console.error("AdsTelemetryReporter received invalid ConnectionInfo object of type "+typeof e),this}withServerInfo(e){var t,n,i;return"object"==typeof e?Object.assign(this.properties,{connectionType:void 0!==e.isCloud?e.isCloud?"Azure":"Standalone":"",serverVersion:null!==(t=e.serverVersion)&&void 0!==t?t:"",serverEdition:null!==(n=e.serverEdition)&&void 0!==n?n:"",serverEngineEdition:null!==(i=e.engineEditionId)&&void 0!==i?i:""}):console.error("AdsTelemetryReporter received invalid ServerInfo object of type "+typeof e),this}}t.default=class{constructor(e,t,n){var i,o;this._telemetryReporter=void 0;try{this._telemetryReporter=new r.default(e,t,n)}catch(t){console.error(`Error initializing TelemetryReporter for '${e}'. ${null!==(o=null===(i=t)||void 0===i?void 0:i.message)&&void 0!==o?o:t}`)}}createViewEvent(e){return new c(this._telemetryReporter,"view",{view:e})}sendViewEvent(e){this.createViewEvent(e).send()}createActionEvent(e,t,n="",i="",r){const o=r?{durationInMs:r}:{};return new c(this._telemetryReporter,"action",{view:e,action:t,target:n,source:i},o)}sendActionEvent(e,t,n="",i="",r){this.createActionEvent(e,t,n,i,r).send()}createTimedAction(e,t,n,i){return new o.TimedAction(this,e,t,n,i)}createMetricsEvent(e,t=""){return new c(this._telemetryReporter,"metrics",{groupName:t},e)}sendMetricsEvent(e,t=""){this.createMetricsEvent(e,t).send()}createErrorEvent(e,t,n="",i=""){return new c(this._telemetryReporter,"error",{view:e,name:t,errorCode:n,errorType:i})}sendErrorEvent(e,t,n="",i=""){this.createErrorEvent(e,t,n,i).send()}createErrorEvent2(e,t,n,i=!1,r="",o=""){const s={view:e,name:t,errorCode:r,errorType:o};if(n instanceof Error){s.message=!0===i?n.message:"";let e=n.stack||"";if(!0!==i&&n.message){const t=new RegExp(n.message,"g");e=e.replace(t,"<REDACTED: error-message>")}s.stack=e}else s.message=!0===i?null==n?void 0:n.toString():"",s.stack="";return new c(this._telemetryReporter,"error",s)}sendErrorEvent2(e,t,n,i=!1,r="",o=""){this.createErrorEvent2(e,t,n,i,r,o).send()}createTelemetryEvent(e,t,n){return new c(this._telemetryReporter,e,t,n)}sendTelemetryEvent(e,t,n){this.createTelemetryEvent(e,t,n).send()}dispose(){var e;return i(this,void 0,void 0,(function*(){yield null===(e=this._telemetryReporter)||void 0===e?void 0:e.dispose()}))}}},2357:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TimedAction=void 0,t.TimedAction=class{constructor(e,t,n,i="",r=""){this.reporter=e,this.view=t,this.action=n,this.target=i,this.source=r,this.properties={},this.measures={},this.start=Date.now()}withAdditionalProperties(e){return Object.assign(this.properties,e),this}withAdditionalMeasures(e){return Object.assign(this.measures,e),this}send(){this.reporter.createActionEvent(this.view,this.action,this.source,this.target,Date.now()-this.start).withAdditionalProperties(this.properties).withAdditionalMeasurements(this.measures).send()}}},9877:(e,t,n)=>{var i,r,o,s,a=Object.create,l=Object.defineProperty,c=Object.defineProperties,u=Object.getOwnPropertyDescriptor,d=Object.getOwnPropertyDescriptors,p=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,m=Object.getPrototypeOf,f=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,v=(e,t,n)=>t in e?l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_=(e,t)=>{for(var n in t||(t={}))f.call(t,n)&&v(e,n,t[n]);if(h)for(var n of h(t))g.call(t,n)&&v(e,n,t[n]);return e},y=(e,t)=>c(e,d(t)),S=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),E=(e,t,n,i)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of p(t))!f.call(e,r)&&r!==n&&l(e,r,{get:()=>t[r],enumerable:!(i=u(t,r))||i.enumerable});return e},T=(e,t,n)=>(n=null!=e?a(m(e)):{},E(!t&&e&&e.__esModule?n:l(n,"default",{value:e,enumerable:!0}),e)),C=S(((n,s)=>{var a;a=function(e){"use strict";var t="function",n="object",i="undefined",r="prototype",o="hasOwnProperty",s="default",a=Object,l=a[r],c=a.assign,u=a.create,d=a.defineProperty,p=l[o],h=null;function m(e){return void 0===e&&(e=!0),(!h||!e)&&(typeof globalThis!==i&&globalThis&&(h=globalThis),typeof self!==i&&self&&(h=self),typeof window!==i&&window&&(h=window),typeof global!==i&&global&&(h=global)),h}function f(e){throw new TypeError(e)}function g(e){if(u)return u(e);if(null==e)return{};var i=typeof e;function o(){}return i!==n&&i!==t&&f("Object prototype may only be an Object:"+e),o[r]=e,new o}var v=(m()||{}).Symbol,_=(m()||{}).Reflect,y=!!_,S="decorate",E="metadata",T="getOwnPropertySymbols",C="iterator",b=c||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])l[o].call(t,r)&&(e[r]=t[r]);return e},I=function(e,t){return(I=a.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t[o](n)&&(e[n]=t[n])})(e,t)};function R(e,n){function i(){this.constructor=e}typeof n!==t&&null!==n&&f("Class extends value "+String(n)+" is not a constructor or null"),I(e,n),e[r]=null===n?g(n):(i[r]=n[r],new i)}function A(e,t,n,i){void 0===i&&(i=n),u?d(e,i,{enumerable:!0,get:function(){return t[n]}}):e[i]=t[n]}e.ObjAssign=c,e.ObjClass=a,e.ObjCreate=u,e.ObjDefineProperty=d,e.ObjHasOwnProperty=p,e.ObjProto=l,e.__assignFn=b,e.__createBindingFn=A,e.__decorateFn=function(e,n,i,r){var o,s=arguments.length,l=s<3?n:null===r?r=a.getOwnPropertyDescriptor(n,i):r;if(y&&typeof _[S]===t)l=_[S](e,n,i,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(l=(s<3?o(l):s>3?o(n,i,l):o(n,i))||l);return s>3&&l&&d(n,i,l),l},e.__exportStarFn=function(e,t){for(var n in e)n!==s&&!p.call(t,n)&&A(t,e,n)},e.__exposeGlobalTsLib=function(){var e,t,n,i,r=m()||{};t=b,n=R,i=A,(e=r).__assign||(e.__assign=c||t),e.__extends||(e.__extends=n),e.__createBinding||(e.__createBinding=i),__assign||(__assign=r.__assign),__extends||(__extends=r.__extends),__createBinding||(__createBinding=r.__createBinding)},e.__extendsFn=R,e.__importDefaultFn=function(e){return e&&e.__esModule?e:{strDefault:e}},e.__importStarFn=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)n!==s&&Object.prototype.hasOwnProperty.call(e,n)&&A(t,e,n);return u?d(t,s,{enumerable:!0,value:e}):t[s]=e,t},e.__makeTemplateObjectFn=function(e,t){return d?d(e,"raw",{value:t}):e.raw=t,e},e.__metadataFn=function(e,n){if(y&&_[E]===t)return _[E](e,n)},e.__paramFn=function(e,t){return function(n,i){t(n,i,e)}},e.__readFn=function(e,n){var i=typeof v===t&&e[v[C]];if(!i)return e;var r,o,s=i.call(e),a=[];try{for(;(void 0===n||n-- >0)&&!(r=s.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(i=s.return)&&i.call(s)}finally{if(o)throw o.error}}return a},e.__restFn=function(e,n){var i={};for(var r in e)p.call(e,r)&&n.indexOf(r)<0&&(i[r]=e[r]);if(null!=e&&typeof a[T]===t)for(var o=0,s=a[T](e);o<s.length;o++)n.indexOf(s[o])<0&&l.propertyIsEnumerable.call(e,s[o])&&(i[s[o]]=e[s[o]]);return i},e.__spreadArrayFn=function(e,t){for(var n=0,i=t.length,r=e.length;n<i;n++,r++)e[r]=t[n];return e},e.__spreadArraysFn=function(){for(var e=arguments,t=0,n=0,i=e.length;n<i;n++)t+=e[n].length;var r=Array(t),o=0;for(n=0;n<i;n++)for(var s=e[n],a=0,l=s.length;a<l;a++,o++)r[o]=s[a];return r},e.__valuesFn=function(e){var n=typeof v===t&&v[C],i=n&&e[n],r=0;return i?i.call(e):e&&"number"==typeof e.length?{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}:void f(n?"Object is not iterable.":"Symbol.iterator is not defined.")},e.getGlobal=m,e.objCreateFn=g,e.strDefault=s,e.strShimFunction=t,e.strShimHasOwnProperty=o,e.strShimObject=n,e.strShimPrototype=r,e.strShimUndefined=i,e.throwTypeError=f,function(e,t,n){var i=Object.defineProperty;if(i)try{return i(e,t,n)}catch{}n&&void 0!==typeof n.value&&(e[t]=n.value)}(e,"__esModule",{value:!0})},"object"==typeof n&&typeof s<"u"?a(n):(r=[t],void 0===(o="function"==typeof(i=a)?i.apply(t,r):i)||(e.exports=o))})),b=S(((n,s)=>{var a;a=function(e){"use strict";var t="function",n="object",i="undefined",r="prototype",o="hasOwnProperty",s=Object,a=s[r],l=s.assign,c=s.create,u=s.defineProperty,d=a[o],p=null;function h(e){return void 0===e&&(e=!0),(!p||!e)&&(typeof globalThis!==i&&globalThis&&(p=globalThis),typeof self!==i&&self&&(p=self),typeof window!==i&&window&&(p=window),typeof global!==i&&global&&(p=global)),p}function m(e){throw new TypeError(e)}function f(e){if(c)return c(e);if(null==e)return{};var i=typeof e;function o(){}return i!==n&&i!==t&&m("Object prototype may only be an Object:"+e),o[r]=e,new o}(h()||{}).Symbol,(h()||{}).Reflect;var g=function(e,t){return(g=s.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t[o](n)&&(e[n]=t[n])})(e,t)};function v(e,n){function i(){this.constructor=e}typeof n!==t&&null!==n&&m("Class extends value "+String(n)+" is not a constructor or null"),g(e,n),e[r]=null===n?f(n):(i[r]=n[r],new i)}function _(e,t){for(var n=0,i=t.length,r=e.length;n<i;n++,r++)e[r]=t[n];return e}var y="",S="processTelemetry",E="priority",T="setNextPlugin",C="isInitialized",b="teardown",I="core",R="update",A="disabled",O="_doTeardown",w="processNext",x="resume",P="pause",N="NotificationListener",D="add"+N,M="remove"+N,k="eventsSent",L="eventsDiscarded",B="eventsSendRequest",q="perfEvent",F="toISOString",U="endsWith",j="startsWith",z="indexOf",H="reduce",V="trim",G="toString",W="constructor",$=u,K=s.freeze,X=s.seal,Y=s.keys,Q=String[r],J=Q[V],Z=Q[U],ee=Q[j],te=Date[r][F],ne=Array.isArray,ie=a[G],re=d[G],oe=re.call(s),se=/-([a-z])/g,ae=/([^\w\d_$])/g,le=/^(\d+[\w\d_$])/,ce=Object.getPrototypeOf;function ue(e){if(e){if(ce)return ce(e);var t=e.__proto__||e[r]||e[W];if(t)return t}return null}function de(e,t){return typeof e===t}function pe(e){return void 0===e||typeof e===i}function he(e){return null===e||pe(e)}function me(e){return!he(e)}function fe(e,t){return!(!e||!d.call(e,t))}function ge(e){return!(!e||typeof e!==n)}function ve(e){return!(!e||typeof e!==t)}function _e(e){var t=e;return t&&Ie(t)&&(t=(t=(t=t.replace(se,(function(e,t){return t.toUpperCase()}))).replace(ae,"_")).replace(le,(function(e,t){return"_"+t}))),t}function ye(e,t){if(e)for(var n in e)d.call(e,n)&&t.call(e,n,e[n])}function Se(e,t){var n=!1;return e&&t&&!(n=e===t)&&(n=Z?e[U](t):function(e,t){var n=!1,i=t?t.length:0,r=e?e.length:0;if(i&&r&&r>=i&&!(n=e===t)){for(var o=r-1,s=i-1;s>=0;s--){if(e[o]!=t[s])return!1;o--}n=!0}return n}(e,t)),n}function Ee(e,t){return!(!e||!t)&&-1!==e.indexOf(t)}function Te(e){return!(!e||"[object Date]"!==ie.call(e))}var Ce=ne||function(e){return!(!e||"[object Array]"!==ie.call(e))};function be(e){return!(!e||"[object Error]"!==ie.call(e))}function Ie(e){return"string"==typeof e}function Re(e){return"number"==typeof e}function Ae(e){return"boolean"==typeof e}function Oe(e){var n=!1;if(e&&"object"==typeof e){var i=ce?ce(e):ue(e);i?(i[W]&&d.call(i,W)&&(i=i[W]),n=typeof i===t&&re.call(i)===oe):n=!0}return n}function we(e){if(e)return te?e[F]():function(e){if(e&&e.getUTCFullYear){var t=function(e){var t=String(e);return 1===t.length&&(t="0"+t),t};return e.getUTCFullYear()+"-"+t(e.getUTCMonth()+1)+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())+"."+String((e.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}}(e)}function xe(e,t,n){var i=e.length;try{for(var r=0;r<i&&(!(r in e)||-1!==t.call(n||e,e[r],r,e));r++);}catch{}}function Pe(e,t,n){if(e){if(e[z])return e[z](t,n);var i=e.length,r=n||0;try{for(var o=Math.max(r>=0?r:i-Math.abs(r),0);o<i;o++)if(o in e&&e[o]===t)return o}catch{}}return-1}function Ne(e,t,n){var i;if(e){if(e.map)return e.map(t,n);var r=e.length,o=n||e;i=new Array(r);try{for(var s=0;s<r;s++)s in e&&(i[s]=t.call(o,e[s],e))}catch{}}return i}function De(e,t,n){var i;if(e){if(e[H])return e[H](t,n);var r=e.length,o=0;if(arguments.length>=3)i=arguments[2];else{for(;o<r&&!(o in e);)o++;i=e[o++]}for(;o<r;)o in e&&(i=t(i,e[o],o,e)),o++}return i}function Me(e){return e&&(e=J&&e[V]?e[V]():e.replace?e.replace(/^\s+|\s+$/g,""):e),e}var ke=!{toString:null}.propertyIsEnumerable("toString"),Le=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];function Be(e){var i=typeof e;if(i!==t&&(i!==n||null===e)&&m("objKeys called on non-object"),!ke&&Y)return Y(e);var r=[];for(var o in e)e&&d.call(e,o)&&r.push(o);if(ke)for(var s=Le.length,a=0;a<s;a++)e&&d.call(e,Le[a])&&r.push(Le[a]);return r}function qe(e,t,n,i){if($)try{var r={enumerable:!0,configurable:!0};return n&&(r.get=n),i&&(r.set=i),$(e,t,r),!0}catch{}return!1}function Fe(e){return e}function Ue(e){return K&&ye(e,(function(e,t){(Ce(t)||ge(t))&&K(t)})),je(e)}var je=K||Fe,ze=X||Fe;function He(){var e=Date;return e.now?e.now():(new e).getTime()}function Ve(e){return be(e)?e.name:y}function Ge(e,t,n,i,r){var o=n;return e&&(o=e[t])!==n&&(!r||r(o))&&(!i||i(n))&&(o=n,e[t]=o),o}function We(e,t,n){var i;return e?!(i=e[t])&&he(i)&&(i=pe(n)?{}:n,e[t]=i):i=pe(n)?{}:n,i}function $e(e){return!e}function Ke(e){return!!e}function Xe(e){throw new Error(e)}function Ye(e,t){var n=null,i=null;return ve(e)?n=e:i=e,function(){var e=arguments;if(n&&(i=n()),i)return i[t].apply(i,e)}}function Qe(e,t,n,i,r){e&&t&&n&&(!1!==r||pe(e[t]))&&(e[t]=Ye(n,i))}function Je(e,t,n,i){return e&&t&&ge(e)&&Ce(n)&&xe(n,(function(n){Ie(n)&&Qe(e,n,t,n,i)})),e}function Ze(e,t,n,i,r,o){var s=arguments,a=s[0]||{},l=s.length,c=!1,u=1;for(l>0&&Ae(a)&&(c=a,a=s[u]||{},u++),ge(a)||(a={});u<l;u++){var p=s[u],h=Ce(p),m=ge(p);for(var f in p){var g=h&&f in p||m&&d.call(p,f);if(g){var v=p[f],_=void 0;if(c&&v&&((_=Ce(v))||Oe(v))){var y=a[f];_?Ce(y)||(y=[]):Oe(y)||(y={}),v=Ze(c,y,v)}void 0!==v&&(a[f]=v)}}}return a}function et(e){var t={};return ye(e,(function(e,n){t[e]=n,t[n]=e})),Ue(t)}var tt=et({Unknown:0,NonRetryableStatus:1,InvalidEvent:2,SizeLimitExceeded:3,KillSwitch:4,QueueFull:5}),nt="constructor",it="prototype",rt="function",ot="_dynInstFuncs",st="_isDynProxy",at="_dynClass",lt="_dynInstChk",ct=lt,ut="_dfOpts",dt="_unknown_",pt="__proto__",ht="_dyn"+pt,mt="_dynInstProto",ft="useBaseInst",gt="setInstFuncs",vt=Object,_t=vt.getPrototypeOf,yt=vt.getOwnPropertyNames,St=0;function Et(e,t){return e&&vt[it].hasOwnProperty.call(e,t)}function Tt(e){return e&&(e===vt[it]||e===Array[it])}function Ct(e){return Tt(e)||e===Function[it]}function bt(e){var t;if(e){if(_t)return _t(e);var n=e[pt]||e[it]||(e[nt]?e[nt][it]:null);t=e[ht]||n,Et(e,ht)||(delete e[mt],t=e[ht]=e[mt]||e[ht],e[mt]=n)}return t}function It(e,t){var n=[];if(yt)n=yt(e);else for(var i in e)"string"==typeof i&&Et(e,i)&&n.push(i);if(n&&n.length>0)for(var r=0;r<n.length;r++)t(n[r])}function Rt(e,t,n){return t!==nt&&typeof e[t]===rt&&(n||Et(e,t))}function At(e){throw new TypeError("DynamicProto: "+e)}function Ot(e,t){for(var n=e.length-1;n>=0;n--)if(e[n]===t)return!0;return!1}function wt(e,t,n,i){var r=null;if(e&&Et(n,at)){var o=e[ot]||{};if((r=(o[n[at]]||{})[t])||At("Missing ["+t+"] "+rt),!r[lt]&&!1!==o[ct]){for(var s=!Et(e,t),a=bt(e),l=[];s&&a&&!Ct(a)&&!Ot(l,a);){var c=a[t];if(c){s=c===i;break}l.push(a),a=bt(a)}try{s&&(e[t]=r),r[lt]=1}catch{o[ct]=!1}}}return r}function xt(e,t,n){var i=t[e];return i===n&&(i=bt(t)[e]),typeof i!==rt&&At("["+e+"] is not a "+rt),i}function Pt(e,t){return Et(e,it)?e.name||t||dt:((e||{})[nt]||{}).name||t||dt}function Nt(e,t,n,i){Et(e,it)||At("theClass is an invalid class definition.");var r=e[it];(function(e,t){if(_t){for(var n=[],i=bt(t);i&&!Ct(i)&&!Ot(n,i);){if(i===e)return!0;n.push(i),i=bt(i)}return!1}return!0})(r,t)||At("["+Pt(e)+"] is not in class hierarchy of ["+Pt(t)+"]");var o=null;Et(r,at)?o=r[at]:(o="_dynCls$"+Pt(e,"_")+"$"+St,St++,r[at]=o);var s=Nt[ut],a=!!s[ft];a&&i&&void 0!==i[ft]&&(a=!!i[ft]);var l=function(e){var t={};return It(e,(function(n){!t[n]&&Rt(e,n,!1)&&(t[n]=e[n])})),t}(t),c=function(e,t,n,i){function r(e,t,n){var r=t[n];if(r[st]&&i){var o=e[ot]||{};!1!==o[ct]&&(r=(o[t[at]]||{})[n]||r)}return function(){return r.apply(e,arguments)}}var o={};It(n,(function(e){o[e]=r(t,n,e)}));for(var s=bt(e),a=[];s&&!Ct(s)&&!Ot(a,s);)It(s,(function(e){!o[e]&&Rt(s,e,!_t)&&(o[e]=r(t,s,e))})),a.push(s),s=bt(s);return o}(r,t,l,a);n(t,c);var u=!!_t&&!!s[gt];u&&i&&(u=!!i[gt]),function(e,t,n,i,r){if(!Tt(e)){var o=n[ot]=n[ot]||{},s=o[t]=o[t]||{};!1!==o[ct]&&(o[ct]=!!r),It(n,(function(t){Rt(n,t,!1)&&n[t]!==i[t]&&(s[t]=n[t],delete n[t],(!Et(e,t)||e[t]&&!e[t][st])&&(e[t]=function(e,t){var n=function(){return(wt(this,t,e,n)||xt(t,e,n)).apply(this,arguments)};return n[st]=1,n}(e,t)))}))}}(r,o,t,l,!1!==u)}Nt[ut]={setInstFuncs:!0,useBaseInst:!0};var Dt="window",Mt="JSON",kt="msie",Lt="trident/",Bt="XMLHttpRequest",qt=null,Ft=null,Ut=!1,jt=null,zt=null;function Ht(e,t){var n=!1;if(e){try{if(!(n=t in e)){var i=e[r];i&&(n=t in i)}}catch{}if(!n)try{n=!pe((new e)[t])}catch{}}return n}function Vt(e){var t=h();return t&&t[e]?t[e]:e===Dt&&Gt()?window:null}function Gt(){return Boolean(typeof window===n&&window)}function Wt(){return Gt()?window:Vt(Dt)}function $t(){return Boolean(typeof document===n&&document)}function Kt(){return $t()?document:Vt("document")}function Xt(){return Boolean(typeof navigator===n&&navigator)}function Yt(){return Xt()?navigator:Vt("navigator")}function Qt(){return Boolean(typeof history===n&&history)}function Jt(e){if(e&&Ut){var t=Vt("__mockLocation");if(t)return t}return typeof location===n&&location?location:Vt("location")}function Zt(){return typeof console!==i?console:Vt("console")}function en(){return Vt("performance")}function tn(){return Boolean(typeof JSON===n&&JSON||null!==Vt(Mt))}function nn(){return tn()?JSON||Vt(Mt):null}function rn(){return Vt("crypto")}function on(){return Vt("msCrypto")}function sn(){var e=Yt();if(e&&(e.userAgent!==Ft||null===qt)){var t=((Ft=e.userAgent)||y).toLowerCase();qt=Ee(t,kt)||Ee(t,Lt)}return qt}function an(e){var t=Object[r].toString.call(e),n=y;return"[object Error]"===t?n="{ stack: '"+e.stack+"', message: '"+e.message+"', name: '"+e.name+"'":tn()&&(n=nn().stringify(e)),t+n}function ln(){var e=!1;try{e=!!Vt(Bt)}catch{}return e}function cn(e,t){if(e)for(var n=0;n<e.length;n++){var i=e[n];if(i.name&&i.name===t)return i}return{}}function un(e){var t=Kt();return t&&e?cn(t.querySelectorAll("meta"),e).content:null}function dn(e){var t,n=en();if(n){var i=n.getEntriesByType("navigation")||[];t=cn((i.length>0?i[0]:{}).serverTiming,e).description}return t}var pn,hn=["eventsSent","eventsDiscarded","eventsSendRequest","perfEvent"],mn=null;function fn(e,t){return function(){var n=arguments,i=gn(t);if(i){var r=i.listener;r&&r[e]&&r[e].apply(r,n)}}}function gn(e){var t=mn;return!t&&!0!==e.disableDbgExt&&(t=mn||function(){var e=Vt("Microsoft");return e&&(mn=e.ApplicationInsights),mn}()),t?t.ChromeDbgExt:null}function vn(e){if(!pn){pn={};for(var t=0;t<hn.length;t++)pn[hn[t]]=fn(hn[t],e)}return pn}function _n(e){return e?'"'+e.replace(/\"/g,y)+'"':y}function yn(e,t){var n=Zt();if(n){var i="log";n[e]&&(i=e),ve(n[i])&&n[i](t)}}var Sn=function(){function e(e,t,n,i){void 0===n&&(n=!1);var r=this;r.messageId=e,r.message=(n?"AI: ":"AI (Internal): ")+e;var o=y;tn()&&(o=nn().stringify(i));var s=(t?" message:"+_n(t):y)+(i?" props:"+_n(o):y);r.message+=s}return e.dataType="MessageData",e}();function En(e,t){return(e||{}).logger||new Tn(t)}var Tn=function e(t){this.identifier="DiagnosticLogger",this.queue=[];var n=0,i={};Nt(e,this,(function(e){function r(e,n){var i=t[e];return he(i)?n:i}function o(e,n){var i=gn(t);i&&i.diagLog&&i.diagLog(e,n)}he(t)&&(t={}),e.consoleLoggingLevel=function(){return r("loggingLevelConsole",0)},e.telemetryLoggingLevel=function(){return r("loggingLevelTelemetry",1)},e.maxInternalMessageLimit=function(){return r("maxMessageLimit",25)},e.enableDebugExceptions=function(){return r("enableDebugExceptions",!1)},e.throwInternal=function(t,n,r,s,a){void 0===a&&(a=!1);var l=new Sn(n,r,a,s);if(e.enableDebugExceptions())throw an(l);var c=1===t?"errorToConsole":"warnToConsole";if(pe(l.message))o("throw"+(1===t?"Critical":"Warning"),l);else{var u=e.consoleLoggingLevel();if(a){var d=+l.messageId;!i[d]&&u>=t&&(e[c](l.message),i[d]=!0)}else u>=t&&e[c](l.message);e.logInternalMessage(t,l)}},e.warnToConsole=function(e){yn("warn",e),o("warning",e)},e.errorToConsole=function(e){yn("error",e),o("error",e)},e.resetInternalMessageCount=function(){n=0,i={}},e.logInternalMessage=function(t,r){if(!(n>=e.maxInternalMessageLimit())){var s=!0,a="AITR_"+r.messageId;if(i[a]?s=!1:i[a]=!0,s&&(t<=e.telemetryLoggingLevel()&&(e.queue.push(r),n++,o(1===t?"error":"warn",r)),n===e.maxInternalMessageLimit())){var l="Internal events throttle limit per PageView reached for this app.",c=new Sn(23,l,!1);e.queue.push(c),1===t?e.errorToConsole(l):e.warnToConsole(l)}}}}))};function Cn(e){return e||new Tn}function bn(e,t,n,i,r,o){void 0===o&&(o=!1),(e||new Tn).throwInternal(t,n,i,r,o)}function In(e,t){Cn(e).warnToConsole(t)}var Rn=null,An=function(){function e(t,n,i){var r,o=this,s=!1;o.start=He(),o.name=t,o.isAsync=i,o.isChildEvt=function(){return!1},ve(n)&&(s=qe(o,"payload",(function(){return!r&&ve(n)&&(r=n(),n=null),r}))),o.getCtx=function(t){return t?t===e.ParentContextKey||t===e.ChildrenContextKey?o[t]:(o.ctx||{})[t]:null},o.setCtx=function(t,n){t&&(t===e.ParentContextKey?(o[t]||(o.isChildEvt=function(){return!0}),o[t]=n):t===e.ChildrenContextKey?o[t]=n:(o.ctx=o.ctx||{})[t]=n)},o.complete=function(){var t=0,i=o.getCtx(e.ChildrenContextKey);if(Ce(i))for(var r=0;r<i.length;r++){var a=i[r];a&&(t+=a.time)}o.time=He()-o.start,o.exTime=o.time-t,o.complete=function(){},!s&&ve(n)&&(o.payload=n())}}return e.ParentContextKey="parent",e.ChildrenContextKey="childEvts",e}(),On=function e(t){this.ctx={},Nt(e,this,(function(e){e.create=function(e,t,n){return new An(e,t,n)},e.fire=function(e){e&&(e.complete(),t&&ve(t.perfEvent)&&t.perfEvent(e))},e.setCtx=function(t,n){t&&((e.ctx=e.ctx||{})[t]=n)},e.getCtx=function(t){return(e.ctx||{})[t]}}))},wn="CoreUtils.doPerf";function xn(e,t,n,i,r){if(e){var o=e;if(ve(o.getPerfMgr)&&(o=o.getPerfMgr()),o){var s=void 0,a=o.getCtx(wn);try{if(s=o.create(t(),i,r)){if(a&&s.setCtx&&(s.setCtx(An.ParentContextKey,a),a.getCtx&&a.setCtx)){var l=a.getCtx(An.ChildrenContextKey);l||(l=[],a.setCtx(An.ChildrenContextKey,l)),l.push(s)}return o.setCtx(wn,s),n(s)}}catch(e){s&&s.setCtx&&s.setCtx("exception",e)}finally{s&&o.fire(s),o.setCtx(wn,a)}}}return n()}function Pn(){return Rn}var Nn=4294967296,Dn=4294967295,Mn=!1,kn=123456789,Ln=987654321;function Bn(e){e<0&&(e>>>=0),kn=123456789+e&Dn,Ln=987654321-e&Dn,Mn=!0}function qn(){try{var e=2147483647&He();Bn((Math.random()*Nn^e)+e)}catch{}}function Fn(e){return e>0?Math.floor(Un()/Dn*(e+1))>>>0:0}function Un(e){var t=0,n=rn()||on();return n&&n.getRandomValues&&(t=n.getRandomValues(new Uint32Array(1))[0]&Dn),0===t&&sn()&&(Mn||qn(),t=zn()&Dn),0===t&&(t=Math.floor(Nn*Math.random()|0)),e||(t>>>=0),t}function jn(e){e?Bn(e):qn()}function zn(e){var t=((Ln=36969*(65535&Ln)+(Ln>>16)&Dn)<<16)+(65535&(kn=18e3*(65535&kn)+(kn>>16)&Dn))>>>0&Dn|0;return e||(t>>>=0),t}function Hn(e){void 0===e&&(e=22);for(var t=Un()>>>0,n=0,i=y;i.length<e;)n++,i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(63&t),t>>>=6,5===n&&(t=(Un()<<2&4294967295|3&t)>>>0,n=0);return i}var Vn=u,Gn="2.8.4",Wn="."+Hn(6),$n=0;function Kn(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType}function Xn(e,t){return void 0===t&&(t=!1),_e(e+$n+++(t?"."+Gn:"")+Wn)}function Yn(e){var t={id:Xn("_aiData-"+(e||"")+"."+Gn),accept:function(e){return Kn(e)},get:function(e,n,i,r){var o=e[t.id];return o?o[_e(n)]:(r&&((o=function(e,t){var n=t[e.id];if(!n){n={};try{Kn(t)&&(function(e,t,n){if(Vn)try{return Vn(e,t,{value:n,enumerable:!1,configurable:!0}),!0}catch{}return!1}(t,e.id,n)||(t[e.id]=n))}catch{}}return n}(t,e))[_e(n)]=i),i)},kill:function(e,t){if(e&&e[t])try{delete e[t]}catch{}}};return t}var Qn="toGMTString",Jn="toUTCString",Zn="cookie",ei="expires",ti="enabled",ni="isCookieUseDisabled",ii="disableCookiesUsage",ri="_ckMgr",oi=null,si=null,ai=null,li=Kt(),ci={},ui={};function di(e,t){var n=hi[ri]||ui[ri];return n||(n=hi[ri]=hi(e,t),ui[ri]=n),n}function pi(e){return!e||e.isEnabled()}function hi(e,t){var n=function(e){var t=e.cookieCfg=e.cookieCfg||{};if(Ge(t,"domain",e.cookieDomain,me,he),Ge(t,"path",e.cookiePath||"/",null,he),he(t[ti])){var n=void 0;pe(e[ni])||(n=!e[ni]),pe(e[ii])||(n=!e[ii]),t[ti]=n}return t}(e||ui),i=n.path||"/",r=n.domain,o=!1!==n[ti],s={isEnabled:function(){var e=o&&mi(t),n=ui[ri];return e&&n&&s!==n&&(e=pi(n)),e},setEnabled:function(e){o=!1!==e},set:function(e,t,o,a,l){var c=!1;if(pi(s)){var u={},d=Me(t||y),p=d.indexOf(";");if(-1!==p&&(d=Me(t.substring(0,p)),u=fi(t.substring(p+1))),Ge(u,"domain",a||r,Ke,pe),!he(o)){var h=sn();if(pe(u[ei])){var m=He()+1e3*o;if(m>0){var f=new Date;f.setTime(m),Ge(u,ei,gi(f,h?Qn:Jn)||gi(f,h?Qn:Jn)||y,Ke)}}h||Ge(u,"max-age",y+o,null,pe)}var g=Jt();g&&"https:"===g.protocol&&(Ge(u,"secure",null,null,pe),null===si&&(si=!Si((Yt()||{}).userAgent)),si&&Ge(u,"SameSite","None",null,pe)),Ge(u,"path",l||i,null,pe),(n.setCookie||yi)(e,vi(d,u)),c=!0}return c},get:function(e){var t=y;return pi(s)&&(t=(n.getCookie||_i)(e)),t},del:function(e,t){var n=!1;return pi(s)&&(n=s.purge(e,t)),n},purge:function(e,i){var r,o=!1;if(mi(t)){var s=((r={}).path=i||"/",r[ei]="Thu, 01 Jan 1970 00:00:01 GMT",r);sn()||(s["max-age"]="0"),(n.delCookie||yi)(e,vi(y,s)),o=!0}return o}};return s[ri]=s,s}function mi(e){if(null===oi){oi=!1;try{oi=void 0!==(li||{})[Zn]}catch(t){bn(e,2,68,"Cannot access document.cookie - "+Ve(t),{exception:an(t)})}}return oi}function fi(e){var t={};return e&&e.length&&xe(Me(e).split(";"),(function(e){if(e=Me(e||y)){var n=e.indexOf("=");-1===n?t[e]=null:t[Me(e.substring(0,n))]=Me(e.substring(n+1))}})),t}function gi(e,t){return ve(e[t])?e[t]():null}function vi(e,t){var n=e||y;return ye(t,(function(e,t){n+="; "+e+(he(t)?y:"="+t)})),n}function _i(e){var t=y;if(li){var n=li[Zn]||y;ai!==n&&(ci=fi(n),ai=n),t=Me(ci[e]||y)}return t}function yi(e,t){li&&(li[Zn]=e+"="+t)}function Si(e){return!!Ie(e)&&!!(Ee(e,"CPU iPhone OS 12")||Ee(e,"iPad; CPU OS 12")||Ee(e,"Macintosh; Intel Mac OS X 10_14")&&Ee(e,"Version/")&&Ee(e,"Safari")||Ee(e,"Macintosh; Intel Mac OS X 10_14")&&Se(e,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||Ee(e,"Chrome/5")||Ee(e,"Chrome/6")||Ee(e,"UnrealEngine")&&!Ee(e,"Chrome")||Ee(e,"UCBrowser/12")||Ee(e,"UCBrowser/11"))}var Ei="attachEvent",Ti="addEventListener",Ci="detachEvent",bi="removeEventListener",Ii="events",Ri="visibilitychange",Ai="pagehide",Oi="pageshow",wi="unload",xi="beforeunload",Pi=Xn("aiEvtPageHide"),Ni=Xn("aiEvtPageShow"),Di=/\.[\.]+/g,Mi=/[\.]+$/,ki=1,Li=Yn("events"),Bi=/^([^.]*)(?:\.(.+)|)/;function qi(e){return e&&e.replace?e.replace(/^\s*\.*|\.*\s*$/g,""):e}function Fi(e,t){if(t){var n="";Ce(t)?(n="",xe(t,(function(e){(e=qi(e))&&("."!==e[0]&&(e="."+e),n+=e)}))):n=qi(t),n&&("."!==n[0]&&(n="."+n),e=(e||"")+n)}var i=Bi.exec(e||"")||[];return{type:i[1],ns:(i[2]||"").replace(Di,".").replace(Mi,"").split(".").sort().join(".")}}function Ui(e,t,n){void 0===n&&(n=!0);var i=Li.get(e,Ii,{},n),r=i[t];return r||(r=i[t]=[]),r}function ji(e,t,n,i){e&&t&&t.type&&(e[bi]?e[bi](t.type,n,i):e[Ci]&&e[Ci]("on"+t.type,n))}function zi(e,t,n,i){for(var r=t.length;r--;){var o=t[r];o&&(!n.ns||n.ns===o.evtName.ns)&&(!i||i(o))&&(ji(e,o.evtName,o.handler,o.capture),t.splice(r,1))}}function Hi(e,t){return t?Fi("xx",Ce(t)?[e].concat(t):[e,t]).ns.split("."):e}function Vi(e,t,n,i,r){void 0===r&&(r=!1);var o=!1;if(e)try{var s=Fi(t,i);if(o=function(e,t,n,i){var r=!1;return e&&t&&t.type&&n&&(e[Ti]?(e[Ti](t.type,n,i),r=!0):e[Ei]&&(e[Ei]("on"+t.type,n),r=!0)),r}(e,s,n,r),o&&Li.accept(e)){var a={guid:ki++,evtName:s,handler:n,capture:r};Ui(e,s.type).push(a)}}catch{}return o}function Gi(e,t,n,i,r){if(void 0===r&&(r=!1),e)try{var o=Fi(t,i),s=!1;(function(e,t,n){if(t.type)zi(e,Ui(e,t.type),t,n);else{var i=Li.get(e,Ii,{});ye(i,(function(i,r){zi(e,r,t,n)})),0===Be(i).length&&Li.kill(e,Ii)}})(e,o,(function(e){return!((!o.ns||n)&&e.handler!==n||(s=!0,0))})),s||ji(e,o,n,r)}catch{}}function Wi(e,t,n,i){return void 0===i&&(i=!1),Vi(e,t,n,null,i)}function $i(e,t,n,i){void 0===i&&(i=!1),Gi(e,t,n,null,i)}function Ki(e,t,n){var i=!1,r=Wt();r&&(i=Vi(r,e,t,n),i=Vi(r.body,e,t,n)||i);var o=Kt();return o&&(i=Vi(o,e,t,n)||i),i}function Xi(e,t,n){var i=Wt();i&&(Gi(i,e,t,n),Gi(i.body,e,t,n));var r=Kt();r&&Gi(r,e,t,n)}function Yi(e,t,n,i){var r=!1;return t&&e&&e.length>0&&xe(e,(function(e){e&&(!n||-1===Pe(n,e))&&(r=Ki(e,t,i)||r)})),r}function Qi(e,t,n,i){var r=!1;return t&&e&&Ce(e)&&!(r=Yi(e,t,n,i))&&n&&n.length>0&&(r=Yi(e,t,null,i)),r}function Ji(e,t,n){e&&Ce(e)&&xe(e,(function(e){e&&Xi(e,t,n)}))}var Zi,er=null;function tr(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(or,(function(e){var t=0|Fn(15);return("x"===e?t:3&t|8).toString(16)}))}function nr(){var e=en();return e&&e.now?e.now():He()}function ir(){for(var e,t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],n=y,i=0;i<4;i++)n+=t[15&(e=Un())]+t[e>>4&15]+t[e>>8&15]+t[e>>12&15]+t[e>>16&15]+t[e>>20&15]+t[e>>24&15]+t[e>>28&15];var r=t[8+(3&Un())|0];return n.substr(0,8)+n.substr(9,4)+"4"+n.substr(13,3)+r+n.substr(16,3)+n.substr(19,12)}var rr={_canUseCookies:void 0,isTypeof:de,isUndefined:pe,isNullOrUndefined:he,hasOwnProperty:fe,isFunction:ve,isObject:ge,isDate:Te,isArray:Ce,isError:be,isString:Ie,isNumber:Re,isBoolean:Ae,toISOString:we,arrForEach:xe,arrIndexOf:Pe,arrMap:Ne,arrReduce:De,strTrim:Me,objCreate:f,objKeys:Be,objDefineAccessors:qe,addEventHandler:Ki,dateNow:He,isIE:sn,disableCookies:lr,newGuid:tr,perfNow:nr,newId:Hn,randomValue:Fn,random32:Un,mwcRandomSeed:jn,mwcRandom32:zn,generateW3CId:ir},or=/[xy]/g,sr={Attach:Wi,AttachEvent:Wi,Detach:$i,DetachEvent:$i};function ar(e,t){var n=di(e,t),i=rr._canUseCookies;return null===er&&(er=[],Zi=i,qe(rr,"_canUseCookies",(function(){return Zi}),(function(e){Zi=e,xe(er,(function(t){t.setEnabled(e)}))}))),-1===Pe(er,n)&&er.push(n),Ae(i)&&n.setEnabled(i),Ae(Zi)&&n.setEnabled(Zi),n}function lr(){ar().setEnabled(!1)}var cr=/^([\da-f]{2})-([\da-f]{32})-([\da-f]{16})-([\da-f]{2})(-[^\s]*)?$/,ur="00",dr="ff",pr="00000000000000000000000000000000",hr="0000000000000000";function mr(e,t,n){return!(!e||e.length!==t||e===n||!e.match(/^[\da-f]*$/))}function fr(e,t,n){return mr(e,t)?e:n}function gr(e){(isNaN(e)||e<0||e>255)&&(e=1);for(var t=e.toString(16);t.length<2;)t="0"+t;return t}function vr(e){if(!e||(Ce(e)&&(e=e[0]||""),!e||!Ie(e)||e.length>8192))return null;var t=cr.exec(Me(e));return t&&t[1]!==dr&&t[2]!==pr&&t[3]!==hr?{version:t[1],traceId:t[2],spanId:t[3],traceFlags:parseInt(t[4],16)}:null}function _r(e){return mr(e,32,pr)}function yr(e){return mr(e,16,hr)}function Sr(e){return!!(e&&mr(e.version,2,dr)&&mr(e.traceId,32,pr)&&mr(e.spanId,16,hr)&&mr(gr(e.traceFlags),2))}var Er=Yn("plugin");function Tr(e){return Er.get(e,"state",{},!0)}function Cr(e,t){for(var n,i=[],r=null,o=e.getNext();o;){var s=o.getPlugin();s&&(r&&ve(r[T])&&ve(s[S])&&r[T](s),(ve(s[C])?s[C]():(n=Tr(s))[C])||i.push(s),r=s,o=o.getNext())}xe(i,(function(i){var r=e.core();i.initialize(e.getCfg(),r,t,e.getNext()),n=Tr(i),!i[I]&&!n[I]&&(n[I]=r),n[C]=!0,delete n[b]}))}function br(e){return e.sort((function(e,t){var n=0;if(t){var i=ve(t[S]);ve(e[S])?n=i?e[E]-t[E]:1:i&&(n=-1)}else n=e?1:-1;return n}))}var Ir="_hasRun",Rr="_getTelCtx",Ar=0;function Or(e,t,n,i){var r=null,o=[];null!==i&&(r=i?function(e,t,n){for(;e;){if(e.getPlugin()===n)return e;e=e.getNext()}return Nr([n],t.config||{},t)}(e,n,i):e);var s={_next:function(){var e=r;if(r=e?e.getNext():null,!e){var t=o;t&&t.length>0&&(xe(t,(function(e){try{e.func.call(e.self,e.args)}catch(e){bn(n.logger,2,73,"Unexpected Exception during onComplete - "+an(e))}})),o=[])}return e},ctx:{core:function(){return n},diagLog:function(){return En(n,t)},getCfg:function(){return t},getExtCfg:a,getConfig:function(e,n,i){void 0===i&&(i=!1);var r,o=a(e,null);return o&&!he(o[n])?r=o[n]:t&&!he(t[n])&&(r=t[n]),he(r)?i:r},hasNext:function(){return!!r},getNext:function(){return r},setNext:function(e){r=e},iterate:function(e){for(var t;t=s._next();){var n=t.getPlugin();n&&e(n)}},onComplete:function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];e&&o.push({func:e,self:pe(t)?s.ctx:t,args:n})}}};function a(e,n,i){var r;if(void 0===n&&(n={}),void 0===i&&(i=0),t){var o=t.extensionConfig;o&&e&&(r=o[e])}if(r){if(ge(n)&&0!==i){var s=Ze(!0,n,r);t&&2===i&&ye(n,(function(e){if(he(s[e])){var n=t[e];he(n)||(s[e]=n)}})),r=s}}else r=n;return r}return s}function wr(e,t,n,i){var r=Or(e,t,n,i),o=r.ctx;return o.processNext=function(e){var t=r._next();return t&&t.processTelemetry(e,o),!t},o.createNew=function(e,i){return void 0===e&&(e=null),Ce(e)&&(e=Nr(e,t,n,i)),wr(e||o.getNext(),t,n,i)},o}function xr(e,t,n){var i=t.config||{},r=Or(e,i,t,n),o=r.ctx;return o.processNext=function(e){var t=r._next();return t&&t.unload(o,e),!t},o.createNew=function(e,n){return void 0===e&&(e=null),Ce(e)&&(e=Nr(e,i,t,n)),xr(e||o.getNext(),t,n)},o}function Pr(e,t,n){var i=t.config||{},r=Or(e,i,t,n).ctx;return r.processNext=function(e){return r.iterate((function(t){ve(t.update)&&t.update(r,e)}))},r.createNew=function(e,n){return void 0===e&&(e=null),Ce(e)&&(e=Nr(e,i,t,n)),Pr(e||r.getNext(),t,n)},r}function Nr(e,t,n,i){var r=null,o=!i;if(Ce(e)&&e.length>0){var s=null;xe(e,(function(e){if(!o&&i===e&&(o=!0),o&&e&&ve(e.processTelemetry)){var a=function(e,t,n){var i,r=null,o=ve(e.processTelemetry),s=ve(e.setNextPlugin),a={getPlugin:function(){return e},getNext:function(){return r},processTelemetry:function(i,c){l(c=c||function(){var i;return e&&ve(e[Rr])&&(i=e[Rr]()),i||(i=wr(a,t,n)),i}(),(function(t){if(!e||!o)return!1;var n=Tr(e);return!n.teardown&&!n[A]&&(s&&e.setNextPlugin(r),e.processTelemetry(i,t),!0)}),"processTelemetry",(function(){return{item:i}}),!i.sync)||c.processNext(i)},unload:function(t,n){l(t,(function(){var i=!1;if(e){var r=Tr(e),o=e[I]||r.core;e&&(!o||o===t[I]())&&!r[b]&&(r[I]=null,r[b]=!0,r[C]=!1,e[b]&&!0===e[b](t,n)&&(i=!0))}return i}),"unload",(function(){}),n.isAsync)||t.processNext(n)},update:function(t,n){l(t,(function(){var i=!1;if(e){var r=Tr(e),o=e[I]||r.core;e&&(!o||o===t[I]())&&!r[b]&&e[R]&&!0===e[R](t,n)&&(i=!0)}return i}),"update",(function(){}),!1)||t.processNext(n)},_id:i=e?e.identifier+"-"+e.priority+"-"+Ar++:"Unknown-0-"+Ar++,_setNext:function(e){r=e}};function l(t,n,o,s,a){var l=!1,c=e?e.identifier:"TelemetryPluginChain",u=t[Ir];return u||(u=t[Ir]={}),t.setNext(r),e&&xn(t[I](),(function(){return c+":"+o}),(function(){u[i]=!0;try{var e=r?r._id:y;e&&(u[e]=!1),l=n(t)}catch(e){var s=!r||u[r._id];s&&(l=!0),(!r||!s)&&bn(t.diagLog(),1,73,"Plugin ["+c+"] failed during "+o+" - "+an(e)+", run flags: "+an(u))}}),s,a),l}return je(a)}(e,t,n);r||(r=a),s&&s._setNext(a),s=a}}))}return i&&!r?Nr([i],t,n):r}var Dr="extensionConfig",Mr=500;function kr(e,t,n,i){t&&Ce(t)&&t.length>0&&(xe(t=t.sort((function(e,t){return e.priority-t.priority})),(function(e){e.priority<Mr&&Xe("Channel has invalid priority - "+e.identifier)})),e.push({queue:je(t),chain:Nr(t,n,i)}))}function Lr(){var e=[];return{add:function(t){t&&e.push(t)},run:function(t,n){xe(e,(function(e){try{e(t,n)}catch(e){bn(t.diagLog(),2,73,"Unexpected error calling unload handler - "+an(e))}})),e=[]}}}var Br="getPlugin",qr=function e(){var t,n,i,r,o,s=this;function a(e){void 0===e&&(e=null);var t=e;if(!t){var r=n||wr(null,{},s.core);t=i&&i[Br]?r.createNew(null,i[Br]):r.createNew(null,i)}return t}function l(e,t,r){e&&Ge(e,Dr,[],null,he),!r&&t&&(r=t.getProcessTelContext().getNext());var o=i;i&&i[Br]&&(o=i[Br]()),s.core=t,n=wr(r,e,t,o)}function c(){t=!1,s.core=null,n=null,i=null,o=[],r=Lr()}c(),Nt(e,s,(function(e){e.initialize=function(e,n,i,r){l(e,n,r),t=!0},e.teardown=function(t,n){var s=e.core;if(s&&(!t||s===t.core())){var a,l=!1,u=t||xr(null,s,i&&i[Br]?i[Br]():i),d=n||{reason:0,isAsync:!1};return e[O]&&!0===e[O](u,d,p)?a=!0:p(),a}function p(){l||(l=!0,r.run(u,n),xe(o,(function(e){e.rm()})),o=[],!0===a&&u.processNext(d),c())}},e.update=function(t,n){var r=e.core;if(r&&(!t||r===t.core())){var o,s=!1,a=t||Pr(null,r,i&&i[Br]?i[Br]():i),c=n||{reason:0};return e._doUpdate&&!0===e._doUpdate(a,c,u)?o=!0:u(),o}function u(){s||(s=!0,l(a.getCfg(),a.core(),a.getNext()))}},e._addHook=function(e){e&&(Ce(e)?o=o.concat(e):o.push(e))},Qe(e,"_addUnloadCb",(function(){return r}),"add")})),s.diagLog=function(e){return a(e).diagLog()},s[C]=function(){return t},s.setInitialized=function(e){t=e},s[T]=function(e){i=e},s.processNext=function(e,t){t?t.processNext(e):i&&ve(i.processTelemetry)&&i.processTelemetry(e,null)},s._getTelCtx=a},Fr=function(e){function t(){var n,i,r=e.call(this)||this;function o(){n=0,i=[]}return r.identifier="TelemetryInitializerPlugin",r.priority=199,o(),Nt(t,r,(function(e,t){e.addTelemetryInitializer=function(e){var t={id:n++,fn:e};return i.push(t),{remove:function(){xe(i,(function(e,n){if(e.id===t.id)return i.splice(n,1),-1}))}}},e.processTelemetry=function(t,n){for(var r=!1,o=i.length,s=0;s<o;++s){var a=i[s];if(a)try{if(!1===a.fn.apply(null,[t])){r=!0;break}}catch(e){bn(n.diagLog(),1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+Ve(e),{exception:an(e)},!0)}}r||e.processNext(t,n)},e[O]=function(){o()}})),r}return v(t,e),t}(qr),Ur="Plugins must provide initialize method",jr="_notificationManager",zr="SDK is still unloading...",Hr={loggingLevelConsole:1};function Vr(e,t){return new On(t)}function Gr(e,t){var n=!1;return xe(t,(function(t){if(t===e)return n=!0,-1})),n}var Wr=function e(){var t,n,i,r,o,s,a,l,c,u,d,p,h,m,g,v,y,S,E,T=0;Nt(e,this,(function(e){function C(){t=!1,e.config=Ze(!0,{},Hr),e.logger=new Tn(e.config),e._extensions=[],m=new Fr,n=[],i=null,r=null,o=null,s=null,a=null,c=null,l=[],u=null,d=null,p=null,h=!1,g=null,v=Xn("AIBaseCore",!0),y=Lr(),E=null}function I(){return wr(N(),e.config,e)}function R(t,n){var i=function(e,t,n){var i=[],r={};return xe(n,(function(t){(he(t)||he(t.initialize))&&Xe(Ur);var n=t.priority,o=t.identifier;t&&n&&(he(r[n])?r[n]=o:In(e,"Two extensions have same priority #"+n+" - "+r[n]+", "+o)),(!n||n<500)&&i.push(t)})),{all:n,core:i}}(e.logger,0,l);c=i.core,a=null;var r=i.all;if(p=je(function(e,t,n,i){var r=[];if(e&&xe(e,(function(e){return kr(r,e,n,i)})),t){var o=[];xe(t,(function(e){e.priority>Mr&&o.push(e)})),kr(r,o,n,i)}return r}(d,r,t,e)),u){var o=Pe(r,u);-1!==o&&r.splice(o,1),-1!==(o=Pe(c,u))&&c.splice(o,1),u._setQueue(p)}else u=function(e,t){var n;function i(){return wr(null,t.config,t,null)}function r(e,t,n,i){var r=e?e.length+1:1;function o(){0==--r&&(i&&i(),i=null)}r>0&&xe(e,(function(e){if(e&&e.queue.length>0){var i=e.chain,s=t.createNew(i);s.onComplete(o),n(s)}else r--})),o()}var o=!1;return(n={identifier:"ChannelControllerPlugin",priority:Mr,initialize:function(t,n,i,r){o=!0,xe(e,(function(e){e&&e.queue.length>0&&Cr(wr(e.chain,t,n),i)}))},isInitialized:function(){return o},processTelemetry:function(t,n){r(e,n||i(),(function(e){e[w](t)}),(function(){n[w](t)}))},update:function(t,n){var i=n||{reason:0};return r(e,t,(function(e){e[w](i)}),(function(){t[w](i)})),!0}})[P]=function(){r(e,i(),(function(e){e.iterate((function(e){e[P]&&e[P]()}))}),null)},n[x]=function(){r(e,i(),(function(e){e.iterate((function(e){e[x]&&e[x]()}))}),null)},n[b]=function(t,n){var i=n||{reason:0,isAsync:!1};return r(e,t,(function(e){e[w](i)}),(function(){t[w](i),o=!1})),!0},n.getChannel=function(t){var n=null;return e&&e.length>0&&xe(e,(function(e){if(e&&e.queue.length>0&&(xe(e.queue,(function(e){if(e.identifier===t)return n=e,-1})),n))return-1})),n},n.flush=function(t,n,o,s){var a=1,l=!1,c=null;function u(){a--,l&&0===a&&(c&&(clearTimeout(c),c=null),n&&n(l),n=null)}return s=s||5e3,r(e,i(),(function(e){e.iterate((function(e){if(e.flush){a++;var n=!1;e.flush(t,(function(){n=!0,u()}),o)||n||(t&&null==c?c=setTimeout((function(){c=null,u()}),s):u())}}))}),(function(){l=!0,u()})),!0},n._setQueue=function(t){e=t},n}(p,e);r.push(u),c.push(u),e._extensions=br(r),u.initialize(t,e,r),Cr(I(),r),e._extensions=je(br(c||[])).slice(),n&&function(t){var n=Pr(N(),e);(!e._updateHook||!0!==e._updateHook(n,t))&&n.processNext(t)}(n)}function O(t){var n=null,i=null;return xe(e._extensions,(function(e){if(e.identifier===t&&e!==u&&e!==m)return i=e,-1})),!i&&u&&(i=u.getChannel(t)),i&&(n={plugin:i,setEnabled:function(e){Tr(i)[A]=!e},isEnabled:function(){var e=Tr(i);return!e[b]&&!e[A]},remove:function(t,n){void 0===t&&(t=!0);var r=[i];q(r,{reason:1,isAsync:t},(function(t){t&&R(e.config,{reason:32,removed:r}),n&&n(t)}))}}),n}function N(){if(!a){var t=(c||[]).slice();-1===Pe(t,m)&&t.push(m),a=Nr(br(t),e.config,e)}return a}function q(t,n,i){if(t&&t.length>0){var r=xr(Nr(t,e.config,e),e);r.onComplete((function(){var e=!1,n=[];xe(l,(function(i,r){Gr(i,t)?e=!0:n.push(i)})),l=n;var r=[];d&&(xe(d,(function(n,i){var o=[];xe(n,(function(n){Gr(n,t)?e=!0:o.push(n)})),r.push(o)})),d=r),i&&i(e)})),r.processNext(n)}else i(!1)}function F(){var t=e.logger?e.logger.queue:[];t&&(xe(t,(function(t){var n={name:g||"InternalMessageId: "+t.messageId,iKey:e.config.instrumentationKey,time:we(new Date),baseType:Sn.dataType,baseData:{message:t.message}};e.track(n)})),t.length=0)}function U(e,t,n,i){return u?u.flush(e,t,n||6,i):(t&&t(!1),!0)}function j(t){var n=e.logger;n?bn(n,2,73,t):Xe(t)}C(),e.isInitialized=function(){return t},e.initialize=function(n,r,s,a){h&&Xe(zr),e.isInitialized()&&Xe("Core should not be initialized more than once"),(!n||he(n.instrumentationKey))&&Xe("Please provide instrumentation key"),i=a,e[jr]=a,e.config=n||{},function(e){!0===e.disableDbgExt&&S&&(i[M](S),S=null),i&&!S&&!0!==e.disableDbgExt&&(S=vn(e),i[D](S))}(n),function(t){!t.enablePerfMgr&&o&&(o=null),t.enablePerfMgr&&Ge(e.config,"createPerfMgr",Vr)}(n),n.extensions=he(n.extensions)?[]:n.extensions,function(e){We(e,Dr).NotificationManager=i}(n),s&&(e.logger=s),(l=[]).push.apply(l,_(_([],r),n.extensions)),d=(n||{}).channels,R(n,null),(!p||0===p.length)&&Xe("No channels available"),t=!0,e.releaseQueue()},e.getTransmissionControls=function(){var e=[];return p&&xe(p,(function(t){e.push(t.queue)})),je(e)},e.track=function(t){Ge(t,"iKey",e.config.instrumentationKey,null,$e),Ge(t,"time",we(new Date),null,$e),Ge(t,"ver","4.0",null,he),!h&&e.isInitialized()?I().processNext(t):n.push(t)},e.getProcessTelContext=I,e.getNotifyMgr=function(){return i||(i=function(){var e;return f(((e={})[D]=function(e){},e[M]=function(e){},e[k]=function(e){},e[L]=function(e,t){},e[B]=function(e,t){},e))}(),e[jr]=i),i},e[D]=function(e){i&&i[D](e)},e[M]=function(e){i&&i[M](e)},e.getCookieMgr=function(){return s||(s=hi(e.config,e.logger)),s},e.setCookieMgr=function(e){s=e},e.getPerfMgr=function(){return!r&&!o&&e.config&&e.config.enablePerfMgr&&ve(e.config.createPerfMgr)&&(o=e.config.createPerfMgr(e,e.getNotifyMgr())),r||o||Pn()},e.setPerfMgr=function(e){r=e},e.eventCnt=function(){return n.length},e.releaseQueue=function(){if(t&&n.length>0){var e=n;n=[],xe(e,(function(e){I().processNext(e)}))}},e.pollInternalLogs=function(t){g=t||null;var n=e.config.diagnosticLogInterval;return(!n||!(n>0))&&(n=1e4),T&&clearInterval(T),T=setInterval((function(){F()}),n)},e.stopPollingInternalLogs=function(){T&&(clearInterval(T),T=0,F())},Je(e,(function(){return m}),["addTelemetryInitializer"]),e.unload=function(n,i,r){void 0===n&&(n=!0),t||Xe("SDK is not initialized"),h&&Xe(zr);var o={reason:50,isAsync:n,flushComplete:!1},s=xr(N(),e);function a(t){o.flushComplete=t,h=!0,y.run(s,o),e.stopPollingInternalLogs(),s.processNext(o)}s.onComplete((function(){C(),i&&i(o)}),e),U(n,a,6,r)||a(!1)},e.getPlugin=O,e.addPlugin=function(t,n,i,r){if(!t)return r&&r(!1),void j(Ur);var o=O(t.identifier);if(o&&!n)return r&&r(!1),void j("Plugin ["+t.identifier+"] is already loaded!");var s={reason:16};function a(n){l.push(t),s.added=[t],R(e.config,s),r&&r(!0)}if(o){var c=[o.plugin];q(c,{reason:2,isAsync:!!i},(function(e){e?(s.removed=c,s.reason|=32,a()):r&&r(!1)}))}else a()},e.evtNamespace=function(){return v},e.flush=U,e.getTraceCtx=function(e){return E||(E=function(e){var t={};return{getName:function(){return t.name},setName:function(e){t.name=e},getTraceId:function(){return t.traceId},setTraceId:function(e){_r(e)&&(t.traceId=e)},getSpanId:function(){return t.spanId},setSpanId:function(e){yr(e)&&(t.spanId=e)},getTraceFlags:function(){return t.traceFlags},setTraceFlags:function(e){t.traceFlags=e}}}()),E},e.setTraceCtx=function(e){E=e||null},Qe(e,"addUnloadCb",(function(){return y}),"add")}))};function $r(e,t,n,i){xe(e,(function(e){if(e&&e[t])if(n)setTimeout((function(){return i(e)}),0);else try{i(e)}catch{}}))}var Kr=function e(t){this.listeners=[];var n=!!(t||{}).perfEvtsSendAll;Nt(e,this,(function(e){e[D]=function(t){e.listeners.push(t)},e[M]=function(t){for(var n=Pe(e.listeners,t);n>-1;)e.listeners.splice(n,1),n=Pe(e.listeners,t)},e[k]=function(t){$r(e.listeners,k,!0,(function(e){e[k](t)}))},e[L]=function(t,n){$r(e.listeners,L,!0,(function(e){e[L](t,n)}))},e[B]=function(t,n){$r(e.listeners,B,n,(function(e){e[B](t,n)}))},e[q]=function(t){t&&(n||!t.isChildEvt())&&$r(e.listeners,q,!1,(function(e){t.isAsync?setTimeout((function(){return e[q](t)}),0):e[q](t)}))}}))},Xr=function(e){function t(){var n=e.call(this)||this;return Nt(t,n,(function(e,t){function n(t){var n=e.getNotifyMgr();n&&n.eventsDiscarded([t],2)}e.initialize=function(e,n,i,r){t.initialize(e,n,i||new Tn(e),r||new Kr(e))},e.track=function(i){xn(e.getPerfMgr(),(function(){return"AppInsightsCore:track"}),(function(){null===i&&(n(i),Xe("Invalid telemetry item")),function(e){he(e.name)&&(n(e),Xe("telemetry name required"))}(i),t.track(i)}),(function(){return{item:i}}),!i.sync)}})),n}return v(t,e),t}(Wr),Yr=et({CRITICAL:1,WARNING:2}),Qr=et({BrowserDoesNotSupportLocalStorage:0,BrowserCannotReadLocalStorage:1,BrowserCannotReadSessionStorage:2,BrowserCannotWriteLocalStorage:3,BrowserCannotWriteSessionStorage:4,BrowserFailedRemovalFromLocalStorage:5,BrowserFailedRemovalFromSessionStorage:6,CannotSendEmptyTelemetry:7,ClientPerformanceMathError:8,ErrorParsingAISessionCookie:9,ErrorPVCalc:10,ExceptionWhileLoggingError:11,FailedAddingTelemetryToBuffer:12,FailedMonitorAjaxAbort:13,FailedMonitorAjaxDur:14,FailedMonitorAjaxOpen:15,FailedMonitorAjaxRSC:16,FailedMonitorAjaxSend:17,FailedMonitorAjaxGetCorrelationHeader:18,FailedToAddHandlerForOnBeforeUnload:19,FailedToSendQueuedTelemetry:20,FailedToReportDataLoss:21,FlushFailed:22,MessageLimitPerPVExceeded:23,MissingRequiredFieldSpecification:24,NavigationTimingNotSupported:25,OnError:26,SessionRenewalDateIsZero:27,SenderNotInitialized:28,StartTrackEventFailed:29,StopTrackEventFailed:30,StartTrackFailed:31,StopTrackFailed:32,TelemetrySampledAndNotSent:33,TrackEventFailed:34,TrackExceptionFailed:35,TrackMetricFailed:36,TrackPVFailed:37,TrackPVFailedCalc:38,TrackTraceFailed:39,TransmissionFailed:40,FailedToSetStorageBuffer:41,FailedToRestoreStorageBuffer:42,InvalidBackendResponse:43,FailedToFixDepricatedValues:44,InvalidDurationValue:45,TelemetryEnvelopeInvalid:46,CreateEnvelopeError:47,CannotSerializeObject:48,CannotSerializeObjectNonSerializable:49,CircularReferenceDetected:50,ClearAuthContextFailed:51,ExceptionTruncated:52,IllegalCharsInName:53,ItemNotInArray:54,MaxAjaxPerPVExceeded:55,MessageTruncated:56,NameTooLong:57,SampleRateOutOfRange:58,SetAuthContextFailed:59,SetAuthContextFailedAccountName:60,StringValueTooLong:61,StartCalledMoreThanOnce:62,StopCalledWithoutStart:63,TelemetryInitializerFailed:64,TrackArgumentsNotSpecified:65,UrlTooLong:66,SessionStorageBufferFull:67,CannotAccessCookie:68,IdTooLong:69,InvalidEvent:70,FailedMonitorAjaxSetRequestHeader:71,SendBrowserInfoOnUserInit:72,PluginException:73,NotificationException:74,SnippetScriptLoadFailure:99,InvalidInstrumentationKey:100,CannotParseAiBlobValue:101,InvalidContentBlob:102,TrackPageActionEventFailed:103,FailedAddingCustomDefinedRequestContext:104,InMemoryStorageBufferFull:105,InstrumentationKeyDeprecation:106}),Jr="_aiHooks",Zr=["req","rsp","hkErr","fnErr"];function eo(e,t){if(e)for(var n=0;n<e.length&&!t(e[n],n);n++);}function to(e,t,n,i,r){r>=0&&r<=2&&eo(e,(function(e,o){var s=e.cbks,a=s[Zr[r]];if(a){t.ctx=function(){return i[o]=i[o]||{}};try{a.apply(t.inst,n)}catch(e){var l=t.err;try{var c=s[Zr[2]];c&&(t.err=e,c.apply(t.inst,n))}catch{}finally{t.err=l}}}}))}function no(e,t,n){var i=null;return e&&(fe(e,t)?i=e:n&&(i=no(ue(e),t,!1))),i}function io(e,t,n,i){var r=n&&n[Jr];if(!r){var o=function(e){return function(){var t=this,n=arguments,i=e.h,r={name:e.n,inst:t,ctx:null,set:l},o=[],s=a([r],n);function a(e,t){return eo(t,(function(t){e.push(t)})),e}function l(e,t){(n=a([],n))[e]=t,s=a([r],n)}r.evt=Vt("event"),to(i,r,s,o,0);var c=e.f;if(c)try{r.rslt=c.apply(t,n)}catch(e){throw r.err=e,to(i,r,s,o,3),e}return to(i,r,s,o,1),r.rslt}}(r={i:0,n:t,f:n,h:[]});o[Jr]=r,e[t]=o}var s={id:r.i,cbks:i,rm:function(){var e=this.id;eo(r.h,(function(t,n){if(t.id===e)return r.h.splice(n,1),1}))}};return r.i++,r.h.push(s),s}function ro(e,n,i,r){if(void 0===r&&(r=!0),e&&n&&i){var o=no(e,n,r);if(o){var s=o[n];if(typeof s===t)return io(o,n,s,i)}}return null}function oo(e,t,n,i){void 0===i&&(i=!0);var r=null;return eo(t,(function(t){var o=ro(e,t,n,i);o&&(r||(r=[]),r.push(o))})),r}e.AppInsightsCore=Xr,e.BaseCore=Wr,e.BaseTelemetryPlugin=qr,e.CoreUtils=rr,e.DiagnosticLogger=Tn,e.EventHelper=sr,e.EventsDiscardedReason=tt,e.InstrumentEvent=function(e,t,n,i){if(e&&t&&n){var r=no(e,t,i)||e;if(r)return io(r,t,r[t],n)}return null},e.InstrumentFunc=ro,e.InstrumentFuncs=oo,e.InstrumentProto=function(e,t,n){return e?ro(e[r],t,n,!1):null},e.InstrumentProtos=function(e,t,n){return e?oo(e[r],t,n,!1):null},e.LoggingSeverity=Yr,e.MinChannelPriorty=100,e.NotificationManager=Kr,e.PerfEvent=An,e.PerfManager=On,e.ProcessTelemetryContext=function(e,t,n,i){var r=wr(e,t,n,i);Je(this,r,Be(r))},e.Undefined="undefined",e._InternalLogMessage=Sn,e._InternalMessageId=Qr,e.__getRegisteredEvents=function(e,t,n){var i=[],r=Li.get(e,Ii,{},!1),o=Fi(t,n);return ye(r,(function(e,t){xe(t,(function(e){(!o.type||o.type===e.evtName.type)&&(!o.ns||o.ns==o.ns)&&i.push({name:e.evtName.type+(e.evtName.ns?"."+e.evtName.ns:""),handler:e.handler})}))})),i},e._legacyCookieMgr=ar,e._logInternalMessage=function(e,t,n){Cn(e).logInternalMessage(t,n)},e._throwInternal=bn,e._warnToConsole=In,e.addEventHandler=Ki,e.addEventListeners=Qi,e.addPageHideEventListener=function e(t,n,i){var r=Hi(Pi,i),o=Yi([Ai],t,n,r);return(!n||-1===Pe(n,Ri))&&(o=Yi([Ri],(function(e){var n=Kt();t&&n&&"hidden"===n.visibilityState&&t(e)}),n,r)||o),!o&&n&&(o=e(t,null,i)),o},e.addPageShowEventListener=function e(t,n,i){var r=Hi(Ni,i),o=Yi([Oi],t,n,r);return!(o=Yi([Ri],(function(e){var n=Kt();t&&n&&"visible"===n.visibilityState&&t(e)}),n,r)||o)&&n&&(o=e(t,null,i)),o},e.addPageUnloadEventListener=function(e,t,n){return Qi([xi,wi,Ai],e,t,n)},e.areCookiesSupported=mi,e.arrForEach=xe,e.arrIndexOf=Pe,e.arrMap=Ne,e.arrReduce=De,e.attachEvent=Wi,e.canUseCookies=function(e){return ar(null,e).isEnabled()},e.createClassFromInterface=function(e){return function(){var t=this;e&&ye(e,(function(e,n){t[e]=n}))}},e.createCookieMgr=hi,e.createEnumMap=function(e){var t={};return ye(e,(function(e,n){t[e]=e,t[n]=e})),Ue(t)},e.createEnumStyle=et,e.createProcessTelemetryContext=wr,e.createTraceParent=function(e,t,n,i){return{version:mr(i,2,dr)?i:ur,traceId:_r(e)?e:ir(),spanId:yr(t)?t:ir().substr(0,16),traceFlags:n>=0&&n<=255?n:1}},e.createUniqueNamespace=Xn,e.createUnloadHandlerContainer=Lr,e.createValueMap=function(e){var t={};return ye(e,(function(e,n){t[e]=n[1],t[n[0]]=n[1]})),Ue(t)},e.dateNow=He,e.deepFreeze=Ue,e.deleteCookie=function(e,t){return ar(null,e).del(t)},e.detachEvent=$i,e.disableCookies=lr,e.doPerf=xn,e.dumpObj=an,e.eventOff=Gi,e.eventOn=Vi,e.findMetaTag=un,e.findNamedServerTiming=dn,e.findW3cTraceParent=function(){var e="traceparent",t=vr(un(e));return t||(t=vr(dn(e))),t},e.formatTraceParent=function(e){if(e){var t=gr(e.traceFlags);mr(t,2)||(t="01");var n=e.version||ur;return"00"!==n&&"ff"!==n&&(n=ur),"".concat(n,"-").concat(fr(e.traceId,32,pr),"-").concat(fr(e.spanId,16,hr),"-").concat(t)}return""},e.generateW3CId=ir,e.getConsole=Zt,e.getCookie=function(e,t){return ar(null,e).get(t)},e.getCrypto=rn,e.getDebugExt=gn,e.getDebugListener=vn,e.getDocument=Kt,e.getExceptionName=Ve,e.getGblPerfMgr=Pn,e.getGlobal=h,e.getGlobalInst=Vt,e.getHistory=function(){return Qt()?history:Vt("history")},e.getIEVersion=function(e){if(void 0===e&&(e=null),!e){var t=Yt()||{};e=t?(t.userAgent||y).toLowerCase():y}var n=(e||y).toLowerCase();if(Ee(n,kt)){var i=Kt()||{};return Math.max(parseInt(n.split(kt)[1]),i.documentMode||0)}if(Ee(n,Lt)){var r=parseInt(n.split(Lt)[1]);if(r)return r+4}return null},e.getJSON=nn,e.getLocation=Jt,e.getMsCrypto=on,e.getNavigator=Yt,e.getPerformance=en,e.getSetValue=We,e.getWindow=Wt,e.hasDocument=$t,e.hasHistory=Qt,e.hasJSON=tn,e.hasNavigator=Xt,e.hasOwnProperty=fe,e.hasWindow=Gt,e.initializePlugins=Cr,e.isArray=Ce,e.isBeaconsSupported=function(){return null===zt&&(zt=Xt()&&Boolean(Yt().sendBeacon)),zt},e.isBoolean=Ae,e.isDate=Te,e.isError=be,e.isFetchSupported=function(e){var t=!1;try{t=!!Vt("fetch");var n=Vt("Request");t&&e&&n&&(t=Ht(n,"keepalive"))}catch{}return t},e.isFunction=ve,e.isIE=sn,e.isNotNullOrUndefined=me,e.isNotTruthy=$e,e.isNotUndefined=function(e){return!pe(e)},e.isNullOrUndefined=he,e.isNumber=Re,e.isObject=ge,e.isReactNative=function(){var e=Yt();return!(!e||!e.product)&&"ReactNative"===e.product},e.isSafari=function(e){if(!e||!Ie(e)){var t=Yt()||{};e=t?(t.userAgent||y).toLowerCase():y}return(e||y).toLowerCase().indexOf("safari")>=0},e.isSampledFlag=function(e){return!!Sr(e)&&1==(1&e.traceFlags)},e.isString=Ie,e.isSymbol=function(e){return"symbol"==typeof e},e.isTruthy=Ke,e.isTypeof=de,e.isUndefined=pe,e.isValidSpanId=yr,e.isValidTraceId=_r,e.isValidTraceParent=Sr,e.isXhrSupported=ln,e.mergeEvtNamespace=Hi,e.mwcRandom32=zn,e.mwcRandomSeed=jn,e.newGuid=tr,e.newId=Hn,e.normalizeJsName=_e,e.objCreate=f,e.objDefineAccessors=qe,e.objExtend=Ze,e.objForEachKey=ye,e.objFreeze=je,e.objKeys=Be,e.objSeal=ze,e.objToString=function(e){return ie.call(e)},e.optimizeObject=function(e){return e&&l&&(e=s(l({},e))),e},e.parseTraceParent=vr,e.perfNow=nr,e.proxyAssign=function(e,t,n){if(e&&t&&ge(e)&&ge(t)){var i=function(i){if(Ie(i)){var r=t[i];ve(r)?(!n||n(i,!0,t,e))&&(e[i]=Ye(t,i)):(!n||n(i,!1,t,e))&&(fe(e,i)&&delete e[i],qe(e,i,(function(){return t[i]}),(function(e){t[i]=e}))||(e[i]=r))}};for(var r in t)i(r)}return e},e.proxyFunctionAs=Qe,e.proxyFunctions=Je,e.random32=Un,e.randomValue=Fn,e.removeEventHandler=Xi,e.removeEventListeners=Ji,e.removePageHideEventListener=function(e,t){var n=Hi(Pi,t);Ji([Ai],e,n),Ji([Ri],null,n)},e.removePageShowEventListener=function(e,t){var n=Hi(Ni,t);Ji([Oi],e,n),Ji([Ri],null,n)},e.removePageUnloadEventListener=function(e,t){Ji([xi,wi,Ai],e,t)},e.safeGetCookieMgr=function(e,t){var n;if(e)n=e.getCookieMgr();else if(t){var i=t.cookieCfg;n=i[ri]?i[ri]:hi(t)}return n||(n=di(t,(e||{}).logger)),n},e.safeGetLogger=En,e.setCookie=function(e,t,n,i){ar(null,e).set(t,n,null,i)},e.setEnableEnvMocks=function(e){Ut=e},e.setGblPerfMgr=function(e){Rn=e},e.setValue=Ge,e.sortPlugins=br,e.strContains=Ee,e.strEndsWith=Se,e.strFunction=t,e.strObject=n,e.strPrototype=r,e.strStartsWith=function(e,t){var n=!1;return e&&t&&!(n=e===t)&&(n=ee?e[j](t):function(e,t){var n=!1,i=t?t.length:0;if(e&&i&&e.length>=i&&!(n=e===t)){for(var r=0;r<i;r++)if(e[r]!==t[r])return!1;n=!0}return n}(e,t)),n},e.strTrim=Me,e.strUndefined=i,e.throwError=Xe,e.toISOString=we,e.uaDisallowsSameSiteNone=Si,e.unloadComponents=function(e,t,n,i){var r=0;return function i(){for(;r<e.length;){var o=e[r++];if(o){var s=o._doUnload||o[O];if(ve(s)&&!0===s.call(o,t,n,i))return!0}}}()},e.useXDomainRequest=function(){return null===jt&&(jt=typeof XDomainRequest!==i)&&ln()&&(jt=jt&&!Ht(Vt(Bt),"withCredentials")),jt},function(e,t,n){var i=Object.defineProperty;if(i)try{return i(e,t,n)}catch{}n&&void 0!==typeof n.value&&(e[t]=n.value)}(e,"__esModule",{value:!0})},"object"==typeof n&&typeof s<"u"?a(n):(r=[t],void 0===(o="function"==typeof(i=a)?i.apply(t,r):i)||(e.exports=o))})),I=S(((r,s)=>{var a;a=function(){"use strict";var e="constructor",t="prototype",n="function",i="_dynInstFuncs",r="_isDynProxy",o="_dynClass",s="_dynInstChk",a=s,l="_dfOpts",c="_unknown_",u="__proto__",d="_dyn"+u,p="_dynInstProto",h="useBaseInst",m="setInstFuncs",f=Object,g=f.getPrototypeOf,v=f.getOwnPropertyNames,_=0;function y(e,n){return e&&f[t].hasOwnProperty.call(e,n)}function S(e){return e&&(e===f[t]||e===Array[t])}function E(e){return S(e)||e===Function[t]}function T(n){var i;if(n){if(g)return g(n);var r=n[u]||n[t]||(n[e]?n[e][t]:null);i=n[d]||r,y(n,d)||(delete n[p],i=n[d]=n[p]||n[d],n[p]=r)}return i}function C(e,t){var n=[];if(v)n=v(e);else for(var i in e)"string"==typeof i&&y(e,i)&&n.push(i);if(n&&n.length>0)for(var r=0;r<n.length;r++)t(n[r])}function b(t,i,r){return i!==e&&typeof t[i]===n&&(r||y(t,i))}function I(e){throw new TypeError("DynamicProto: "+e)}function R(e,t){for(var n=e.length-1;n>=0;n--)if(e[n]===t)return!0;return!1}function A(e,t,r,l){var c=null;if(e&&y(r,o)){var u=e[i]||{};if((c=(u[r[o]]||{})[t])||I("Missing ["+t+"] "+n),!c[s]&&!1!==u[a]){for(var d=!y(e,t),p=T(e),h=[];d&&p&&!E(p)&&!R(h,p);){var m=p[t];if(m){d=m===l;break}h.push(p),p=T(p)}try{d&&(e[t]=c),c[s]=1}catch{u[a]=!1}}}return c}function O(e,t,i){var r=t[e];return r===i&&(r=T(t)[e]),typeof r!==n&&I("["+e+"] is not a "+n),r}function w(n,i){return y(n,t)?n.name||i||c:((n||{})[e]||{}).name||i||c}function x(e,n,s,c){y(e,t)||I("theClass is an invalid class definition.");var u=e[t];(function(e,t){if(g){for(var n=[],i=T(t);i&&!E(i)&&!R(n,i);){if(i===e)return!0;n.push(i),i=T(i)}return!1}return!0})(u,n)||I("["+w(e)+"] is not in class hierarchy of ["+w(n)+"]");var d=null;y(u,o)?d=u[o]:(d="_dynCls$"+w(e,"_")+"$"+_,_++,u[o]=d);var p=x[l],f=!!p[h];f&&c&&void 0!==c[h]&&(f=!!c[h]);var v=function(e){var t={};return C(e,(function(n){!t[n]&&b(e,n,!1)&&(t[n]=e[n])})),t}(n),P=function(e,t,n,s){function l(e,t,n){var l=t[n];if(l[r]&&s){var c=e[i]||{};!1!==c[a]&&(l=(c[t[o]]||{})[n]||l)}return function(){return l.apply(e,arguments)}}var c={};C(n,(function(e){c[e]=l(t,n,e)}));for(var u=T(e),d=[];u&&!E(u)&&!R(d,u);)C(u,(function(e){!c[e]&&b(u,e,!g)&&(c[e]=l(t,u,e))})),d.push(u),u=T(u);return c}(u,n,v,f);s(n,P);var N=!!g&&!!p[m];N&&c&&(N=!!c[m]),function(e,t,n,o,s){if(!S(e)){var l=n[i]=n[i]||{},c=l[t]=l[t]||{};!1!==l[a]&&(l[a]=!!s),C(n,(function(t){b(n,t,!1)&&n[t]!==o[t]&&(c[t]=n[t],delete n[t],(!y(e,t)||e[t]&&!e[t][r])&&(e[t]=function(e,t){var n=function(){return(A(this,t,e,n)||O(t,e,n)).apply(this,arguments)};return n[r]=1,n}(e,t)))}))}}(u,d,n,v,!1!==N)}return x[l]={setInstFuncs:!0,useBaseInst:!0},x},"object"==typeof r&&typeof s<"u"?s.exports=a():void 0===(o="function"==typeof(i=a)?i.call(t,n,t,e):i)||(e.exports=o)})),R=S(((s,a)=>{var l;l=function(e,t,n,i){"use strict";var r,o,s=(o=i)&&"object"==typeof o&&"default"in o?o.default:o,a=n.createEnumStyle({NotSet:0,Pii_DistinguishedName:1,Pii_GenericData:2,Pii_IPV4Address:3,Pii_IPv6Address:4,Pii_MailSubject:5,Pii_PhoneNumber:6,Pii_QueryString:7,Pii_SipAddress:8,Pii_SmtpAddress:9,Pii_Identity:10,Pii_Uri:11,Pii_Fqdn:12,Pii_IPV4AddressLegacy:13,CustomerContent_GenericContent:32}),l=n.createEnumStyle({Normal:1,CostDeferred:2,RealTime:3,Immediate:4}),c=n.createEnumStyle({Unspecified:0,String:1,Int32:2,UInt32:3,Int64:4,UInt64:5,Double:6,Bool:7,Guid:8,DateTime:9}),u=n.createEnumStyle({Normal:1,Critical:2}),d=n.createEnumStyle({NONE:0,ERROR:1,WARNING:2,INFORMATION:3}),p=n.objFreeze(t.__assignFn(t.__assignFn({},n._InternalMessageId),n.createEnumStyle({AuthHandShakeError:501,AuthRedirectFail:502,BrowserCannotReadLocalStorage:503,BrowserCannotWriteLocalStorage:504,BrowserDoesNotSupportLocalStorage:505,CannotParseBiBlobValue:506,CannotParseDataAttribute:507,CVPluginNotAvailable:508,DroppedEvent:509,ErrorParsingAISessionCookie:510,ErrorProvidedChannels:511,FailedToGetCookies:512,FailedToInitializeCorrelationVector:513,FailedToInitializeSDK:514,InvalidContentBlob:515,InvalidCorrelationValue:516,SessionRenewalDateIsZero:517,SendPostOnCompleteFailure:518,PostResponseHandler:519,SDKNotInitialized:520}))),h="3.2.3",m="1DS-Web-JS-"+h,f="withCredentials",g=((r={})[0]=0,r[2]=6,r[1]=1,r[3]=7,r[4098]=6,r[4097]=1,r[4099]=7,r),v=null,_=Boolean(n.getDocument()),y=Boolean(n.getWindow());function S(e){return!(""===e||n.isNullOrUndefined(e))}function E(e){if(e){var t=e.indexOf("-");if(t>-1)return e.substring(0,t)}return""}function T(){return null===v&&(v=!n.isUndefined(Uint8Array)&&!function(){var e=n.getNavigator();if(!n.isUndefined(e)&&e.userAgent){var t=e.userAgent.toLowerCase();if((t.indexOf("safari")>=0||t.indexOf("firefox")>=0)&&t.indexOf("chrome")<0)return!0}return!1}()&&!n.isReactNative()),v}function C(e){return!!(e&&n.isNumber(e)&&e>=1&&e<=4)}function b(e,t,i){if(!t&&!S(t)||"string"!=typeof e)return null;var r=typeof t;if("string"===r||"number"===r||"boolean"===r||n.isArray(t))t={value:t};else if("object"!==r||t.hasOwnProperty("value")){if(n.isNullOrUndefined(t.value)||""===t.value||!n.isString(t.value)&&!n.isNumber(t.value)&&!n.isBoolean(t.value)&&!n.isArray(t.value))return null}else t={value:i?JSON.stringify(t):t};if(n.isArray(t.value)&&!k(t.value))return null;if(!n.isNullOrUndefined(t.kind)){if(n.isArray(t.value)||!M(t.kind))return null;t.value=t.value.toString()}return t}function I(e,t,i){var r=-1;if(!n.isUndefined(e))if(t>0&&(32===t?r=8192:t<=13&&(r=t<<5)),function(e){return e>=0&&e<=9}(i))-1===r&&(r=0),r|=i;else{var o=g[B(e)]||-1;-1!==r&&-1!==o?r|=o:6===o&&(r=o)}return r}function R(){n.safeGetCookieMgr(null).setEnabled(!1)}function A(e,t,i){n.areCookiesSupported(null)&&n.safeGetCookieMgr(null).set(e,t,86400*i,null,"/")}function O(e){n.areCookiesSupported(null)&&n.safeGetCookieMgr(null).del(e)}function w(e){return n.areCookiesSupported(null)?x(n.safeGetCookieMgr(null),e):""}function x(e,t,n){var i;return void 0===n&&(n=!0),e&&(i=e.get(t),n&&i&&decodeURIComponent&&(i=decodeURIComponent(i))),i||""}function P(e){void 0===e&&(e="D");var t=n.newGuid();return"B"===e?t="{"+t+"}":"P"===e?t="("+t+")":"N"===e&&(t=t.replace(/-/g,"")),t}function N(e,t,i,r,o){var s={},a=!1,l=0,c=arguments.length,u=Object[n.strPrototype],d=arguments;for("[object Boolean]"===u.toString.call(d[0])&&(a=d[0],l++);l<c;l++)e=d[l],n.objForEachKey(e,(function(e,t){a&&t&&n.isObject(t)?n.isArray(t)?(s[e]=s[e]||[],n.arrForEach(t,(function(t,i){t&&n.isObject(t)?s[e][i]=N(!0,s[e][i],t):s[e][i]=t}))):s[e]=N(!0,s[e],t):s[e]=t}));return s}var D=n.perfNow;function M(e){return 0===e||e>0&&e<=13||32===e}function k(e){return e.length>0}function L(e,t){var n=e;n.timings=n.timings||{},n.timings.processTelemetryStart=n.timings.processTelemetryStart||{},n.timings.processTelemetryStart[t]=D()}function B(e){var i=0;if(null!=e){var r=typeof e;"string"===r?i=1:"number"===r?i=2:"boolean"===r?i=3:r===t.strShimObject&&(i=4,n.isArray(e)?(i=4096,e.length>0&&(i|=B(e[0]))):n.hasOwnProperty(e,"value")&&(i=8192|B(e.value)))}return i}var q={Version:h,FullVersionString:m,strUndefined:n.strUndefined,strObject:n.strObject,Undefined:n.strUndefined,arrForEach:n.arrForEach,arrIndexOf:n.arrIndexOf,arrMap:n.arrMap,arrReduce:n.arrReduce,objKeys:n.objKeys,toISOString:n.toISOString,isReactNative:n.isReactNative,isString:n.isString,isNumber:n.isNumber,isBoolean:n.isBoolean,isFunction:n.isFunction,isArray:n.isArray,isObject:n.isObject,strTrim:n.strTrim,isDocumentObjectAvailable:_,isWindowObjectAvailable:y,isValueAssigned:S,getTenantId:E,isBeaconsSupported:n.isBeaconsSupported,isUint8ArrayAvailable:T,isLatency:C,sanitizeProperty:b,getISOString:n.toISOString,useXDomainRequest:n.useXDomainRequest,getCommonSchemaMetaData:I,cookieAvailable:n.areCookiesSupported,disallowsSameSiteNone:n.uaDisallowsSameSiteNone,setCookie:A,deleteCookie:O,getCookie:w,createGuid:P,extend:N,getTime:D,isValueKind:M,isArrayValid:k,objDefineAccessors:n.objDefineAccessors,addPageUnloadEventListener:n.addPageUnloadEventListener,setProcessTelemetryTimings:L,addEventHandler:n.addEventHandler,getFieldValueType:B,strEndsWith:n.strEndsWith,objForEachKey:n.objForEachKey},F={_canUseCookies:void 0,isTypeof:n.isTypeof,isUndefined:n.isUndefined,isNullOrUndefined:n.isNullOrUndefined,hasOwnProperty:n.hasOwnProperty,isFunction:n.isFunction,isObject:n.isObject,isDate:n.isDate,isArray:n.isArray,isError:n.isError,isString:n.isString,isNumber:n.isNumber,isBoolean:n.isBoolean,toISOString:n.toISOString,arrForEach:n.arrForEach,arrIndexOf:n.arrIndexOf,arrMap:n.arrMap,arrReduce:n.arrReduce,strTrim:n.strTrim,objCreate:t.objCreateFn,objKeys:n.objKeys,objDefineAccessors:n.objDefineAccessors,addEventHandler:n.addEventHandler,dateNow:n.dateNow,isIE:n.isIE,disableCookies:R,newGuid:n.newGuid,perfNow:n.perfNow,newId:n.newId,randomValue:n.randomValue,random32:n.random32,mwcRandomSeed:n.mwcRandomSeed,mwcRandom32:n.mwcRandom32,generateW3CId:n.generateW3CId},U="version",j="properties",z=function(e){function i(){var t=e.call(this)||this;return t.pluginVersionStringArr=[],t.pluginVersionString="",s(i,t,(function(e,t){(!e.logger||!e.logger.queue)&&(e.logger=new n.DiagnosticLogger({loggingLevelConsole:1})),e.initialize=function(i,r,o,s){n.doPerf(e,(function(){return"AppInsightsCore.initialize"}),(function(){if(i){i.endpointUrl||(i.endpointUrl="https://browser.events.data.microsoft.com/OneCollector/1.0/");var a=i.propertyStorageOverride;if(a&&(!a.getProperty||!a.setProperty))throw new Error("Invalid property storage override passed.");i.channels&&n.arrForEach(i.channels,(function(t){t&&n.arrForEach(t,(function(t){if(t.identifier&&t.version){var n=t.identifier+"="+t.version;e.pluginVersionStringArr.push(n)}}))}))}e.getWParam=function(){return typeof document<"u"?0:-1},r&&n.arrForEach(r,(function(t){if(t&&t.identifier&&t.version){var n=t.identifier+"="+t.version;e.pluginVersionStringArr.push(n)}})),e.pluginVersionString=e.pluginVersionStringArr.join(";");try{t.initialize(i,r,o,s),e.pollInternalLogs("InternalLog")}catch(t){var l=e.logger,c=n.dumpObj(t);-1!==c.indexOf("channels")&&(c+="\n - Channels must be provided through config.channels only!"),l.throwInternal(1,514,"SDK Initialization Failed - no telemetry will be sent: "+c)}}),(function(){return{config:i,extensions:r,logger:o,notificationManager:s}}))},e.track=function(i){n.doPerf(e,(function(){return"AppInsightsCore.track"}),(function(){var n=i;if(n){n.timings=n.timings||{},n.timings.trackStart=D(),C(n.latency)||(n.latency=1);var r=n.ext=n.ext||{};r.sdk=r.sdk||{},r.sdk.ver=m;var o=n.baseData=n.baseData||{};o[j]||(o[j]={});var s=o[j];s[U]||(s[U]=""),""!==e.pluginVersionString&&(s[U]=e.pluginVersionString)}t.track(n)}),(function(){return{item:i}}),!i.sync)}})),t}return t.__extendsFn(i,e),i}(n.AppInsightsCore),H=function(e){function i(){var t=e.call(this)||this;return s(i,t,(function(e,t){e.initialize=function(i,r,o,s){i&&!i.endpointUrl&&(i.endpointUrl="https://browser.events.data.microsoft.com/OneCollector/1.0/"),e.getWParam=function(){return _?0:-1};try{t.initialize(i,r,o,s)}catch(t){n._throwInternal(e.logger,1,514,"Initialization Failed: "+n.dumpObj(t)+"\n - Note: Channels must be provided through config.channels only")}},e.track=function(e){var n=e;if(n){var i=n.ext=n.ext||{};i.sdk=i.sdk||{},i.sdk.ver=m}t.track(n)}})),t}return t.__extendsFn(i,e),i}(n.BaseCore),V=n.isFunction;function G(e,t,n){return function(i){e[t]=i,n()}}var W=function(){function e(t){var n=0,i=null,r=[];function o(){if(r.length>0){var e=r.slice();r=[],setTimeout((function(){for(var t=0,n=e.length;t<n;++t)try{e[t]()}catch{}}),0)}}function a(e){0===n&&(i=e,n=1,o())}function l(e){0===n&&(i=e,n=2,o())}s(e,this,(function(t){t.then=function(t,s){return new e((function(a,l){!function(t,s,a,l){r.push((function(){var r;try{(r=1===n?V(t)?t(i):i:V(s)?s(i):i)instanceof e?r.then(a,l):2!==n||V(s)?a(r):l(r)}catch(e){return void l(e)}})),0!==n&&o()}(t,s,a,l)}))},t.catch=function(e){return t.then(null,e)}})),function(){if(!V(t))throw new TypeError("ESPromise: resolvedFunc argument is not a Function");try{t(a,l)}catch(e){l(e)}}()}return e.resolve=function(t){return t instanceof e?t:t&&V(t.then)?new e((function(e,n){try{t.then(e,n)}catch(e){n(e)}})):new e((function(e){e(t)}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.all=function(t){if(t&&t.length)return new e((function(e,n){try{for(var i=[],r=0,o=0;o<t.length;o++){var s=t[o];s&&V(s.then)?(r++,s.then(G(i,o,(function(){0==--r&&e(i)})),n)):i[o]=s}0===r&&setTimeout((function(){e(i)}),0)}catch(e){n(e)}}))},e.race=function(t){return new e((function(e,n){if(t&&t.length)try{for(var i=function(i){var r=t[i];r&&V(r.then)?r.then(e,n):setTimeout((function(){e(r)}),0)},r=0;r<t.length;r++)i(r)}catch(e){n(e)}}))},e}(),$=0,K=[],X=[],Y=[];function Q(){return(new Date).getTime()}var J=function(){function e(t,i){var r=0,o=(t||"<unnamed>")+"."+$;function a(e){var t=n.getGlobal();t&&t.QUnit&&console&&console.log("ESPromiseScheduler["+o+"] "+e)}function l(e){i&&i.warnToConsole("ESPromiseScheduler["+o+"] "+e)}$++,s(e,this,(function(e){var t=null,n=0;function i(e,t){for(var n=0;n<e.length;n++)if(e[n].id===t)return e.splice(n,1)[0];return null}e.scheduleEvent=function(e,s,c){var u=o+"."+n;n++,s&&(u+="-("+s+")");var d=u+"{"+r+"}";r++;var p,h,m,f={evt:null,tm:Q(),id:d,isRunning:!1,isAborted:!1};return f.evt=t?(p=f,h=t,m=new W((function(e,t){var n=Q()-h.tm,r=h.id;a("["+u+"] is waiting for ["+r+":"+n+" ms] to complete before starting -- ["+X.length+"] waiting and ["+K.length+"] running"),p.abort=function(e){p.abort=null,i(X,u),p.isAborted=!0,t(new Error(e))},h.evt.then((function(n){i(X,u),E(p).then(e,t)}),(function(n){i(X,u),E(p).then(e,t)}))})),X.push(p),m):E(f),(t=f).evt._schId=d,f.evt;function g(e){for(var t=Q(),n=t-6e5,i=e.length,r=0;r<i;){var o=e[r];if(o&&o.tm<n){var s=null;o.abort?(s="Aborting ["+o.id+"] due to Excessive runtime ("+(t-o.tm)+" ms)",o.abort(s)):s="Removing ["+o.id+"] due to Excessive runtime ("+(t-o.tm)+" ms)",l(s),e.splice(r,1),i--}else r++}}function v(e,n){var r=!1,o=i(K,e);if(o||(o=i(Y,e),r=!0),o){o.to&&(clearTimeout(o.to),o.to=null);var s=Q()-o.tm;n?r?l("Timed out event ["+e+"] finally complete -- "+s+" ms"):a("Promise ["+e+"] Complete -- "+s+" ms"):(Y.push(o),l("Event ["+e+"] Timed out and removed -- "+s+" ms"))}else a("Failed to remove ["+e+"] from running queue");t&&t.id===e&&(t=null),g(K),g(X),g(Y)}function _(e,t){return function(n){return v(e,!0),t&&t(n),n}}function y(e,t,n,i){t.then((function(t){return t instanceof W?(a("Event ["+e+"] returned a promise -- waiting"),y(e,t,n,i),t):_(e,n)(t)}),_(e,i))}function S(e,t){var n=e.id;return new W((function(i,r){a("Event ["+n+"] Starting -- waited for "+(e.wTm||"--")+" ms"),e.isRunning=!0,e.abort=function(t){e.abort=null,e.isAborted=!0,v(n,!1),r(new Error(t))};var o=t(n);o instanceof W?(c&&(e.to=setTimeout((function(){v(n,!1),r(new Error("Timed out after ["+c+"] ms"))}),c)),y(n,o,(function(t){a("Event ["+n+"] Resolving after "+(Q()-e.tm)+" ms"),i(t)}),r)):(a("Promise ["+n+"] Auto completed as the start action did not return a promise"),i())}))}function E(t){var n=Q();return t.wTm=n-t.tm,t.tm=n,t.isAborted?W.reject(new Error("["+u+"] was aborted")):(K.push(t),S(t,e))}}}))}return e.incomplete=function(){return K},e.waitingToStart=function(){return X},e}(),Z=function(){function e(e){var t=this,i={},r=[],o=[];function s(e,t){var s,a=i[e];if(a&&(s=a[t]),!s&&null!==s){if(n.isString(e)&&n.isString(t))if(o.length>0){for(var l=0;l<o.length;l++)if(o[l].handleField(e,t)){s={canHandle:!0,fieldHandler:o[l]};break}}else 0===r.length&&(s={canHandle:!0});if(!s&&null!==s)for(s=null,l=0;l<r.length;l++)if(r[l].handleField(e,t)){s={canHandle:!0,handler:r[l],fieldHandler:null};break}a||(a=i[e]={}),a[t]=s}return s}function a(e,t,i,r,o,s){if(e.handler)return e.handler.property(t,i,o,s);if(!n.isNullOrUndefined(o.kind)){if(4096==(4096&r)||!M(o.kind))return null;o.value=o.value.toString()}return c(e.fieldHandler,t,i,r,o)}function l(e,t,n){return S(n)?{value:n}:null}function c(e,i,r,o,s){if(s&&e){var a=e.getSanitizer(i,r,o,s.kind,s.propertyType);if(a)if(4===o){var u={},d=s.value;n.objForEachKey(d,(function(t,n){var o=i+"."+r;if(S(n)){var s=l(0,0,n);(s=c(e,o,t,B(n),s))&&(u[t]=s.value)}})),s.value=u}else{var p={path:i,name:r,type:o,prop:s,sanitizer:t};s=a.call(t,p)}}return s}e&&o.push(e),t.addSanitizer=function(e){e&&(r.push(e),i={})},t.addFieldSanitizer=function(e){e&&(o.push(e),i={})},t.handleField=function(e,t){var n=s(e,t);return!!n&&n.canHandle},t.value=function(e,t,i,r){var o=s(e,t);if(o&&o.canHandle){if(!o||!o.canHandle)return null;if(o.handler)return o.handler.value(e,t,i,r);if(!n.isString(t)||n.isNullOrUndefined(i)||""===i)return null;var c=null,u=B(i);if(8192==(8192&u)){var d=-8193&u;if(!S((c=i).value)||1!==d&&2!==d&&3!==d&&4096!=(4096&d))return null}else 1===u||2===u||3===u||4096==(4096&u)?c=l(0,0,i):4===u&&(c=l(0,0,r?JSON.stringify(i):i));if(c)return a(o,e,t,u,c,r)}return null},t.property=function(e,t,i,r){var o=s(e,t);if(!o||!o.canHandle||!n.isString(t)||n.isNullOrUndefined(i)||!S(i.value))return null;var l=B(i.value);return 0===l?null:a(o,e,t,l,i,r)}}return e.getFieldType=B,e}();e.BaseTelemetryPlugin=n.BaseTelemetryPlugin,e.DiagnosticLogger=n.DiagnosticLogger,e.EventHelper=n.EventHelper,e.EventsDiscardedReason=n.EventsDiscardedReason,e.InternalAppInsightsCore=n.AppInsightsCore,e.InternalBaseCore=n.BaseCore,e.LoggingSeverity=n.LoggingSeverity,e.MinChannelPriorty=n.MinChannelPriorty,e.NotificationManager=n.NotificationManager,e.PerfEvent=n.PerfEvent,e.PerfManager=n.PerfManager,e.ProcessTelemetryContext=n.ProcessTelemetryContext,e.Undefined=n.strUndefined,e._InternalLogMessage=n._InternalLogMessage,e._InternalMessageId=n._InternalMessageId,e.__getRegisteredEvents=n.__getRegisteredEvents,e._throwInternal=n._throwInternal,e.addEventHandler=n.addEventHandler,e.addEventListeners=n.addEventListeners,e.addPageHideEventListener=n.addPageHideEventListener,e.addPageShowEventListener=n.addPageShowEventListener,e.addPageUnloadEventListener=n.addPageUnloadEventListener,e.areCookiesSupported=n.areCookiesSupported,e.arrForEach=n.arrForEach,e.arrIndexOf=n.arrIndexOf,e.arrMap=n.arrMap,e.arrReduce=n.arrReduce,e.attachEvent=n.attachEvent,e.cookieAvailable=n.areCookiesSupported,e.createCookieMgr=n.createCookieMgr,e.createEnumStyle=n.createEnumStyle,e.createProcessTelemetryContext=n.createProcessTelemetryContext,e.createTraceParent=n.createTraceParent,e.createUniqueNamespace=n.createUniqueNamespace,e.createUnloadHandlerContainer=n.createUnloadHandlerContainer,e.dateNow=n.dateNow,e.detachEvent=n.detachEvent,e.disallowsSameSiteNone=n.uaDisallowsSameSiteNone,e.doPerf=n.doPerf,e.dumpObj=n.dumpObj,e.eventOff=n.eventOff,e.eventOn=n.eventOn,e.findW3cTraceParent=n.findW3cTraceParent,e.formatTraceParent=n.formatTraceParent,e.generateW3CId=n.generateW3CId,e.getConsole=n.getConsole,e.getCrypto=n.getCrypto,e.getDocument=n.getDocument,e.getExceptionName=n.getExceptionName,e.getGlobal=n.getGlobal,e.getGlobalInst=n.getGlobalInst,e.getHistory=n.getHistory,e.getIEVersion=n.getIEVersion,e.getISOString=n.toISOString,e.getJSON=n.getJSON,e.getLocation=n.getLocation,e.getMsCrypto=n.getMsCrypto,e.getNavigator=n.getNavigator,e.getPerformance=n.getPerformance,e.getSetValue=n.getSetValue,e.getWindow=n.getWindow,e.hasDocument=n.hasDocument,e.hasHistory=n.hasHistory,e.hasJSON=n.hasJSON,e.hasNavigator=n.hasNavigator,e.hasOwnProperty=n.hasOwnProperty,e.hasWindow=n.hasWindow,e.isArray=n.isArray,e.isBeaconsSupported=n.isBeaconsSupported,e.isBoolean=n.isBoolean,e.isDate=n.isDate,e.isError=n.isError,e.isFetchSupported=n.isFetchSupported,e.isFunction=n.isFunction,e.isIE=n.isIE,e.isNotTruthy=n.isNotTruthy,e.isNullOrUndefined=n.isNullOrUndefined,e.isNumber=n.isNumber,e.isObject=n.isObject,e.isReactNative=n.isReactNative,e.isSampledFlag=n.isSampledFlag,e.isString=n.isString,e.isTruthy=n.isTruthy,e.isTypeof=n.isTypeof,e.isUndefined=n.isUndefined,e.isValidSpanId=n.isValidSpanId,e.isValidTraceId=n.isValidTraceId,e.isValidTraceParent=n.isValidTraceParent,e.isXhrSupported=n.isXhrSupported,e.mergeEvtNamespace=n.mergeEvtNamespace,e.newGuid=n.newGuid,e.newId=n.newId,e.normalizeJsName=n.normalizeJsName,e.objCreate=n.objCreate,e.objDefineAccessors=n.objDefineAccessors,e.objForEachKey=n.objForEachKey,e.objFreeze=n.objFreeze,e.objKeys=n.objKeys,e.objSeal=n.objSeal,e.optimizeObject=n.optimizeObject,e.parseTraceParent=n.parseTraceParent,e.perfNow=n.perfNow,e.proxyAssign=n.proxyAssign,e.proxyFunctionAs=n.proxyFunctionAs,e.proxyFunctions=n.proxyFunctions,e.random32=n.random32,e.randomValue=n.randomValue,e.removeEventHandler=n.removeEventHandler,e.removeEventListeners=n.removeEventListeners,e.removePageHideEventListener=n.removePageHideEventListener,e.removePageShowEventListener=n.removePageShowEventListener,e.removePageUnloadEventListener=n.removePageUnloadEventListener,e.safeGetCookieMgr=n.safeGetCookieMgr,e.safeGetLogger=n.safeGetLogger,e.setEnableEnvMocks=n.setEnableEnvMocks,e.setValue=n.setValue,e.strContains=n.strContains,e.strEndsWith=n.strEndsWith,e.strFunction=n.strFunction,e.strObject=n.strObject,e.strPrototype=n.strPrototype,e.strStartsWith=n.strStartsWith,e.strTrim=n.strTrim,e.strUndefined=n.strUndefined,e.throwError=n.throwError,e.toISOString=n.toISOString,e.useXDomainRequest=n.useXDomainRequest,e.AppInsightsCore=z,e.BaseCore=H,e.CoreUtils=F,e.ESPromise=W,e.ESPromiseScheduler=J,e.EventLatency=l,e.EventPersistence=u,e.EventPropertyType=c,e.FullVersionString=m,e.TraceLevel=d,e.Utils=q,e.ValueKind=a,e.ValueSanitizer=Z,e.Version=h,e._ExtendedInternalMessageId=p,e.createGuid=P,e.deleteCookie=O,e.disableCookies=R,e.extend=N,e.getCommonSchemaMetaData=I,e.getCookie=w,e.getCookieValue=x,e.getFieldValueType=B,e.getTenantId=E,e.getTime=D,e.isArrayValid=k,e.isChromium=function(){return!!n.getGlobalInst("chrome")},e.isDocumentObjectAvailable=_,e.isLatency=C,e.isUint8ArrayAvailable=T,e.isValueAssigned=S,e.isValueKind=M,e.isWindowObjectAvailable=y,e.openXhr=function(e,t,n,i,r,o){function s(e,t,n){try{e[t]=n}catch{}}void 0===i&&(i=!1),void 0===r&&(r=!1);var a=new XMLHttpRequest;return i&&s(a,"Microsoft_ApplicationInsights_BypassAjaxInstrumentation",i),n&&s(a,f,n),a.open(e,t,!r),n&&s(a,f,n),!r&&o&&s(a,"timeout",o),a},e.sanitizeProperty=b,e.setCookie=A,e.setProcessTelemetryTimings=L,function(e,t,n){var i=Object.defineProperty;if(i)try{return i(e,t,n)}catch{}n&&void 0!==typeof n.value&&(e[t]=n.value)}(e,"__esModule",{value:!0})},"object"==typeof s&&typeof a<"u"?l(s,C(),b(),I()):(r=[t,n(8630),n(4090),n(2016)],void 0===(o="function"==typeof(i=l)?i.apply(t,r):i)||(e.exports=o))})),A=S(((n,s)=>{var a;a=function(e){"use strict";var t="function",n="object",i="undefined",r="prototype",o="hasOwnProperty",s="default",a=Object,l=a[r],c=a.assign,u=a.create,d=a.defineProperty,p=l[o],h=null;function m(e){return void 0===e&&(e=!0),(!h||!e)&&(typeof globalThis!==i&&globalThis&&(h=globalThis),typeof self!==i&&self&&(h=self),typeof window!==i&&window&&(h=window),typeof global!==i&&global&&(h=global)),h}function f(e){throw new TypeError(e)}function g(e){if(u)return u(e);if(null==e)return{};var i=typeof e;function o(){}return i!==n&&i!==t&&f("Object prototype may only be an Object:"+e),o[r]=e,new o}var v=(m()||{}).Symbol,_=(m()||{}).Reflect,y=!!_,S="decorate",E="metadata",T="getOwnPropertySymbols",C="iterator",b=c||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])l[o].call(t,r)&&(e[r]=t[r]);return e},I=function(e,t){return(I=a.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t[o](n)&&(e[n]=t[n])})(e,t)};function R(e,n){function i(){this.constructor=e}typeof n!==t&&null!==n&&f("Class extends value "+String(n)+" is not a constructor or null"),I(e,n),e[r]=null===n?g(n):(i[r]=n[r],new i)}function A(e,t,n,i){void 0===i&&(i=n),u?d(e,i,{enumerable:!0,get:function(){return t[n]}}):e[i]=t[n]}e.ObjAssign=c,e.ObjClass=a,e.ObjCreate=u,e.ObjDefineProperty=d,e.ObjHasOwnProperty=p,e.ObjProto=l,e.__assignFn=b,e.__createBindingFn=A,e.__decorateFn=function(e,n,i,r){var o,s=arguments.length,l=s<3?n:null===r?r=a.getOwnPropertyDescriptor(n,i):r;if(y&&typeof _[S]===t)l=_[S](e,n,i,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(l=(s<3?o(l):s>3?o(n,i,l):o(n,i))||l);return s>3&&l&&d(n,i,l),l},e.__exportStarFn=function(e,t){for(var n in e)n!==s&&!p.call(t,n)&&A(t,e,n)},e.__exposeGlobalTsLib=function(){var e,t,n,i,r=m()||{};t=b,n=R,i=A,(e=r).__assign||(e.__assign=c||t),e.__extends||(e.__extends=n),e.__createBinding||(e.__createBinding=i),__assign||(__assign=r.__assign),__extends||(__extends=r.__extends),__createBinding||(__createBinding=r.__createBinding)},e.__extendsFn=R,e.__importDefaultFn=function(e){return e&&e.__esModule?e:{strDefault:e}},e.__importStarFn=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)n!==s&&Object.prototype.hasOwnProperty.call(e,n)&&A(t,e,n);return u?d(t,s,{enumerable:!0,value:e}):t[s]=e,t},e.__makeTemplateObjectFn=function(e,t){return d?d(e,"raw",{value:t}):e.raw=t,e},e.__metadataFn=function(e,n){if(y&&_[E]===t)return _[E](e,n)},e.__paramFn=function(e,t){return function(n,i){t(n,i,e)}},e.__readFn=function(e,n){var i=typeof v===t&&e[v[C]];if(!i)return e;var r,o,s=i.call(e),a=[];try{for(;(void 0===n||n-- >0)&&!(r=s.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(i=s.return)&&i.call(s)}finally{if(o)throw o.error}}return a},e.__restFn=function(e,n){var i={};for(var r in e)p.call(e,r)&&n.indexOf(r)<0&&(i[r]=e[r]);if(null!=e&&typeof a[T]===t)for(var o=0,s=a[T](e);o<s.length;o++)n.indexOf(s[o])<0&&l.propertyIsEnumerable.call(e,s[o])&&(i[s[o]]=e[s[o]]);return i},e.__spreadArrayFn=function(e,t){for(var n=0,i=t.length,r=e.length;n<i;n++,r++)e[r]=t[n];return e},e.__spreadArraysFn=function(){for(var e=arguments,t=0,n=0,i=e.length;n<i;n++)t+=e[n].length;var r=Array(t),o=0;for(n=0;n<i;n++)for(var s=e[n],a=0,l=s.length;a<l;a++,o++)r[o]=s[a];return r},e.__valuesFn=function(e){var n=typeof v===t&&v[C],i=n&&e[n],r=0;return i?i.call(e):e&&"number"==typeof e.length?{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}:void f(n?"Object is not iterable.":"Symbol.iterator is not defined.")},e.getGlobal=m,e.objCreateFn=g,e.strDefault=s,e.strShimFunction=t,e.strShimHasOwnProperty=o,e.strShimObject=n,e.strShimPrototype=r,e.strShimUndefined=i,e.throwTypeError=f,function(e,t,n){var i=Object.defineProperty;if(i)try{return i(e,t,n)}catch{}n&&void 0!==typeof n.value&&(e[t]=n.value)}(e,"__esModule",{value:!0})},"object"==typeof n&&typeof s<"u"?a(n):(r=[t],void 0===(o="function"==typeof(i=a)?i.apply(t,r):i)||(e.exports=o))})),O=S(((s,a)=>{var l;l=function(e,t,n,i){"use strict";var r,o=(r=n)&&"object"==typeof r&&"default"in r?r.default:r,s="REAL_TIME",a="NEAR_REAL_TIME",l="BEST_EFFORT",c="POST",u="drop",d="requeue",p="application/x-json-stream",h="cache-control",m="content-type",f="kill-duration",g="time-delta-millis",v="client-version",_="client-id",y="time-delta-to-apply-millis",S="upload-time",E="apikey",T="AuthMsaDeviceTicket",C="AuthXToken",b="msfpc";function I(e){var t=(e.ext||{}).intweb;return t&&i.isValueAssigned(t[b])?t[b]:null}function R(e){for(var t=null,n=0;null===t&&n<e.length;n++)t=I(e[n]);return t}var A=function(){function e(t,n){var r=n?[].concat(n):[],o=this,s=R(r);o.iKey=function(){return t},o.Msfpc=function(){return s||""},o.count=function(){return r.length},o.events=function(){return r},o.addEvent=function(e){return!!e&&(r.push(e),s||(s=I(e)),!0)},o.split=function(n,o){var a;if(n<r.length){var l=r.length-n;i.isNullOrUndefined(o)||(l=o<l?o:l),a=r.splice(n,l),s=R(r)}return new e(t,a)}}return e.create=function(t,n){return new e(t,n)},e}(),O=2e6,w=Math.min(O,65e3),x="metadata",P=/\./,N=function e(t,n,r,s){var a="data",l="baseData",c=!!s,u=n,d={};o(e,this,(function(e){function n(e,t,o,s,a,l,p){i.objForEachKey(e,(function(e,h){var m=null;if(h||i.isValueAssigned(h)){var f=o,g=e,v=a,_=t;if(c&&!s&&P.test(e)){var y=e.split("."),S=y.length;if(S>1){v&&(v=v.slice());for(var E=0;E<S-1;E++){var T=y[E];_=_[T]=_[T]||{},f+="."+T,v&&v.push(T)}g=y[S-1]}}var C=s&&function(e,t){var n=d[e];return void 0===n&&(e.length>=7&&(n=i.strStartsWith(e,"ext.metadata")||i.strStartsWith(e,"ext.web")),d[e]=n),n}(f);if(m=!C&&u&&u.handleField(f,g)?u.value(f,g,h,r):i.sanitizeProperty(g,h,r)){var b=m.value;if(_[g]=b,l&&l(v,g,m),p&&"object"==typeof b&&!i.isArray(b)){var I=v;I&&(I=I.slice()).push(g),n(h,b,f+"."+g,s,I,l,p)}}}}))}e.createPayload=function(e,t,n,i,r,o){return{apiKeys:[],payloadBlob:"",overflow:null,sizeExceed:[],failedEvts:[],batches:[],numEvents:0,retryCnt:e,isTeardown:t,isSync:n,isBeacon:i,sendType:o,sendReason:r}},e.appendPayload=function(n,r,o){var s=n&&r&&!n.overflow;return s&&i.doPerf(t,(function(){return"Serializer:appendPayload"}),(function(){for(var t=r.events(),s=n.payloadBlob,a=n.numEvents,l=!1,c=[],u=[],d=n.isBeacon,p=d?65e3:3984588,h=d?w:O,m=0,f=0;m<t.length;){var g=t[m];if(g){if(a>=o){n.overflow=r.split(m);break}var v=e.getEventBlob(g);if(v&&v.length<=h){var _=v.length;if(s.length+_>p){n.overflow=r.split(m);break}s&&(s+="\n"),s+=v,++f>20&&(s.substr(0,1),f=0),l=!0,a++}else v?c.push(g):u.push(g),t.splice(m,1),m--}m++}if(c&&c.length>0&&n.sizeExceed.push(A.create(r.iKey(),c)),u&&u.length>0&&n.failedEvts.push(A.create(r.iKey(),u)),l){n.batches.push(r),n.payloadBlob=s,n.numEvents=a;var y=r.iKey();-1===i.arrIndexOf(n.apiKeys,y)&&n.apiKeys.push(y)}}),(function(){return{payload:n,theBatch:{iKey:r.iKey(),evts:r.events()},max:o}})),s},e.getEventBlob=function(e){try{return i.doPerf(t,(function(){return"Serializer.getEventBlob"}),(function(){var t={};t.name=e.name,t.time=e.time,t.ver=e.ver,t.iKey="o:"+i.getTenantId(e.iKey);var r={},o=e.ext;o&&(t.ext=r,i.objForEachKey(o,(function(e,t){n(t,r[e]={},"ext."+e,!0,null,null,!0)})));var s=t[a]={};s.baseType=e.baseType;var c=s[l]={};return n(e.baseData,c,l,!1,[l],(function(e,t,n){D(r,e,t,n)}),!0),n(e.data,s,a,!1,[],(function(e,t,n){D(r,e,t,n)}),!0),JSON.stringify(t)}),(function(){return{item:e}}))}catch{return null}}}))};function D(e,t,n,r){if(r&&e){var o=i.getCommonSchemaMetaData(r.value,r.kind,r.propertyType);if(o>-1){var s=e[x];s||(s=e[x]={f:{}});var a=s.f;if(a||(a=s.f={}),t)for(var l=0;l<t.length;l++){var c=t[l];a[c]||(a[c]={f:{}});var u=a[c].f;u||(u=a[c].f={}),a=u}a=a[n]={},i.isArray(r.value)?a.a={t:o}:a.t=o}}}function M(e){var t,n=Math.floor(1200*Math.random())+2400;return t=Math.pow(2,e)*n,Math.min(t,6e5)}var k,L=function e(){var t={};o(e,this,(function(e){e.setKillSwitchTenants=function(e,n){if(e&&n)try{var r=function(e){var t=[];return e&&i.arrForEach(e,(function(e){t.push(i.strTrim(e))})),t}(e.split(","));if("this-request-only"===n)return r;for(var o=1e3*parseInt(n,10),s=0;s<r.length;++s)t[r[s]]=i.dateNow()+o}catch{return[]}return[]},e.isTenantKilled=function(e){var n=t,r=i.strTrim(e);return void 0!==n[r]&&n[r]>i.dateNow()||(delete n[r],!1)}}))},B=function e(){var t=!0,n=!0,i=!0,r="use-collector-delta",s=!1;o(e,this,(function(e){e.allowRequestSending=function(){return t},e.firstRequestSent=function(){i&&(i=!1,s||(t=!1))},e.shouldAddClockSkewHeaders=function(){return n},e.getClockSkewHeaderValue=function(){return r},e.setClockSkew=function(e){s||(e?(r=e,n=!0,s=!0):n=!1,t=!0)}}))},q="sendAttempt",F="&NoResponseBody=true",U=((k={})[1]=d,k[100]=d,k[200]="sent",k[8004]=u,k[8003]=u,k),j={},z={};function H(e,t,n){j[e]=t,!1!==n&&(z[t]=e)}function V(e){try{return e.responseText}catch{}return""}function G(e,t){var n=!1;if(e&&t){var r=i.objKeys(e);if(r&&r.length>0)for(var o=t.toLowerCase(),s=0;s<r.length;s++){var a=r[s];if(a&&i.hasOwnProperty(t,a)&&a.toLowerCase()===o){n=!0;break}}}return n}function W(e,t,n,i){t&&n&&n.length>0&&(i&&j[t]?(e.hdrs[j[t]]=n,e.useHdrs=!0):e.url+="&"+t+"="+n)}H(T,T,!1),H(v,v),H(_,"Client-Id"),H(E,E),H(y,y),H(S,S),H(C,C);var $=function e(t,n,r,s,a){this._responseHandlers=[];var l,d,T,C,I,R,A="?cors=true&"+m.toLowerCase()+"="+p,O=new L,w=!1,x=new B,P=!1,D=0,k=!0,j=[],H={},$=[],K=null,X=!1,Y=!1,Q=!1;o(e,this,(function(e){var o=!0;function L(e,t){for(var n=0,r=null,o=0;null==r&&o<e.length;)1===(n=e[o])?i.useXDomainRequest()?r=B:i.isXhrSupported()&&(r=Z):2===n&&i.isFetchSupported(t)?r=J:P&&3===n&&i.isBeaconsSupported()&&(r=te),o++;return r?{_transport:n,_isSync:t,sendPOST:r}:null}function B(e,t,n){var i=new XDomainRequest;i.open(c,e.urlString),e.timeout&&(i.timeout=e.timeout),i.onload=function(){var e=V(i);ee(t,200,{},e),pe(e)},i.onerror=function(){ee(t,400,{})},i.ontimeout=function(){ee(t,500,{})},i.onprogress=function(){},n?i.send(e.data):a.set((function(){i.send(e.data)}),0)}function J(e,t,n){var r,s=e.urlString,l=!1,u=!1,d=((r={body:e.data,method:c}).Microsoft_ApplicationInsights_BypassAjaxInstrumentation=!0,r);n&&(d.keepalive=!0,2===e._sendReason&&(l=!0,s+=F)),o&&(d.credentials="include"),e.headers&&i.objKeys(e.headers).length>0&&(d.headers=e.headers),fetch(s,d).then((function(e){var n={},i="";e.headers&&e.headers.forEach((function(e,t){n[t]=e})),e.body&&e.text().then((function(e){i=e})),u||(u=!0,ee(t,e.status,n,i),pe(i))})).catch((function(e){u||(u=!0,ee(t,0,{}))})),l&&!u&&(u=!0,ee(t,200,{})),!u&&e.timeout>0&&a.set((function(){u||(u=!0,ee(t,500,{}))}),e.timeout)}function Z(e,t,n){var r=e.urlString;function s(e,t,n){if(!e[n]&&t&&t.getResponseHeader){var r=t.getResponseHeader(n);r&&(e[n]=i.strTrim(r))}return e}function a(e,n){ee(t,e.status,function(e){var t={};return e.getAllResponseHeaders?t=function(e){var t={};if(i.isString(e)){var n=i.strTrim(e).split(/[\r\n]+/);i.arrForEach(n,(function(e){if(e){var n=e.indexOf(": ");if(-1!==n){var r=i.strTrim(e.substring(0,n)).toLowerCase(),o=i.strTrim(e.substring(n+1));t[r]=o}else t[i.strTrim(e)]=1}}))}return t}(e.getAllResponseHeaders()):(t=s(t,e,g),t=s(t,e,f),t=s(t,e,"kill-duration-seconds")),t}(e),n)}n&&e.disableXhrSync&&(n=!1);var l=i.openXhr(c,r,o,!0,n,e.timeout);i.objForEachKey(e.headers,(function(e,t){l.setRequestHeader(e,t)})),l.onload=function(){var e=V(l);a(l,e),pe(e)},l.onerror=function(){a(l)},l.ontimeout=function(){a(l)},l.send(e.data)}function ee(e,t,n,r){try{e(t,n,r)}catch(e){i._throwInternal(l.diagLog(),2,518,i.dumpObj(e))}}function te(e,t,n){var r=200,o=e._thePayload,s=e.urlString+F;try{var a=i.getNavigator();if(!a.sendBeacon(s,e.data))if(o){var c=[];i.arrForEach(o.batches,(function(e){if(c&&e&&e.count()>0){for(var t=e.events(),n=0;n<t.length;n++)if(!a.sendBeacon(s,K.getEventBlob(t[n]))){c.push(e.split(n));break}}else c.push(e.split(0))})),he(c,8003,o.sendType,!0)}else r=0}catch(e){l.diagLog().warnToConsole("Failed to send telemetry using sendBeacon API. Ex:"+i.dumpObj(e)),r=0}finally{ee(t,r,{},"")}}function ne(e){return 2===e||3===e}function ie(e){return Y&&ne(e)&&(e=2),e}function re(){return!w&&D<n}function oe(){var e=$;return $=[],e}function se(e,t,n){var i=!1;return e&&e.length>0&&!w&&d[t]&&K&&(i=0!==t||re()&&(n>0||x.allowRequestSending())),i}function ae(e){var t={};return e&&i.arrForEach(e,(function(e,n){t[n]={iKey:e.iKey(),evts:e.events()}})),t}function le(e,n,r,o,s){if(e&&0!==e.length){if(w)return void he(e,1,o);o=ie(o);try{var a=e,c=0!==o;i.doPerf(T,(function(){return"HttpManager:_sendBatches"}),(function(a){a&&(e=e.slice(0));for(var l=[],u=null,p=i.getTime(),h=d[o]||(c?d[1]:d[0]),m=(Y||ne(o)||h&&3===h._transport)&&!k&&P&&i.isBeaconsSupported();se(e,o,n);){var f=e.shift();f&&f.count()>0&&(O.isTenantKilled(f.iKey())?l.push(f):(u=u||K.createPayload(n,r,c,m,s,o),K.appendPayload(u,f,t)?null!==u.overflow&&(e=[u.overflow].concat(e),u.overflow=null,ue(u,p,i.getTime(),s),p=i.getTime(),u=null):(ue(u,p,i.getTime(),s),p=i.getTime(),e=[f].concat(e),u=null)))}u&&ue(u,p,i.getTime(),s),e.length>0&&($=e.concat($)),he(l,8004,o)}),(function(){return{batches:ae(a),retryCount:n,isTeardown:r,isSynchronous:c,sendReason:s,useSendBeacon:ne(o),sendType:o}}),!c)}catch(e){i._throwInternal(l.diagLog(),2,48,"Unexpected Exception sending batch: "+i.dumpObj(e))}}}function ce(e,t,n){e[t]=e[t]||{},e[t][l.identifier]=n}function ue(t,n,o,s){if(t&&t.payloadBlob&&t.payloadBlob.length>0){var a=!!e.sendHook,c=d[t.sendType];!ne(t.sendType)&&t.isBeacon&&2===t.sendReason&&(c=d[2]||d[3]||c);var u=Q;(t.isBeacon||3===c._transport)&&(u=!1);var C=function(e,t){var n={url:A,hdrs:{},useHdrs:!1};t?(n.hdrs=i.extend(n.hdrs,H),n.useHdrs=i.objKeys(n.hdrs).length>0):i.objForEachKey(H,(function(e,t){z[e]?W(n,z[e],t,!1):(n.hdrs[e]=t,n.useHdrs=!0)})),W(n,_,"NO_AUTH",t),W(n,v,i.FullVersionString,t);var r="";i.arrForEach(e.apiKeys,(function(e){r.length>0&&(r+=","),r+=e})),W(n,E,r,t),W(n,S,i.dateNow().toString(),t);var o=function(e){for(var t=0;t<e.batches.length;t++){var n=e.batches[t].Msfpc();if(n)return encodeURIComponent(n)}return""}(e);if(i.isValueAssigned(o)&&(n.url+="&ext.intweb.msfpc="+o),x.shouldAddClockSkewHeaders()&&W(n,y,x.getClockSkewHeaderValue(),t),T.getWParam){var s=T.getWParam();s>=0&&(n.url+="&w="+s)}for(var a=0;a<j.length;a++)n.url+="&"+j[a].name+"="+j[a].value;return n}(t,u);u=u||C.useHdrs;var b=i.getTime();i.doPerf(T,(function(){return"HttpManager:_doPayloadSend"}),(function(){for(var d=0;d<t.batches.length;d++)for(var v=t.batches[d].events(),_=0;_<v.length;_++){var y=v[_];if(X){var S=y.timings=y.timings||{};ce(S,"sendEventStart",b),ce(S,"serializationStart",n),ce(S,"serializationCompleted",o)}y[q]>0?y[q]++:y[q]=1}he(t.batches,1e3+(s||0),t.sendType,!0);var E={data:t.payloadBlob,urlString:C.url,headers:C.hdrs,_thePayload:t,_sendReason:s,timeout:I};i.isUndefined(R)||(E.disableXhrSync=!!R),u&&(G(E.headers,h)||(E.headers[h]="no-cache, no-store"),G(E.headers,m)||(E.headers[m]=p));var A=null;c&&(A=function(n){x.firstRequestSent();var o=function(n,o){!function(t,n,o,s){var a=9e3,c=null,u=!1,d=!1;try{var p=!0;if(typeof t!==i.strUndefined){if(n){x.setClockSkew(n[g]);var h=n[f]||n["kill-duration-seconds"];i.arrForEach(O.setKillSwitchTenants(n["kill-tokens"],h),(function(e){i.arrForEach(o.batches,(function(t){if(t.iKey()===e){c=c||[];var n=t.split(0);o.numEvents-=n.count(),c.push(n)}}))}))}if(200==t||204==t)return void(a=200);(!function(e){return!(e>=300&&e<500&&408!=e&&429!=e||501==e||505==e)}(t)||o.numEvents<=0)&&(p=!1),a=9e3+t%1e3}if(p){a=100;var m=o.retryCnt;0===o.sendType&&(m<r?(u=!0,de((function(){0===o.sendType&&D--,le(o.batches,m+1,o.isTeardown,Y?2:o.sendType,5)}),Y,M(m))):(d=!0,Y&&(a=8001)))}}finally{u||(x.setClockSkew(),function(t,n,r,o){try{o&&l._backOffTransmission(),200===n&&(!o&&!t.isSync&&l._clearBackOff(),function(e){if(X){var t=i.getTime();i.arrForEach(e,(function(e){e&&e.count()>0&&function(e,t){X&&i.arrForEach(e,(function(e){ce(e.timings=e.timings||{},"sendEventCompleted",t)}))}(e.events(),t)}))}}(t.batches)),he(t.batches,n,t.sendType,!0)}finally{0===t.sendType&&(D--,5!==r&&e.sendQueuedRequests(t.sendType,r))}}(o,a,s,d)),he(c,8004,o.sendType)}}(n,o,t,s)},a=t.isTeardown||t.isSync;try{c.sendPOST(n,o,a),e.sendListener&&e.sendListener(E,n,a,t.isBeacon)}catch(e){l.diagLog().warnToConsole("Unexpected exception sending payload. Ex:"+i.dumpObj(e)),ee(o,0,{})}}),i.doPerf(T,(function(){return"HttpManager:_doPayloadSend.sender"}),(function(){if(A)if(0===t.sendType&&D++,a&&!t.isBeacon&&3!==c._transport){var n={data:E.data,urlString:E.urlString,headers:i.extend({},E.headers),timeout:E.timeout,disableXhrSync:E.disableXhrSync},r=!1;i.doPerf(T,(function(){return"HttpManager:_doPayloadSend.sendHook"}),(function(){try{e.sendHook(n,(function(e){r=!0,!k&&!e._thePayload&&(e._thePayload=e._thePayload||E._thePayload,e._sendReason=e._sendReason||E._sendReason),A(e)}),t.isSync||t.isTeardown)}catch{r||A(E)}}))}else A(E)}))}),(function(){return{thePayload:t,serializationStart:n,serializationCompleted:o,sendReason:s}}),t.isSync)}t.sizeExceed&&t.sizeExceed.length>0&&he(t.sizeExceed,8003,t.sendType),t.failedEvts&&t.failedEvts.length>0&&he(t.failedEvts,8002,t.sendType)}function de(e,t,n){t?e():a.set(e,n)}function pe(t){var n=e._responseHandlers;try{for(var r=0;r<n.length;r++)try{n[r](t)}catch(e){i._throwInternal(l.diagLog(),1,519,"Response handler failed: "+e)}if(t){var o=JSON.parse(t);i.isValueAssigned(o.webResult)&&i.isValueAssigned(o.webResult[b])&&C.set("MSFPC",o.webResult[b],31536e3)}}catch{}}function he(e,t,n,r){if(e&&e.length>0&&s){var o=s[function(e){var t=U[e];return i.isValueAssigned(t)||(t="oth",e>=9e3&&e<=9999?t="rspFail":e>=8e3&&e<=8999?t=u:e>=1e3&&e<=1999&&(t="send")),t}(t)];if(o){var a=0!==n;i.doPerf(T,(function(){return"HttpManager:_sendBatchesNotification"}),(function(){de((function(){try{o.call(s,e,t,a,n)}catch(e){i._throwInternal(l.diagLog(),1,74,"send request notification failed: "+e)}}),r||a,0)}),(function(){return{batches:ae(e),reason:t,isSync:a,sendSync:r,sendType:n}}),!a)}}}e.initialize=function(e,t,n,r,s){var a;s||(s={}),A=e+A,Q=!!i.isUndefined(s.avoidOptions)||!s.avoidOptions,T=t,C=t.getCookieMgr(),X=!T.config.disableEventTimings;var c=!!T.config.enableCompoundKey;l=n;var u=s.valueSanitizer,p=s.stringifyObjects;i.isUndefined(s.enableCompoundKey)||(c=!!s.enableCompoundKey),I=s.xhrTimeout,R=s.disableXhrSync,P=!i.isReactNative(),K=new N(T,u,p,c);var h=r,m=s.alwaysUseXhrOverride?r:null,f=s.alwaysUseXhrOverride?r:null;if(!r){k=!1;var g=i.getLocation();g&&g.protocol&&"file:"===g.protocol.toLowerCase()&&(o=!1);var v=[];v=i.isReactNative()?[2,1]:[1,2,3];var _=s.transports;_&&(i.isNumber(_)?v=[_].concat(v):i.isArray(_)&&(v=_.concat(v))),r=L(v,!1),h=L(v,!0),r||l.diagLog().warnToConsole("No available transport to send events")}(a={})[0]=r,a[1]=h||L([1,2,3],!0),a[2]=m||L([3,2],!0)||h||L([1],!0),a[3]=f||L([2,3],!0)||h||L([1],!0),d=a},e._getDbgPlgTargets=function(){return[d[0],O,K,d]},e.addQueryStringParameter=function(e,t){for(var n=0;n<j.length;n++)if(j[n].name===e)return void(j[n].value=t);j.push({name:e,value:t})},e.addHeader=function(e,t){H[e]=t},e.canSendRequest=function(){return re()&&x.allowRequestSending()},e.sendQueuedRequests=function(e,t){i.isUndefined(e)&&(e=0),Y&&(e=ie(e),t=2),se($,e,0)&&le(oe(),0,!1,e,t||0)},e.isCompletelyIdle=function(){return!w&&0===D&&0===$.length},e.setUnloading=function(e){Y=e},e.addBatch=function(e){if(e&&e.count()>0){if(O.isTenantKilled(e.iKey()))return!1;$.push(e)}return!0},e.teardown=function(){$.length>0&&le(oe(),0,!0,2,2)},e.pause=function(){w=!0},e.resume=function(){w=!1,e.sendQueuedRequests(0,4)},e.sendSynchronousBatch=function(e,t,n){e&&e.count()>0&&(i.isNullOrUndefined(t)&&(t=1),Y&&(t=ie(t),n=2),le([e],0,!1,t,n||0))}}))};function K(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];return setTimeout(e,t,n)}function X(e){clearTimeout(e)}function Y(e,t){return{set:e||K,clear:t||X}}var Q="eventsDiscarded",J="overrideInstrumentationKey",Z="maxEventRetryAttempts",ee="maxUnloadEventRetryAttempts",te=function(e){function n(){var t=e.call(this)||this;t.identifier="PostChannel",t.priority=1011,t.version="3.2.3";var r,c,u,d,p,h,m,f,g=!1,v=[],_=null,y=!1,S=0,E=500,C=0,b=1e4,I={},R=s,O=null,w=null,x=0,P=0,N={},D=-1,k=!0,L=!1,B=6,q=2;return o(n,t,(function(e,t){function n(e){"beforeunload"!==(e||i.getWindow().event).type&&(L=!0,u.setUnloading(L)),W(2,2)}function o(e){L=!1,u.setUnloading(L)}function F(e,t){if(e.sendAttempt||(e.sendAttempt=0),e.latency||(e.latency=1),e.ext&&e.ext.trace&&delete e.ext.trace,e.ext&&e.ext.user&&e.ext.user.id&&delete e.ext.user.id,k&&(e.ext=i.optimizeObject(e.ext),e.baseData&&(e.baseData=i.optimizeObject(e.baseData)),e.data&&(e.data=i.optimizeObject(e.data))),e.sync)if(x||y)e.latency=3,e.sync=!1;else if(u)return k&&(e=i.optimizeObject(e)),void u.sendSynchronousBatch(A.create(e.iKey,[e]),!0===e.sync?1:e.sync,3);var n=e.latency,r=C,o=b;4===n&&(r=S,o=E);var s=!1;if(r<o)s=!te(e,t);else{var a=1,l=20;4===n&&(a=4,l=1),s=!0,function(e,t,n,r){for(;n<=t;){var o=K(e,t,!0);if(o&&o.count()>0){var s=o.split(0,r),a=s.count();if(a>0)return 4===n?S-=a:C-=a,ue(Q,[s],i.EventsDiscardedReason.QueueFull),!0}n++}return ne(),!1}(e.iKey,e.latency,a,l)&&(s=!te(e,t))}s&&ce(Q,[e],i.EventsDiscardedReason.QueueFull)}function U(e,t,n){var i=ie(e,t,n);return u.sendQueuedRequests(t,n),i}function j(){return C>0}function z(){if(D>=0&&ie(D,0,h)&&u.sendQueuedRequests(0,h),S>0&&!w&&!y){var e=I[R][2];e>=0&&(w=V((function(){w=null,U(4,0,1),z()}),e))}var t=I[R][1];!O&&!_&&t>=0&&!y&&(j()?O=V((function(){O=null,U(0===P?3:1,0,1),P++,P%=2,z()}),t):P=0)}function H(){r=null,g=!1,v=[],_=null,y=!1,S=0,E=500,C=0,b=1e4,I={},R=s,O=null,w=null,x=0,P=0,c=null,N={},d=void 0,p=0,D=-1,h=null,k=!0,L=!1,B=6,q=2,m=null,f=Y(),u=new $(500,2,1,{requeue:ae,send:de,sent:pe,drop:he,rspFail:me,oth:fe},f),se(),N[4]={batches:[],iKeyMap:{}},N[3]={batches:[],iKeyMap:{}},N[2]={batches:[],iKeyMap:{}},N[1]={batches:[],iKeyMap:{}},ge()}function V(e,t){0===t&&x&&(t=1);var n=1e3;return x&&(n=M(x-1)),f.set(e,t*n)}function G(){return null!==O&&(f.clear(O),O=null,P=0,!0)}function W(e,t){G(),_&&(f.clear(_),_=null),y||U(1,e,t)}function K(e,t,n){var i=N[t];i||(i=N[t=1]);var r=i.iKeyMap[e];return!r&&n&&(r=A.create(e),i.batches.push(r),i.iKeyMap[e]=r),r}function X(t,n){u.canSendRequest()&&!x&&(d>0&&C>d&&(n=!0),n&&null==_&&e.flush(t,null,20))}function te(e,t){k&&(e=i.optimizeObject(e));var n=e.latency,r=K(e.iKey,n,!0);return!!r.addEvent(e)&&(4!==n?(C++,t&&0===e.sendAttempt&&X(!e.sync,p>0&&r.count()>=p)):S++,!0)}function ne(){for(var e=0,t=0,n=function(n){var r=N[n];r&&r.batches&&i.arrForEach(r.batches,(function(i){4===n?e+=i.count():t+=i.count()}))},r=1;r<=4;r++)n(r);C=t,S=e}function ie(t,n,r){var o=!1,s=0===n;return!s||u.canSendRequest()?i.doPerf(e.core,(function(){return"PostChannel._queueBatches"}),(function(){for(var e=[],n=4;n>=t;){var r=N[n];r&&r.batches&&r.batches.length>0&&(i.arrForEach(r.batches,(function(t){u.addBatch(t)?o=o||t&&t.count()>0:e=e.concat(t.events()),4===n?S-=t.count():C-=t.count()})),r.batches=[],r.iKeyMap={}),n--}e.length>0&&ce(Q,e,i.EventsDiscardedReason.KillSwitch),o&&D>=t&&(D=-1,h=0)}),(function(){return{latency:t,sendType:n,sendReason:r}}),!s):(D=D>=0?Math.min(D,t):t,h=Math.max(h,r)),o}function re(e,t){U(1,0,t),ne(),oe((function(){e&&e(),v.length>0?_=V((function(){_=null,re(v.shift(),t)}),0):(_=null,z())}))}function oe(e){u.isCompletelyIdle()?e():_=V((function(){_=null,oe(e)}),.25)}function se(){(I={})[s]=[2,1,0],I[a]=[6,3,0],I[l]=[18,9,0]}function ae(t,n){var r=[],o=B;L&&(o=q),i.arrForEach(t,(function(t){t&&t.count()>0&&i.arrForEach(t.events(),(function(t){t&&(t.sync&&(t.latency=4,t.sync=!1),t.sendAttempt<o?(i.setProcessTelemetryTimings(t,e.identifier),F(t,!1)):r.push(t))}))})),r.length>0&&ce(Q,r,i.EventsDiscardedReason.NonRetryableStatus),L&&W(2,2)}function le(t,n){var r=e._notificationManager||{},o=r[t];if(o)try{o.apply(r,n)}catch(n){i._throwInternal(e.diagLog(),1,74,t+" notification failed: "+n)}}function ce(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];t&&t.length>0&&le(e,[t].concat(n))}function ue(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];t&&t.length>0&&i.arrForEach(t,(function(t){t&&t.count()>0&&le(e,[t.events()].concat(n))}))}function de(e,t,n){e&&e.length>0&&le("eventsSendRequest",[t>=1e3&&t<=1999?t-1e3:0,!0!==n])}function pe(e,t){ue("eventsSent",e,t),z()}function he(e,t){ue(Q,e,t>=8e3&&t<=8999?t-8e3:i.EventsDiscardedReason.Unknown)}function me(e){ue(Q,e,i.EventsDiscardedReason.NonRetryableStatus),z()}function fe(e,t){ue(Q,e,i.EventsDiscardedReason.Unknown),z()}function ge(){p=r&&r.disableAutoBatchFlushLimit?0:Math.max(1500,b/6)}H(),e._getDbgPlgTargets=function(){return[u]},e.initialize=function(s,a,l){i.doPerf(a,(function(){return"PostChannel:initialize"}),(function(){var p=a;t.initialize(s,a,l);try{a.addUnloadCb,m=i.mergeEvtNamespace(i.createUniqueNamespace(e.identifier),a.evtNamespace&&a.evtNamespace());var h=e._getTelCtx();s.extensionConfig[e.identifier]=s.extensionConfig[e.identifier]||{},r=h.getExtCfg(e.identifier),f=Y(r.setTimeoutOverride,r.clearTimeoutOverride),k=!r.disableOptimizeObj&&i.isChromium(),function(e){var t=e.getWParam;e.getWParam=function(){var e=0;return r.ignoreMc1Ms0CookieProcessing&&(e|=2),e|t()}}(p),r.eventsLimitInMem>0&&(b=r.eventsLimitInMem),r.immediateEventLimit>0&&(E=r.immediateEventLimit),r.autoFlushEventsLimit>0&&(d=r.autoFlushEventsLimit),i.isNumber(r[Z])&&(B=r[Z]),i.isNumber(r[ee])&&(q=r[ee]),ge(),r.httpXHROverride&&r.httpXHROverride.sendPOST&&(c=r.httpXHROverride),i.isValueAssigned(s.anonCookieName)&&u.addQueryStringParameter("anoncknm",s.anonCookieName),u.sendHook=r.payloadPreprocessor,u.sendListener=r.payloadListener;var g=r.overrideEndpointUrl?r.overrideEndpointUrl:s.endpointUrl;e._notificationManager=s.extensionConfig.NotificationManager,u.initialize(g,e.core,e,c,r);var v=s.disablePageUnloadEvents||[];i.addPageUnloadEventListener(n,v,m),i.addPageHideEventListener(n,v,m),i.addPageShowEventListener(o,s.disablePageShowEvents,m)}catch(t){throw e.setInitialized(!1),t}}),(function(){return{coreConfig:s,core:a,extensions:l}}))},e.processTelemetry=function(t,n){i.setProcessTelemetryTimings(t,e.identifier);var o=(n=e._getTelCtx(n)).getExtCfg(e.identifier),s=!!r.disableTelemetry;o&&(s=s||!!o.disableTelemetry);var a=t;!s&&!g&&(r[J]&&(a.iKey=r[J]),o&&o[J]&&(a.iKey=o[J]),F(a,!0),L?W(2,2):z()),e.processNext(a,n)},e._doTeardown=function(e,t){W(2,2),g=!0,u.teardown(),i.removePageUnloadEventListener(null,m),i.removePageHideEventListener(null,m),i.removePageShowEventListener(null,m),H()},e.setEventQueueLimits=function(e,t){b=e>0?e:1e4,d=t>0?t:0,ge();var n=C>e;if(!n&&p>0)for(var r=1;!n&&r<=3;r++){var o=N[r];o&&o.batches&&i.arrForEach(o.batches,(function(e){e&&e.count()>=p&&(n=!0)}))}X(!0,n)},e.pause=function(){G(),y=!0,u.pause()},e.resume=function(){y=!1,u.resume(),z()},e.addResponseHandler=function(e){u._responseHandlers.push(e)},e._loadTransmitProfiles=function(e){G(),se(),R=s,z(),i.objForEachKey(e,(function(e,t){var n=t.length;if(n>=2){var i=n>2?t[2]:0;if(t.splice(0,n-2),t[1]<0&&(t[0]=-1),t[1]>0&&t[0]>0){var r=t[0]/t[1];t[0]=Math.ceil(r)*t[1]}i>=0&&t[1]>=0&&i>t[1]&&(i=t[1]),t.push(i),I[e]=t}}))},e.flush=function(e,t,n){if(void 0===e&&(e=!0),!y)if(n=n||1,e)null==_?(G(),ie(1,0,n),_=V((function(){_=null,re(t,n)}),0)):v.push(t);else{var i=G();U(1,1,n),null!=t&&t(),i&&z()}},e.setMsaAuthTicket=function(e){u.addHeader(T,e)},e.hasEvents=j,e._setTransmitProfile=function(e){R!==e&&void 0!==I[e]&&(G(),R=e,z())},e._backOffTransmission=function(){x<4&&(x++,G(),z())},e._clearBackOff=function(){x&&(x=0,G(),z())},i.objDefineAccessors(e,"_setTimeoutOverride",(function(){return f.set}),(function(e){f=Y(e,f.clear)})),i.objDefineAccessors(e,"_clearTimeoutOverride",(function(){return f.clear}),(function(e){f=Y(f.set,e)}))})),t}return t.__extendsFn(n,e),n}(i.BaseTelemetryPlugin);e.BE_PROFILE=l,e.NRT_PROFILE=a,e.PostChannel=te,e.RT_PROFILE=s,function(e,t,n){var i=Object.defineProperty;if(i)try{return i(e,t,n)}catch{}n&&void 0!==typeof n.value&&(e[t]=n.value)}(e,"__esModule",{value:!0})},"object"==typeof s&&typeof a<"u"?l(s,A(),I(),R()):(r=[t,n(8630),n(2016),n(1784)],void 0===(o="function"==typeof(i=l)?i.apply(t,r):i)||(e.exports=o))})),w=S(((e,t)=>{"use strict";var n=function(){function e(){}return e.info=function(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];e.enableDebug&&console.info(e.TAG+t,n)},e.warn=function(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];e.disableWarnings||console.warn(e.TAG+t,n)},e.enableDebug=!1,e.disableWarnings=!1,e.disableErrors=!1,e.TAG="ApplicationInsights:",e}();t.exports=n})),x=S((e=>{"use strict";var t=e&&e.__assign||function(){return t=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},t.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.AsyncScopeManager=e.OpenTelemetryScopeManagerWrapper=void 0;var i=Ri(),r=n(2361),o=function(){function e(){}return e.prototype.active=function(){var e=this,n=i.CorrelationContextManager.getCurrentContext();return t(t({},n),{getValue:function(t){return e._activeSymbol?t===e._activeSymbol&&n:(e._activeSymbol=t,n)},setValue:function(){}})},e.prototype.with=function(t,n){var r=t.parentSpanId,o=t.name,s=e._spanToContext(t,r,o);return i.CorrelationContextManager.runWithContext(s,n)()},e.prototype.bind=function(e){return"function"==typeof e?i.CorrelationContextManager.wrapCallback(e):(e instanceof r.EventEmitter&&i.CorrelationContextManager.wrapEmitter(e),e)},e.prototype.enable=function(){return i.CorrelationContextManager.enable(),this},e.prototype.disable=function(){return i.CorrelationContextManager.disable(),this},e._spanToContext=function(e,n,r){var o=n?"|"+e.spanContext().traceId+"."+n+".":e.spanContext().traceId,s=t(t({},e.spanContext()),{traceFlags:e.spanContext().traceFlags});return i.CorrelationContextManager.spanToContextObject(s,o,r)},e}();e.OpenTelemetryScopeManagerWrapper=o,e.AsyncScopeManager=new o})),P=S(((e,t)=>{var n;e=t.exports=W,n="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:function(){},e.SEMVER_SPEC_VERSION="2.0.0";var i=Number.MAX_SAFE_INTEGER||9007199254740991,r=e.re=[],o=e.src=[],s=0,a=s++;o[a]="0|[1-9]\\d*";var l=s++;o[l]="[0-9]+";var c=s++;o[c]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var u=s++;o[u]="("+o[a]+")\\.("+o[a]+")\\.("+o[a]+")";var d=s++;o[d]="("+o[l]+")\\.("+o[l]+")\\.("+o[l]+")";var p=s++;o[p]="(?:"+o[a]+"|"+o[c]+")";var h=s++;o[h]="(?:"+o[l]+"|"+o[c]+")";var m=s++;o[m]="(?:-("+o[p]+"(?:\\."+o[p]+")*))";var f=s++;o[f]="(?:-?("+o[h]+"(?:\\."+o[h]+")*))";var g=s++;o[g]="[0-9A-Za-z-]+";var v=s++;o[v]="(?:\\+("+o[g]+"(?:\\."+o[g]+")*))";var _=s++,y="v?"+o[u]+o[m]+"?"+o[v]+"?";o[_]="^"+y+"$";var S="[v=\\s]*"+o[d]+o[f]+"?"+o[v]+"?",E=s++;o[E]="^"+S+"$";var T=s++;o[T]="((?:<|>)?=?)";var C=s++;o[C]=o[l]+"|x|X|\\*";var b=s++;o[b]=o[a]+"|x|X|\\*";var I=s++;o[I]="[v=\\s]*("+o[b]+")(?:\\.("+o[b]+")(?:\\.("+o[b]+")(?:"+o[m]+")?"+o[v]+"?)?)?";var R=s++;o[R]="[v=\\s]*("+o[C]+")(?:\\.("+o[C]+")(?:\\.("+o[C]+")(?:"+o[f]+")?"+o[v]+"?)?)?";var A=s++;o[A]="^"+o[T]+"\\s*"+o[I]+"$";var O=s++;o[O]="^"+o[T]+"\\s*"+o[R]+"$";var w=s++;o[w]="(?:^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])";var x=s++;o[x]="(?:~>?)";var P=s++;o[P]="(\\s*)"+o[x]+"\\s+",r[P]=new RegExp(o[P],"g");var N=s++;o[N]="^"+o[x]+o[I]+"$";var D=s++;o[D]="^"+o[x]+o[R]+"$";var M=s++;o[M]="(?:\\^)";var k=s++;o[k]="(\\s*)"+o[M]+"\\s+",r[k]=new RegExp(o[k],"g");var L=s++;o[L]="^"+o[M]+o[I]+"$";var B=s++;o[B]="^"+o[M]+o[R]+"$";var q=s++;o[q]="^"+o[T]+"\\s*("+S+")$|^$";var F=s++;o[F]="^"+o[T]+"\\s*("+y+")$|^$";var U=s++;o[U]="(\\s*)"+o[T]+"\\s*("+S+"|"+o[I]+")",r[U]=new RegExp(o[U],"g");var j=s++;o[j]="^\\s*("+o[I]+")\\s+-\\s+("+o[I]+")\\s*$";var z=s++;o[z]="^\\s*("+o[R]+")\\s+-\\s+("+o[R]+")\\s*$";var H,V=s++;for(o[V]="(<|>)?=?\\s*\\*",H=0;H<35;H++)n(H,o[H]),r[H]||(r[H]=new RegExp(o[H]));function G(e,t){if((!t||"object"!=typeof t)&&(t={loose:!!t,includePrerelease:!1}),e instanceof W)return e;if("string"!=typeof e||e.length>256)return null;if(!(t.loose?r[E]:r[_]).test(e))return null;try{return new W(e,t)}catch{return null}}function W(e,t){if((!t||"object"!=typeof t)&&(t={loose:!!t,includePrerelease:!1}),e instanceof W){if(e.loose===t.loose)return e;e=e.version}else if("string"!=typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>256)throw new TypeError("version is longer than 256 characters");if(!(this instanceof W))return new W(e,t);n("SemVer",e,t),this.options=t,this.loose=!!t.loose;var o=e.trim().match(t.loose?r[E]:r[_]);if(!o)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+o[1],this.minor=+o[2],this.patch=+o[3],this.major>i||this.major<0)throw new TypeError("Invalid major version");if(this.minor>i||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>i||this.patch<0)throw new TypeError("Invalid patch version");o[4]?this.prerelease=o[4].split(".").map((function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<i)return t}return e})):this.prerelease=[],this.build=o[5]?o[5].split("."):[],this.format()}e.parse=G,e.valid=function(e,t){var n=G(e,t);return n?n.version:null},e.clean=function(e,t){var n=G(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null},e.SemVer=W,W.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},W.prototype.toString=function(){return this.version},W.prototype.compare=function(e){return n("SemVer.compare",this.version,this.options,e),e instanceof W||(e=new W(e,this.options)),this.compareMain(e)||this.comparePre(e)},W.prototype.compareMain=function(e){return e instanceof W||(e=new W(e,this.options)),K(this.major,e.major)||K(this.minor,e.minor)||K(this.patch,e.patch)},W.prototype.comparePre=function(e){if(e instanceof W||(e=new W(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var i=this.prerelease[t],r=e.prerelease[t];if(n("prerelease compare",t,i,r),void 0===i&&void 0===r)return 0;if(void 0===r)return 1;if(void 0===i)return-1;if(i!==r)return K(i,r)}while(++t)},W.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":(0!==this.minor||0!==this.patch||0===this.prerelease.length)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(0!==this.patch||0===this.prerelease.length)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var n=this.prerelease.length;--n>=0;)"number"==typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);-1===n&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this},e.inc=function(e,t,n,i){"string"==typeof n&&(i=n,n=void 0);try{return new W(e,n).inc(t,i).version}catch{return null}},e.diff=function(e,t){if(J(e,t))return null;var n=G(e),i=G(t),r="";if(n.prerelease.length||i.prerelease.length){r="pre";var o="prerelease"}for(var s in n)if(("major"===s||"minor"===s||"patch"===s)&&n[s]!==i[s])return r+s;return o},e.compareIdentifiers=K;var $=/^[0-9]+$/;function K(e,t){var n=$.test(e),i=$.test(t);return n&&i&&(e=+e,t=+t),e===t?0:n&&!i?-1:i&&!n?1:e<t?-1:1}function X(e,t,n){return new W(e,n).compare(new W(t,n))}function Y(e,t,n){return X(e,t,n)>0}function Q(e,t,n){return X(e,t,n)<0}function J(e,t,n){return 0===X(e,t,n)}function Z(e,t,n){return 0!==X(e,t,n)}function ee(e,t,n){return X(e,t,n)>=0}function te(e,t,n){return X(e,t,n)<=0}function ne(e,t,n,i){switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e===n;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e!==n;case"":case"=":case"==":return J(e,n,i);case"!=":return Z(e,n,i);case">":return Y(e,n,i);case">=":return ee(e,n,i);case"<":return Q(e,n,i);case"<=":return te(e,n,i);default:throw new TypeError("Invalid operator: "+t)}}function ie(e,t){if((!t||"object"!=typeof t)&&(t={loose:!!t,includePrerelease:!1}),e instanceof ie){if(e.loose===!!t.loose)return e;e=e.value}if(!(this instanceof ie))return new ie(e,t);n("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===re?this.value="":this.value=this.operator+this.semver.version,n("comp",this)}e.rcompareIdentifiers=function(e,t){return K(t,e)},e.major=function(e,t){return new W(e,t).major},e.minor=function(e,t){return new W(e,t).minor},e.patch=function(e,t){return new W(e,t).patch},e.compare=X,e.compareLoose=function(e,t){return X(e,t,!0)},e.rcompare=function(e,t,n){return X(t,e,n)},e.sort=function(t,n){return t.sort((function(t,i){return e.compare(t,i,n)}))},e.rsort=function(t,n){return t.sort((function(t,i){return e.rcompare(t,i,n)}))},e.gt=Y,e.lt=Q,e.eq=J,e.neq=Z,e.gte=ee,e.lte=te,e.cmp=ne,e.Comparator=ie;var re={};function oe(e,t){if((!t||"object"!=typeof t)&&(t={loose:!!t,includePrerelease:!1}),e instanceof oe)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new oe(e.raw,t);if(e instanceof ie)return new oe(e.value,t);if(!(this instanceof oe))return new oe(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map((function(e){return this.parseRange(e.trim())}),this).filter((function(e){return e.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}function se(e){return!e||"x"===e.toLowerCase()||"*"===e}function ae(e,t,n,i,r,o,s,a,l,c,u,d,p){return((t=se(n)?"":se(i)?">="+n+".0.0":se(r)?">="+n+"."+i+".0":">="+t)+" "+(a=se(l)?"":se(c)?"<"+(+l+1)+".0.0":se(u)?"<"+l+"."+(+c+1)+".0":d?"<="+l+"."+c+"."+u+"-"+d:"<="+a)).trim()}function le(e,t,i){for(var r=0;r<e.length;r++)if(!e[r].test(t))return!1;if(t.prerelease.length&&!i.includePrerelease){for(r=0;r<e.length;r++)if(n(e[r].semver),e[r].semver!==re&&e[r].semver.prerelease.length>0){var o=e[r].semver;if(o.major===t.major&&o.minor===t.minor&&o.patch===t.patch)return!0}return!1}return!0}function ce(e,t,n){try{t=new oe(t,n)}catch{return!1}return t.test(e)}function ue(e,t,n,i){var r,o,s,a,l;switch(e=new W(e,i),t=new oe(t,i),n){case">":r=Y,o=te,s=Q,a=">",l=">=";break;case"<":r=Q,o=ee,s=Y,a="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(ce(e,t,i))return!1;for(var c=0;c<t.set.length;++c){var u=t.set[c],d=null,p=null;if(u.forEach((function(e){e.semver===re&&(e=new ie(">=0.0.0")),d=d||e,p=p||e,r(e.semver,d.semver,i)?d=e:s(e.semver,p.semver,i)&&(p=e)})),d.operator===a||d.operator===l||(!p.operator||p.operator===a)&&o(e,p.semver))return!1;if(p.operator===l&&s(e,p.semver))return!1}return!0}ie.prototype.parse=function(e){var t=this.options.loose?r[q]:r[F],n=e.match(t);if(!n)throw new TypeError("Invalid comparator: "+e);this.operator=n[1],"="===this.operator&&(this.operator=""),n[2]?this.semver=new W(n[2],this.options.loose):this.semver=re},ie.prototype.toString=function(){return this.value},ie.prototype.test=function(e){return n("Comparator.test",e,this.options.loose),this.semver===re||("string"==typeof e&&(e=new W(e,this.options)),ne(e,this.operator,this.semver,this.options))},ie.prototype.intersects=function(e,t){if(!(e instanceof ie))throw new TypeError("a Comparator is required");var n;if((!t||"object"!=typeof t)&&(t={loose:!!t,includePrerelease:!1}),""===this.operator)return n=new oe(e.value,t),ce(this.value,n,t);if(""===e.operator)return n=new oe(this.value,t),ce(e.semver,n,t);var i=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),r=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),o=this.semver.version===e.semver.version,s=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),a=ne(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),l=ne(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return i||r||o&&s||a||l},e.Range=oe,oe.prototype.format=function(){return this.range=this.set.map((function(e){return e.join(" ").trim()})).join("||").trim(),this.range},oe.prototype.toString=function(){return this.range},oe.prototype.parseRange=function(e){var t=this.options.loose;e=e.trim();var i=t?r[z]:r[j];e=e.replace(i,ae),n("hyphen replace",e),e=e.replace(r[U],"$1$2$3"),n("comparator trim",e,r[U]),e=(e=(e=e.replace(r[P],"$1~")).replace(r[k],"$1^")).split(/\s+/).join(" ");var o=t?r[q]:r[F],s=e.split(" ").map((function(e){return function(e,t){return n("comp",e,t),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){n("caret",e,t);var i=t.loose?r[B]:r[L];return e.replace(i,(function(t,i,r,o,s){var a;return n("caret",e,t,i,r,o,s),se(i)?a="":se(r)?a=">="+i+".0.0 <"+(+i+1)+".0.0":se(o)?a="0"===i?">="+i+"."+r+".0 <"+i+"."+(+r+1)+".0":">="+i+"."+r+".0 <"+(+i+1)+".0.0":s?(n("replaceCaret pr",s),a="0"===i?"0"===r?">="+i+"."+r+"."+o+"-"+s+" <"+i+"."+r+"."+(+o+1):">="+i+"."+r+"."+o+"-"+s+" <"+i+"."+(+r+1)+".0":">="+i+"."+r+"."+o+"-"+s+" <"+(+i+1)+".0.0"):(n("no pr"),a="0"===i?"0"===r?">="+i+"."+r+"."+o+" <"+i+"."+r+"."+(+o+1):">="+i+"."+r+"."+o+" <"+i+"."+(+r+1)+".0":">="+i+"."+r+"."+o+" <"+(+i+1)+".0.0"),n("caret return",a),a}))}(e,t)})).join(" ")}(e,t),n("caret",e),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){var i=t.loose?r[D]:r[N];return e.replace(i,(function(t,i,r,o,s){var a;return n("tilde",e,t,i,r,o,s),se(i)?a="":se(r)?a=">="+i+".0.0 <"+(+i+1)+".0.0":se(o)?a=">="+i+"."+r+".0 <"+i+"."+(+r+1)+".0":s?(n("replaceTilde pr",s),a=">="+i+"."+r+"."+o+"-"+s+" <"+i+"."+(+r+1)+".0"):a=">="+i+"."+r+"."+o+" <"+i+"."+(+r+1)+".0",n("tilde return",a),a}))}(e,t)})).join(" ")}(e,t),n("tildes",e),e=function(e,t){return n("replaceXRanges",e,t),e.split(/\s+/).map((function(e){return function(e,t){e=e.trim();var i=t.loose?r[O]:r[A];return e.replace(i,(function(t,i,r,o,s,a){n("xRange",e,t,i,r,o,s,a);var l=se(r),c=l||se(o),u=c||se(s);return"="===i&&u&&(i=""),l?t=">"===i||"<"===i?"<0.0.0":"*":i&&u?(c&&(o=0),s=0,">"===i?(i=">=",c?(r=+r+1,o=0,s=0):(o=+o+1,s=0)):"<="===i&&(i="<",c?r=+r+1:o=+o+1),t=i+r+"."+o+"."+s):c?t=">="+r+".0.0 <"+(+r+1)+".0.0":u&&(t=">="+r+"."+o+".0 <"+r+"."+(+o+1)+".0"),n("xRange return",t),t}))}(e,t)})).join(" ")}(e,t),n("xrange",e),e=function(e,t){return n("replaceStars",e,t),e.trim().replace(r[V],"")}(e,t),n("stars",e),e}(e,this.options)}),this).join(" ").split(/\s+/);return this.options.loose&&(s=s.filter((function(e){return!!e.match(o)}))),s.map((function(e){return new ie(e,this.options)}),this)},oe.prototype.intersects=function(e,t){if(!(e instanceof oe))throw new TypeError("a Range is required");return this.set.some((function(n){return n.every((function(n){return e.set.some((function(e){return e.every((function(e){return n.intersects(e,t)}))}))}))}))},e.toComparators=function(e,t){return new oe(e,t).set.map((function(e){return e.map((function(e){return e.value})).join(" ").trim().split(" ")}))},oe.prototype.test=function(e){if(!e)return!1;"string"==typeof e&&(e=new W(e,this.options));for(var t=0;t<this.set.length;t++)if(le(this.set[t],e,this.options))return!0;return!1},e.satisfies=ce,e.maxSatisfying=function(e,t,n){var i=null,r=null;try{var o=new oe(t,n)}catch{return null}return e.forEach((function(e){o.test(e)&&(!i||-1===r.compare(e))&&(r=new W(i=e,n))})),i},e.minSatisfying=function(e,t,n){var i=null,r=null;try{var o=new oe(t,n)}catch{return null}return e.forEach((function(e){o.test(e)&&(!i||1===r.compare(e))&&(r=new W(i=e,n))})),i},e.minVersion=function(e,t){e=new oe(e,t);var n=new W("0.0.0");if(e.test(n)||(n=new W("0.0.0-0"),e.test(n)))return n;n=null;for(var i=0;i<e.set.length;++i)e.set[i].forEach((function(e){var t=new W(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":(!n||Y(n,t))&&(n=t);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+e.operator)}}));return n&&e.test(n)?n:null},e.validRange=function(e,t){try{return new oe(e,t).range||"*"}catch{return null}},e.ltr=function(e,t,n){return ue(e,t,"<",n)},e.gtr=function(e,t,n){return ue(e,t,">",n)},e.outside=ue,e.prerelease=function(e,t){var n=G(e,t);return n&&n.prerelease.length?n.prerelease:null},e.intersects=function(e,t,n){return e=new oe(e,n),t=new oe(t,n),e.intersects(t)},e.coerce=function(e){if(e instanceof W)return e;if("string"!=typeof e)return null;var t=e.match(r[w]);return null==t?null:G(t[1]+"."+(t[2]||"0")+"."+(t[3]||"0"))}})),N=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.makePatchingRequire=void 0;var t=n(1017),i=P(),r=n(8188),o=Object.keys(process.binding("natives")),s=r.prototype.require;e.makePatchingRequire=function(e){var n={};return function(a){var l=s.apply(this,arguments);if(e[a]){var c=r._resolveFilename(a,this);if(n.hasOwnProperty(c))return n[c];var u=void 0;if(o.indexOf(a)<0)try{u=s.call(this,t.join(a,"package.json")).version}catch{return l}else u=process.version.substring(1);var d=u.indexOf("-");d>=0&&(u=u.substring(0,d));for(var p=l,h=0,m=e[a];h<m.length;h++){var f=m[h];i.satisfies(u,f.versionSpecifier)&&(p=f.patch(p,c))}return n[c]=p}return l}}})),D=S(((e,t)=>{t.exports={name:"diagnostic-channel",version:"1.0.0",main:"./dist/src/channel.js",types:"./dist/src/channel.d.ts",scripts:{build:"tsc",lint:"tslint -c tslint.json -p tsconfig.json",clean:"rimraf ./dist",test:"mocha ./dist/tests/**/*.js"},homepage:"https://github.com/Microsoft/node-diagnostic-channel",bugs:{url:"https://github.com/Microsoft/node-diagnostic-channel/issues"},repository:{type:"git",url:"https://github.com/Microsoft/node-diagnostic-channel.git"},description:"Provides a context-saving pub/sub channel to connect diagnostic event publishers and subscribers",dependencies:{semver:"^5.3.0"},devDependencies:{"@types/mocha":"^2.2.40","@types/node":"~8.0.0",mocha:"^3.2.0",rimraf:"^2.6.1",tslint:"^5.0.0",typescript:"4.1.2"},files:["dist/src/**/*.d.ts","dist/src/**/*.js","LICENSE","README.md","package.json"],license:"MIT"}})),M=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.channel=e.makePatchingRequire=void 0;var t=N(),i=N();Object.defineProperty(e,"makePatchingRequire",{enumerable:!0,get:function(){return i.makePatchingRequire}});var r=function(e){return!0},o=function(){function e(){this.version=D().version,this.subscribers={},this.contextPreservationFunction=function(e){return e},this.knownPatches={},this.currentlyPublishing=!1}return e.prototype.shouldPublish=function(e){var t=this.subscribers[e];return!!t&&t.some((function(e){var t=e.filter;return!t||t(!1)}))},e.prototype.publish=function(e,t){if(!this.currentlyPublishing){var n=this.subscribers[e];if(n){var i={timestamp:Date.now(),data:t};this.currentlyPublishing=!0,n.forEach((function(e){var t=e.listener,n=e.filter;try{n&&n(!0)&&t(i)}catch{}})),this.currentlyPublishing=!1}}},e.prototype.subscribe=function(e,t,n){void 0===n&&(n=r),this.subscribers[e]||(this.subscribers[e]=[]),this.subscribers[e].push({listener:t,filter:n})},e.prototype.unsubscribe=function(e,t,n){void 0===n&&(n=r);var i=this.subscribers[e];if(i)for(var o=0;o<i.length;++o)if(i[o].listener===t&&i[o].filter===n)return i.splice(o,1),!0;return!1},e.prototype.reset=function(){var e=this;this.subscribers={},this.contextPreservationFunction=function(e){return e},Object.getOwnPropertyNames(this.knownPatches).forEach((function(t){return delete e.knownPatches[t]}))},e.prototype.bindToContext=function(e){return this.contextPreservationFunction(e)},e.prototype.addContextPreservation=function(e){var t=this.contextPreservationFunction;this.contextPreservationFunction=function(n){return e(t(n))}},e.prototype.registerMonkeyPatch=function(e,t){this.knownPatches[e]||(this.knownPatches[e]=[]),this.knownPatches[e].push(t)},e.prototype.getPatchesObject=function(){return this.knownPatches},e}();global.diagnosticsSource||(global.diagnosticsSource=new o,n(8188).prototype.require=t.makePatchingRequire(global.diagnosticsSource.getPatchesObject())),e.channel=global.diagnosticsSource})),k=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),L=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e._globalThis=void 0,e._globalThis="object"==typeof globalThis?globalThis:global})),B=S((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),n=e&&e.__exportStar||function(e,n){for(var i in e)"default"!==i&&!Object.prototype.hasOwnProperty.call(n,i)&&t(n,e,i)};Object.defineProperty(e,"__esModule",{value:!0}),n(L(),e)})),q=S((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),n=e&&e.__exportStar||function(e,n){for(var i in e)"default"!==i&&!Object.prototype.hasOwnProperty.call(n,i)&&t(n,e,i)};Object.defineProperty(e,"__esModule",{value:!0}),n(B(),e)})),F=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VERSION=void 0,e.VERSION="1.0.3"})),U=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isCompatible=e._makeCompatibilityCheck=void 0;var t=F(),n=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function i(e){var t=new Set([e]),i=new Set,r=e.match(n);if(!r)return function(){return!1};var o=+r[1],s=+r[2],a=+r[3];if(null!=r[4])return function(t){return t===e};function l(e){return i.add(e),!1}function c(e){return t.add(e),!0}return function(e){if(t.has(e))return!0;if(i.has(e))return!1;var r=e.match(n);if(!r)return l(e);var u=+r[1],d=+r[2],p=+r[3];return null!=r[4]||o!==u?l(e):0===o?s===d&&a<=p?c(e):l(e):s<=d?c(e):l(e)}}e._makeCompatibilityCheck=i,e.isCompatible=i(t.VERSION)})),j=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.unregisterGlobal=e.getGlobal=e.registerGlobal=void 0;var t=q(),n=F(),i=U(),r=n.VERSION.split(".")[0],o=Symbol.for("opentelemetry.js.api."+r),s=t._globalThis;e.registerGlobal=function(e,t,i,r){var a;void 0===r&&(r=!1);var l=s[o]=null!==(a=s[o])&&void 0!==a?a:{version:n.VERSION};if(!r&&l[e]){var c=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+e);return i.error(c.stack||c.message),!1}return l.version!==n.VERSION?(c=new Error("@opentelemetry/api: All API registration versions must match"),i.error(c.stack||c.message),!1):(l[e]=t,i.debug("@opentelemetry/api: Registered a global for "+e+" v"+n.VERSION+"."),!0)},e.getGlobal=function(e){var t,n,r=null===(t=s[o])||void 0===t?void 0:t.version;if(r&&i.isCompatible(r))return null===(n=s[o])||void 0===n?void 0:n[e]},e.unregisterGlobal=function(e,t){t.debug("@opentelemetry/api: Unregistering a global for "+e+" v"+n.VERSION+".");var i=s[o];i&&delete i[e]}})),z=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiagComponentLogger=void 0;var t=j(),n=function(){function e(e){this._namespace=e.namespace||"DiagComponentLogger"}return e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i("debug",this._namespace,e)},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i("error",this._namespace,e)},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i("info",this._namespace,e)},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i("warn",this._namespace,e)},e.prototype.verbose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i("verbose",this._namespace,e)},e}();function i(e,n,i){var r=t.getGlobal("diag");if(r)return i.unshift(n),r[e].apply(r,i)}e.DiagComponentLogger=n})),H=S((e=>{"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.DiagLogLevel=void 0,(t=e.DiagLogLevel||(e.DiagLogLevel={}))[t.NONE=0]="NONE",t[t.ERROR=30]="ERROR",t[t.WARN=50]="WARN",t[t.INFO=60]="INFO",t[t.DEBUG=70]="DEBUG",t[t.VERBOSE=80]="VERBOSE",t[t.ALL=9999]="ALL"})),V=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createLogLevelDiagLogger=void 0;var t=H();e.createLogLevelDiagLogger=function(e,n){function i(t,i){var r=n[t];return"function"==typeof r&&e>=i?r.bind(n):function(){}}return e<t.DiagLogLevel.NONE?e=t.DiagLogLevel.NONE:e>t.DiagLogLevel.ALL&&(e=t.DiagLogLevel.ALL),n=n||{},{error:i("error",t.DiagLogLevel.ERROR),warn:i("warn",t.DiagLogLevel.WARN),info:i("info",t.DiagLogLevel.INFO),debug:i("debug",t.DiagLogLevel.DEBUG),verbose:i("verbose",t.DiagLogLevel.VERBOSE)}}})),G=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiagAPI=void 0;var t=z(),n=V(),i=H(),r=j(),o=function(){function e(){function e(e){return function(){var t=r.getGlobal("diag");if(t)return t[e].apply(t,arguments)}}var o=this;o.setLogger=function(e,t){var s,a;if(void 0===t&&(t=i.DiagLogLevel.INFO),e===o){var l=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return o.error(null!==(s=l.stack)&&void 0!==s?s:l.message),!1}var c=r.getGlobal("diag"),u=n.createLogLevelDiagLogger(t,e);if(c){var d=null!==(a=(new Error).stack)&&void 0!==a?a:"<failed to generate stacktrace>";c.warn("Current logger will be overwritten from "+d),u.warn("Current logger will overwrite one already registered from "+d)}return r.registerGlobal("diag",u,o,!0)},o.disable=function(){r.unregisterGlobal("diag",o)},o.createComponentLogger=function(e){return new t.DiagComponentLogger(e)},o.verbose=e("verbose"),o.debug=e("debug"),o.info=e("info"),o.warn=e("warn"),o.error=e("error")}return e.instance=function(){return this._instance||(this._instance=new e),this._instance},e}();e.DiagAPI=o})),W=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BaggageImpl=void 0;var t=function(){function e(e){this._entries=e?new Map(e):new Map}return e.prototype.getEntry=function(e){var t=this._entries.get(e);if(t)return Object.assign({},t)},e.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map((function(e){return[e[0],e[1]]}))},e.prototype.setEntry=function(t,n){var i=new e(this._entries);return i._entries.set(t,n),i},e.prototype.removeEntry=function(t){var n=new e(this._entries);return n._entries.delete(t),n},e.prototype.removeEntries=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var i=new e(this._entries),r=0,o=t;r<o.length;r++){var s=o[r];i._entries.delete(s)}return i},e.prototype.clear=function(){return new e},e}();e.BaggageImpl=t})),$=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.baggageEntryMetadataSymbol=void 0,e.baggageEntryMetadataSymbol=Symbol("BaggageEntryMetadata")})),K=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.baggageEntryMetadataFromString=e.createBaggage=void 0;var t=G(),n=W(),i=$(),r=t.DiagAPI.instance();e.createBaggage=function(e){return void 0===e&&(e={}),new n.BaggageImpl(new Map(Object.entries(e)))},e.baggageEntryMetadataFromString=function(e){return"string"!=typeof e&&(r.error("Cannot create baggage metadata from unknown type: "+typeof e),e=""),{__TYPE__:i.baggageEntryMetadataSymbol,toString:function(){return e}}}})),X=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Y=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Q=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiagConsoleLogger=void 0;var t=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}];e.DiagConsoleLogger=function(){function e(e){return function(){var t=arguments;if(console){var n=console[e];if("function"!=typeof n&&(n=console.log),"function"==typeof n)return n.apply(console,t)}}}for(var n=0;n<t.length;n++)this[t[n].n]=e(t[n].c)}})),J=S((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),n=e&&e.__exportStar||function(e,n){for(var i in e)"default"!==i&&!Object.prototype.hasOwnProperty.call(n,i)&&t(n,e,i)};Object.defineProperty(e,"__esModule",{value:!0}),n(Q(),e),n(H(),e)})),Z=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultTextMapSetter=e.defaultTextMapGetter=void 0,e.defaultTextMapGetter={get:function(e,t){if(null!=e)return e[t]},keys:function(e){return null==e?[]:Object.keys(e)}},e.defaultTextMapSetter={set:function(e,t,n){null!=e&&(e[t]=n)}}})),ee=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),te=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),ne=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ROOT_CONTEXT=e.createContextKey=void 0,e.createContextKey=function(e){return Symbol.for(e)};e.ROOT_CONTEXT=new function e(t){var n=this;n._currentContext=t?new Map(t):new Map,n.getValue=function(e){return n._currentContext.get(e)},n.setValue=function(t,i){var r=new e(n._currentContext);return r._currentContext.set(t,i),r},n.deleteValue=function(t){var i=new e(n._currentContext);return i._currentContext.delete(t),i}}})),ie=S((e=>{"use strict";var t=e&&e.__spreadArray||function(e,t){for(var n=0,i=t.length,r=e.length;n<i;n++,r++)e[r]=t[n];return e};Object.defineProperty(e,"__esModule",{value:!0}),e.NoopContextManager=void 0;var n=ne(),i=function(){function e(){}return e.prototype.active=function(){return n.ROOT_CONTEXT},e.prototype.with=function(e,n,i){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];return n.call.apply(n,t([i],r))},e.prototype.bind=function(e,t){return t},e.prototype.enable=function(){return this},e.prototype.disable=function(){return this},e}();e.NoopContextManager=i})),re=S((e=>{"use strict";var t=e&&e.__spreadArray||function(e,t){for(var n=0,i=t.length,r=e.length;n<i;n++,r++)e[r]=t[n];return e};Object.defineProperty(e,"__esModule",{value:!0}),e.ContextAPI=void 0;var n=ie(),i=j(),r=G(),o="context",s=new n.NoopContextManager,a=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalContextManager=function(e){return i.registerGlobal(o,e,r.DiagAPI.instance())},e.prototype.active=function(){return this._getContextManager().active()},e.prototype.with=function(e,n,i){for(var r,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return(r=this._getContextManager()).with.apply(r,t([e,n,i],o))},e.prototype.bind=function(e,t){return this._getContextManager().bind(e,t)},e.prototype._getContextManager=function(){return i.getGlobal(o)||s},e.prototype.disable=function(){this._getContextManager().disable(),i.unregisterGlobal(o,r.DiagAPI.instance())},e}();e.ContextAPI=a})),oe=S((e=>{"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.TraceFlags=void 0,(t=e.TraceFlags||(e.TraceFlags={}))[t.NONE=0]="NONE",t[t.SAMPLED=1]="SAMPLED"})),se=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.INVALID_SPAN_CONTEXT=e.INVALID_TRACEID=e.INVALID_SPANID=void 0;var t=oe();e.INVALID_SPANID="0000000000000000",e.INVALID_TRACEID="00000000000000000000000000000000",e.INVALID_SPAN_CONTEXT={traceId:e.INVALID_TRACEID,spanId:e.INVALID_SPANID,traceFlags:t.TraceFlags.NONE}})),ae=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NonRecordingSpan=void 0;var t=se(),n=function(){function e(e){void 0===e&&(e=t.INVALID_SPAN_CONTEXT),this._spanContext=e}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(e,t){return this},e.prototype.setAttributes=function(e){return this},e.prototype.addEvent=function(e,t){return this},e.prototype.setStatus=function(e){return this},e.prototype.updateName=function(e){return this},e.prototype.end=function(e){},e.prototype.isRecording=function(){return!1},e.prototype.recordException=function(e,t){},e}();e.NonRecordingSpan=n})),le=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSpanContext=e.setSpanContext=e.deleteSpan=e.setSpan=e.getSpan=void 0;var t=ne(),n=ae(),i=t.createContextKey("OpenTelemetry Context Key SPAN");function r(e){return e.getValue(i)||void 0}function o(e,t){return e.setValue(i,t)}e.getSpan=r,e.setSpan=o,e.deleteSpan=function(e){return e.deleteValue(i)},e.setSpanContext=function(e,t){return o(e,new n.NonRecordingSpan(t))},e.getSpanContext=function(e){var t;return null===(t=r(e))||void 0===t?void 0:t.spanContext()}})),ce=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.wrapSpanContext=e.isSpanContextValid=e.isValidSpanId=e.isValidTraceId=void 0;var t=se(),n=ae(),i=/^([0-9a-f]{32})$/i,r=/^[0-9a-f]{16}$/i;function o(e){return i.test(e)&&e!==t.INVALID_TRACEID}function s(e){return r.test(e)&&e!==t.INVALID_SPANID}e.isValidTraceId=o,e.isValidSpanId=s,e.isSpanContextValid=function(e){return o(e.traceId)&&s(e.spanId)},e.wrapSpanContext=function(e){return new n.NonRecordingSpan(e)}})),ue=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NoopTracer=void 0;var t=re(),n=le(),i=ae(),r=ce(),o=t.ContextAPI.getInstance(),s=function(){function e(){}return e.prototype.startSpan=function(e,t,o){if(Boolean(null==t?void 0:t.root))return new i.NonRecordingSpan;var s=o&&n.getSpanContext(o);return function(e){return"object"==typeof e&&"string"==typeof e.spanId&&"string"==typeof e.traceId&&"number"==typeof e.traceFlags}(s)&&r.isSpanContextValid(s)?new i.NonRecordingSpan(s):new i.NonRecordingSpan},e.prototype.startActiveSpan=function(e,t,i,r){var s,a,l;if(!(arguments.length<2)){2===arguments.length?l=t:3===arguments.length?(s=t,l=i):(s=t,a=i,l=r);var c=a??o.active(),u=this.startSpan(e,s,c),d=n.setSpan(c,u);return o.with(d,l,void 0,u)}},e}();e.NoopTracer=s})),de=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ProxyTracer=void 0;var t=new(ue().NoopTracer),n=function(){function e(e,t,n){this._provider=e,this.name=t,this.version=n}return e.prototype.startSpan=function(e,t,n){return this._getTracer().startSpan(e,t,n)},e.prototype.startActiveSpan=function(e,t,n,i){var r=this._getTracer();return Reflect.apply(r.startActiveSpan,r,arguments)},e.prototype._getTracer=function(){if(this._delegate)return this._delegate;var e=this._provider.getDelegateTracer(this.name,this.version);return e?(this._delegate=e,this._delegate):t},e}();e.ProxyTracer=n})),pe=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NoopTracerProvider=void 0;var t=ue(),n=function(){function e(){}return e.prototype.getTracer=function(e,n){return new t.NoopTracer},e}();e.NoopTracerProvider=n})),he=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ProxyTracerProvider=void 0;var t=de(),n=new(pe().NoopTracerProvider),i=function(){function e(){}return e.prototype.getTracer=function(e,n){var i;return null!==(i=this.getDelegateTracer(e,n))&&void 0!==i?i:new t.ProxyTracer(this,e,n)},e.prototype.getDelegate=function(){var e;return null!==(e=this._delegate)&&void 0!==e?e:n},e.prototype.setDelegate=function(e){this._delegate=e},e.prototype.getDelegateTracer=function(e,t){var n;return null===(n=this._delegate)||void 0===n?void 0:n.getTracer(e,t)},e}();e.ProxyTracerProvider=i})),me=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),fe=S((e=>{"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.SamplingDecision=void 0,(t=e.SamplingDecision||(e.SamplingDecision={}))[t.NOT_RECORD=0]="NOT_RECORD",t[t.RECORD=1]="RECORD",t[t.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})),ge=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),ve=S((e=>{"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.SpanKind=void 0,(t=e.SpanKind||(e.SpanKind={}))[t.INTERNAL=0]="INTERNAL",t[t.SERVER=1]="SERVER",t[t.CLIENT=2]="CLIENT",t[t.PRODUCER=3]="PRODUCER",t[t.CONSUMER=4]="CONSUMER"})),_e=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),ye=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Se=S((e=>{"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.SpanStatusCode=void 0,(t=e.SpanStatusCode||(e.SpanStatusCode={}))[t.UNSET=0]="UNSET",t[t.OK=1]="OK",t[t.ERROR=2]="ERROR"})),Ee=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Te=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Ce=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),be=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Ie=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TraceAPI=void 0;var t=j(),n=he(),i=ce(),r=le(),o=G(),s="trace",a=function(){function e(){this._proxyTracerProvider=new n.ProxyTracerProvider,this.wrapSpanContext=i.wrapSpanContext,this.isSpanContextValid=i.isSpanContextValid,this.deleteSpan=r.deleteSpan,this.getSpan=r.getSpan,this.getSpanContext=r.getSpanContext,this.setSpan=r.setSpan,this.setSpanContext=r.setSpanContext}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalTracerProvider=function(e){var n=t.registerGlobal(s,this._proxyTracerProvider,o.DiagAPI.instance());return n&&this._proxyTracerProvider.setDelegate(e),n},e.prototype.getTracerProvider=function(){return t.getGlobal(s)||this._proxyTracerProvider},e.prototype.getTracer=function(e,t){return this.getTracerProvider().getTracer(e,t)},e.prototype.disable=function(){t.unregisterGlobal(s,o.DiagAPI.instance()),this._proxyTracerProvider=new n.ProxyTracerProvider},e}();e.TraceAPI=a})),Re=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NoopTextMapPropagator=void 0;var t=function(){function e(){}return e.prototype.inject=function(e,t){},e.prototype.extract=function(e,t){return e},e.prototype.fields=function(){return[]},e}();e.NoopTextMapPropagator=t})),Ae=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.deleteBaggage=e.setBaggage=e.getBaggage=void 0;var t=ne().createContextKey("OpenTelemetry Baggage Key");e.getBaggage=function(e){return e.getValue(t)||void 0},e.setBaggage=function(e,n){return e.setValue(t,n)},e.deleteBaggage=function(e){return e.deleteValue(t)}})),Oe=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PropagationAPI=void 0;var t=j(),n=Re(),i=Z(),r=Ae(),o=K(),s=G(),a="propagation",l=new n.NoopTextMapPropagator,c=function(){function e(){this.createBaggage=o.createBaggage,this.getBaggage=r.getBaggage,this.setBaggage=r.setBaggage,this.deleteBaggage=r.deleteBaggage}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalPropagator=function(e){return t.registerGlobal(a,e,s.DiagAPI.instance())},e.prototype.inject=function(e,t,n){return void 0===n&&(n=i.defaultTextMapSetter),this._getGlobalPropagator().inject(e,t,n)},e.prototype.extract=function(e,t,n){return void 0===n&&(n=i.defaultTextMapGetter),this._getGlobalPropagator().extract(e,t,n)},e.prototype.fields=function(){return this._getGlobalPropagator().fields()},e.prototype.disable=function(){t.unregisterGlobal(a,s.DiagAPI.instance())},e.prototype._getGlobalPropagator=function(){return t.getGlobal(a)||l},e}();e.PropagationAPI=c})),we=S((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),n=e&&e.__exportStar||function(e,n){for(var i in e)"default"!==i&&!Object.prototype.hasOwnProperty.call(n,i)&&t(n,e,i)};Object.defineProperty(e,"__esModule",{value:!0}),e.diag=e.propagation=e.trace=e.context=e.INVALID_SPAN_CONTEXT=e.INVALID_TRACEID=e.INVALID_SPANID=e.isValidSpanId=e.isValidTraceId=e.isSpanContextValid=e.baggageEntryMetadataFromString=void 0,n(k(),e);var i=K();Object.defineProperty(e,"baggageEntryMetadataFromString",{enumerable:!0,get:function(){return i.baggageEntryMetadataFromString}}),n(X(),e),n(Y(),e),n(J(),e),n(Z(),e),n(ee(),e),n(te(),e),n(de(),e),n(he(),e),n(me(),e),n(fe(),e),n(ge(),e),n(ve(),e),n(_e(),e),n(ye(),e),n(Se(),e),n(oe(),e),n(Ee(),e),n(Te(),e),n(Ce(),e);var r=ce();Object.defineProperty(e,"isSpanContextValid",{enumerable:!0,get:function(){return r.isSpanContextValid}}),Object.defineProperty(e,"isValidTraceId",{enumerable:!0,get:function(){return r.isValidTraceId}}),Object.defineProperty(e,"isValidSpanId",{enumerable:!0,get:function(){return r.isValidSpanId}});var o=se();Object.defineProperty(e,"INVALID_SPANID",{enumerable:!0,get:function(){return o.INVALID_SPANID}}),Object.defineProperty(e,"INVALID_TRACEID",{enumerable:!0,get:function(){return o.INVALID_TRACEID}}),Object.defineProperty(e,"INVALID_SPAN_CONTEXT",{enumerable:!0,get:function(){return o.INVALID_SPAN_CONTEXT}}),n(ne(),e),n(be(),e);var s=re();e.context=s.ContextAPI.getInstance();var a=Ie();e.trace=a.TraceAPI.getInstance();var l=Oe();e.propagation=l.PropagationAPI.getInstance();var c=G();e.diag=c.DiagAPI.instance(),e.default={trace:e.trace,context:e.context,propagation:e.propagation,diag:e.diag}})),xe=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isTracingSuppressed=e.unsuppressTracing=e.suppressTracing=void 0;var t=we().createContextKey("OpenTelemetry SDK Context Key SUPPRESS_TRACING");e.suppressTracing=function(e){return e.setValue(t,!0)},e.unsuppressTracing=function(e){return e.deleteValue(t)},e.isTracingSuppressed=function(e){return!0===e.getValue(t)}})),Pe=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BAGGAGE_MAX_TOTAL_LENGTH=e.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=e.BAGGAGE_MAX_NAME_VALUE_PAIRS=e.BAGGAGE_HEADER=e.BAGGAGE_ITEMS_SEPARATOR=e.BAGGAGE_PROPERTIES_SEPARATOR=e.BAGGAGE_KEY_PAIR_SEPARATOR=void 0,e.BAGGAGE_KEY_PAIR_SEPARATOR="=",e.BAGGAGE_PROPERTIES_SEPARATOR=";",e.BAGGAGE_ITEMS_SEPARATOR=",",e.BAGGAGE_HEADER="baggage",e.BAGGAGE_MAX_NAME_VALUE_PAIRS=180,e.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=4096,e.BAGGAGE_MAX_TOTAL_LENGTH=8192})),Ne=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseKeyPairsIntoRecord=e.parsePairKeyValue=e.getKeyPairs=e.serializeKeyPairs=void 0;var t=we(),n=Pe();e.serializeKeyPairs=e=>e.reduce(((e,t)=>{let i=`${e}${""!==e?n.BAGGAGE_ITEMS_SEPARATOR:""}${t}`;return i.length>n.BAGGAGE_MAX_TOTAL_LENGTH?e:i}),""),e.getKeyPairs=e=>e.getAllEntries().map((([e,t])=>`${encodeURIComponent(e)}=${encodeURIComponent(t.value)}`)),e.parsePairKeyValue=e=>{let i=e.split(n.BAGGAGE_PROPERTIES_SEPARATOR);if(i.length<=0)return;let r=i.shift();if(!r)return;let o=r.split(n.BAGGAGE_KEY_PAIR_SEPARATOR);if(2!==o.length)return;let s,a=decodeURIComponent(o[0].trim()),l=decodeURIComponent(o[1].trim());return i.length>0&&(s=t.baggageEntryMetadataFromString(i.join(n.BAGGAGE_PROPERTIES_SEPARATOR))),{key:a,value:l,metadata:s}},e.parseKeyPairsIntoRecord=t=>"string"!=typeof t||0===t.length?{}:t.split(n.BAGGAGE_ITEMS_SEPARATOR).map((t=>e.parsePairKeyValue(t))).filter((e=>void 0!==e&&e.value.length>0)).reduce(((e,t)=>(e[t.key]=t.value,e)),{})})),De=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HttpBaggagePropagator=void 0;var t=we(),n=xe(),i=Pe(),r=Ne();e.HttpBaggagePropagator=class{inject(e,o,s){let a=t.propagation.getBaggage(e);if(!a||n.isTracingSuppressed(e))return;let l=r.getKeyPairs(a).filter((e=>e.length<=i.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS)).slice(0,i.BAGGAGE_MAX_NAME_VALUE_PAIRS),c=r.serializeKeyPairs(l);c.length>0&&s.set(o,i.BAGGAGE_HEADER,c)}extract(e,n,o){let s=o.get(n,i.BAGGAGE_HEADER);if(!s)return e;let a={};return 0===s.length||(s.split(i.BAGGAGE_ITEMS_SEPARATOR).forEach((e=>{let t=r.parsePairKeyValue(e);if(t){let e={value:t.value};t.metadata&&(e.metadata=t.metadata),a[t.key]=e}})),0===Object.entries(a).length)?e:t.propagation.setBaggage(e,t.propagation.createBaggage(a))}fields(){return[i.BAGGAGE_HEADER]}}})),Me=S((e=>{"use strict";function t(e){return null==e||(Array.isArray(e)?function(e){let t;for(let i of e)if(null!=i){if(!t){if(n(i)){t=typeof i;continue}return!1}if(typeof i!==t)return!1}return!0}(e):n(e))}function n(e){switch(typeof e){case"number":case"boolean":case"string":return!0}return!1}Object.defineProperty(e,"__esModule",{value:!0}),e.isAttributeValue=e.sanitizeAttributes=void 0,e.sanitizeAttributes=function(e){let n={};if(null==e||"object"!=typeof e)return n;for(let[i,r]of Object.entries(e))t(r)&&(Array.isArray(r)?n[i]=r.slice():n[i]=r);return n},e.isAttributeValue=t})),ke=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.loggingErrorHandler=void 0;var t=we();e.loggingErrorHandler=function(){return e=>{t.diag.error(function(e){return"string"==typeof e?e:JSON.stringify(function(e){let t={},n=e;for(;null!==n;)Object.getOwnPropertyNames(n).forEach((e=>{if(t[e])return;let i=n[e];i&&(t[e]=String(i))})),n=Object.getPrototypeOf(n);return t}(e))}(e))}}})),Le=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.globalErrorHandler=e.setGlobalErrorHandler=void 0;var t=ke().loggingErrorHandler();e.setGlobalErrorHandler=function(e){t=e},e.globalErrorHandler=e=>{try{t(e)}catch{}}})),Be=S((e=>{"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.TracesSamplerValues=void 0,(t=e.TracesSamplerValues||(e.TracesSamplerValues={})).AlwaysOff="always_off",t.AlwaysOn="always_on",t.ParentBasedAlwaysOff="parentbased_always_off",t.ParentBasedAlwaysOn="parentbased_always_on",t.ParentBasedTraceIdRatio="parentbased_traceidratio",t.TraceIdRatio="traceidratio"})),qe=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseEnvironment=e.DEFAULT_ENVIRONMENT=void 0;var t=we(),n=Be(),i=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT"];function r(e){return i.indexOf(e)>-1}var o=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS"];function s(e){return o.indexOf(e)>-1}function a(e,t,n,i=-1/0,r=1/0){if(typeof n[e]<"u"){let o=Number(n[e]);isNaN(o)||(t[e]=o<i?i:o>r?r:o)}}function l(e,t,n,i=","){let r=n[e];"string"==typeof r&&(t[e]=r.split(i).map((e=>e.trim())))}e.DEFAULT_ENVIRONMENT={CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:t.DiagLogLevel.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:128,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_TRACES_EXPORTER:"none",OTEL_TRACES_SAMPLER:n.TracesSamplerValues.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:""};var c={ALL:t.DiagLogLevel.ALL,VERBOSE:t.DiagLogLevel.VERBOSE,DEBUG:t.DiagLogLevel.DEBUG,INFO:t.DiagLogLevel.INFO,WARN:t.DiagLogLevel.WARN,ERROR:t.DiagLogLevel.ERROR,NONE:t.DiagLogLevel.NONE};function u(e,t,n){let i=n[e];if("string"==typeof i){let n=c[i.toUpperCase()];null!=n&&(t[e]=n)}}e.parseEnvironment=function(t){let n={};for(let i in e.DEFAULT_ENVIRONMENT){let e=i;if("OTEL_LOG_LEVEL"===e)u(e,n,t);else if(r(e))a(e,n,t);else if(s(e))l(e,n,t);else{let i=t[e];typeof i<"u"&&null!==i&&(n[e]=String(i))}}return n}})),Fe=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getEnv=void 0;var t=n(2037),i=qe();e.getEnv=function(){let e=i.parseEnvironment(process.env);return Object.assign({HOSTNAME:t.hostname()},i.DEFAULT_ENVIRONMENT,e)}})),Ue=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hexToBase64=void 0,e.hexToBase64=function(e){let t=e.length,n="";for(let i=0;i<t;i+=2){let t=e.substring(i,i+2),r=parseInt(t,16);n+=String.fromCharCode(r)}return Buffer.from(n,"ascii").toString("base64")}})),je=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RandomIdGenerator=void 0,e.RandomIdGenerator=class{constructor(){this.generateTraceId=n(16),this.generateSpanId=n(8)}};var t=Buffer.allocUnsafe(16);function n(e){return function(){for(let n=0;n<e/4;n++)t.writeUInt32BE(Math.random()*2**32>>>0,4*n);for(let n=0;n<e&&!(t[n]>0);n++)n===e-1&&(t[e-1]=1);return t.toString("hex",0,e)}}})),ze=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.otperformance=void 0;var t=n(4074);e.otperformance=t.performance})),He=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VERSION=void 0,e.VERSION="0.23.0"})),Ve=S((e=>{"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.RpcGrpcStatusCodeValues=e.MessagingOperationValues=e.MessagingDestinationKindValues=e.HttpFlavorValues=e.NetTransportValues=e.FaasInvokedProviderValues=e.FaasDocumentOperationValues=e.FaasTriggerValues=e.DbCassandraConsistencyLevelValues=e.DbSystemValues=e.SemanticAttributes=void 0,e.SemanticAttributes={DB_SYSTEM:"db.system",DB_CONNECTION_STRING:"db.connection_string",DB_USER:"db.user",DB_JDBC_DRIVER_CLASSNAME:"db.jdbc.driver_classname",DB_NAME:"db.name",DB_STATEMENT:"db.statement",DB_OPERATION:"db.operation",DB_MSSQL_INSTANCE_NAME:"db.mssql.instance_name",DB_CASSANDRA_KEYSPACE:"db.cassandra.keyspace",DB_CASSANDRA_PAGE_SIZE:"db.cassandra.page_size",DB_CASSANDRA_CONSISTENCY_LEVEL:"db.cassandra.consistency_level",DB_CASSANDRA_TABLE:"db.cassandra.table",DB_CASSANDRA_IDEMPOTENCE:"db.cassandra.idempotence",DB_CASSANDRA_SPECULATIVE_EXECUTION_COUNT:"db.cassandra.speculative_execution_count",DB_CASSANDRA_COORDINATOR_ID:"db.cassandra.coordinator.id",DB_CASSANDRA_COORDINATOR_DC:"db.cassandra.coordinator.dc",DB_HBASE_NAMESPACE:"db.hbase.namespace",DB_REDIS_DATABASE_INDEX:"db.redis.database_index",DB_MONGODB_COLLECTION:"db.mongodb.collection",DB_SQL_TABLE:"db.sql.table",EXCEPTION_TYPE:"exception.type",EXCEPTION_MESSAGE:"exception.message",EXCEPTION_STACKTRACE:"exception.stacktrace",EXCEPTION_ESCAPED:"exception.escaped",FAAS_TRIGGER:"faas.trigger",FAAS_EXECUTION:"faas.execution",FAAS_DOCUMENT_COLLECTION:"faas.document.collection",FAAS_DOCUMENT_OPERATION:"faas.document.operation",FAAS_DOCUMENT_TIME:"faas.document.time",FAAS_DOCUMENT_NAME:"faas.document.name",FAAS_TIME:"faas.time",FAAS_CRON:"faas.cron",FAAS_COLDSTART:"faas.coldstart",FAAS_INVOKED_NAME:"faas.invoked_name",FAAS_INVOKED_PROVIDER:"faas.invoked_provider",FAAS_INVOKED_REGION:"faas.invoked_region",NET_TRANSPORT:"net.transport",NET_PEER_IP:"net.peer.ip",NET_PEER_PORT:"net.peer.port",NET_PEER_NAME:"net.peer.name",NET_HOST_IP:"net.host.ip",NET_HOST_PORT:"net.host.port",NET_HOST_NAME:"net.host.name",PEER_SERVICE:"peer.service",ENDUSER_ID:"enduser.id",ENDUSER_ROLE:"enduser.role",ENDUSER_SCOPE:"enduser.scope",THREAD_ID:"thread.id",THREAD_NAME:"thread.name",CODE_FUNCTION:"code.function",CODE_NAMESPACE:"code.namespace",CODE_FILEPATH:"code.filepath",CODE_LINENO:"code.lineno",HTTP_METHOD:"http.method",HTTP_URL:"http.url",HTTP_TARGET:"http.target",HTTP_HOST:"http.host",HTTP_SCHEME:"http.scheme",HTTP_STATUS_CODE:"http.status_code",HTTP_FLAVOR:"http.flavor",HTTP_USER_AGENT:"http.user_agent",HTTP_REQUEST_CONTENT_LENGTH:"http.request_content_length",HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED:"http.request_content_length_uncompressed",HTTP_RESPONSE_CONTENT_LENGTH:"http.response_content_length",HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED:"http.response_content_length_uncompressed",HTTP_SERVER_NAME:"http.server_name",HTTP_ROUTE:"http.route",HTTP_CLIENT_IP:"http.client_ip",AWS_DYNAMODB_TABLE_NAMES:"aws.dynamodb.table_names",AWS_DYNAMODB_CONSUMED_CAPACITY:"aws.dynamodb.consumed_capacity",AWS_DYNAMODB_ITEM_COLLECTION_METRICS:"aws.dynamodb.item_collection_metrics",AWS_DYNAMODB_PROVISIONED_READ_CAPACITY:"aws.dynamodb.provisioned_read_capacity",AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY:"aws.dynamodb.provisioned_write_capacity",AWS_DYNAMODB_CONSISTENT_READ:"aws.dynamodb.consistent_read",AWS_DYNAMODB_PROJECTION:"aws.dynamodb.projection",AWS_DYNAMODB_LIMIT:"aws.dynamodb.limit",AWS_DYNAMODB_ATTRIBUTES_TO_GET:"aws.dynamodb.attributes_to_get",AWS_DYNAMODB_INDEX_NAME:"aws.dynamodb.index_name",AWS_DYNAMODB_SELECT:"aws.dynamodb.select",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES:"aws.dynamodb.global_secondary_indexes",AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES:"aws.dynamodb.local_secondary_indexes",AWS_DYNAMODB_EXCLUSIVE_START_TABLE:"aws.dynamodb.exclusive_start_table",AWS_DYNAMODB_TABLE_COUNT:"aws.dynamodb.table_count",AWS_DYNAMODB_SCAN_FORWARD:"aws.dynamodb.scan_forward",AWS_DYNAMODB_SEGMENT:"aws.dynamodb.segment",AWS_DYNAMODB_TOTAL_SEGMENTS:"aws.dynamodb.total_segments",AWS_DYNAMODB_COUNT:"aws.dynamodb.count",AWS_DYNAMODB_SCANNED_COUNT:"aws.dynamodb.scanned_count",AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS:"aws.dynamodb.attribute_definitions",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES:"aws.dynamodb.global_secondary_index_updates",MESSAGING_SYSTEM:"messaging.system",MESSAGING_DESTINATION:"messaging.destination",MESSAGING_DESTINATION_KIND:"messaging.destination_kind",MESSAGING_TEMP_DESTINATION:"messaging.temp_destination",MESSAGING_PROTOCOL:"messaging.protocol",MESSAGING_PROTOCOL_VERSION:"messaging.protocol_version",MESSAGING_URL:"messaging.url",MESSAGING_MESSAGE_ID:"messaging.message_id",MESSAGING_CONVERSATION_ID:"messaging.conversation_id",MESSAGING_MESSAGE_PAYLOAD_SIZE_BYTES:"messaging.message_payload_size_bytes",MESSAGING_MESSAGE_PAYLOAD_COMPRESSED_SIZE_BYTES:"messaging.message_payload_compressed_size_bytes",MESSAGING_OPERATION:"messaging.operation",MESSAGING_RABBITMQ_ROUTING_KEY:"messaging.rabbitmq.routing_key",MESSAGING_KAFKA_MESSAGE_KEY:"messaging.kafka.message_key",MESSAGING_KAFKA_CONSUMER_GROUP:"messaging.kafka.consumer_group",MESSAGING_KAFKA_CLIENT_ID:"messaging.kafka.client_id",MESSAGING_KAFKA_PARTITION:"messaging.kafka.partition",MESSAGING_KAFKA_TOMBSTONE:"messaging.kafka.tombstone",RPC_SYSTEM:"rpc.system",RPC_SERVICE:"rpc.service",RPC_METHOD:"rpc.method",RPC_GRPC_STATUS_CODE:"rpc.grpc.status_code",RPC_JSONRPC_VERSION:"rpc.jsonrpc.version",RPC_JSONRPC_METHOD:"rpc.jsonrpc.method",RPC_JSONRPC_REQUEST_ID:"rpc.jsonrpc.request_id",RPC_JSONRPC_ERROR_CODE:"rpc.jsonrpc.error_code",RPC_JSONRPC_ERROR_MESSAGE:"rpc.jsonrpc.error_message"},(t=e.DbSystemValues||(e.DbSystemValues={})).OTHER_SQL="other_sql",t.MSSQL="mssql",t.MYSQL="mysql",t.ORACLE="oracle",t.DB2="db2",t.POSTGRESQL="postgresql",t.REDSHIFT="redshift",t.HIVE="hive",t.CLOUDSCAPE="cloudscape",t.HSQLDB="hsqldb",t.PROGRESS="progress",t.MAXDB="maxdb",t.HANADB="hanadb",t.INGRES="ingres",t.FIRSTSQL="firstsql",t.EDB="edb",t.CACHE="cache",t.ADABAS="adabas",t.FIREBIRD="firebird",t.DERBY="derby",t.FILEMAKER="filemaker",t.INFORMIX="informix",t.INSTANTDB="instantdb",t.INTERBASE="interbase",t.MARIADB="mariadb",t.NETEZZA="netezza",t.PERVASIVE="pervasive",t.POINTBASE="pointbase",t.SQLITE="sqlite",t.SYBASE="sybase",t.TERADATA="teradata",t.VERTICA="vertica",t.H2="h2",t.COLDFUSION="coldfusion",t.CASSANDRA="cassandra",t.HBASE="hbase",t.MONGODB="mongodb",t.REDIS="redis",t.COUCHBASE="couchbase",t.COUCHDB="couchdb",t.COSMOSDB="cosmosdb",t.DYNAMODB="dynamodb",t.NEO4J="neo4j",t.GEODE="geode",t.ELASTICSEARCH="elasticsearch",t.MEMCACHED="memcached",t.COCKROACHDB="cockroachdb",function(e){e.ALL="all",e.EACH_QUORUM="each_quorum",e.QUORUM="quorum",e.LOCAL_QUORUM="local_quorum",e.ONE="one",e.TWO="two",e.THREE="three",e.LOCAL_ONE="local_one",e.ANY="any",e.SERIAL="serial",e.LOCAL_SERIAL="local_serial"}(e.DbCassandraConsistencyLevelValues||(e.DbCassandraConsistencyLevelValues={})),function(e){e.DATASOURCE="datasource",e.HTTP="http",e.PUBSUB="pubsub",e.TIMER="timer",e.OTHER="other"}(e.FaasTriggerValues||(e.FaasTriggerValues={})),function(e){e.INSERT="insert",e.EDIT="edit",e.DELETE="delete"}(e.FaasDocumentOperationValues||(e.FaasDocumentOperationValues={})),function(e){e.AWS="aws",e.AZURE="azure",e.GCP="gcp"}(e.FaasInvokedProviderValues||(e.FaasInvokedProviderValues={})),function(e){e.IP_TCP="ip_tcp",e.IP_UDP="ip_udp",e.IP="ip",e.UNIX="unix",e.PIPE="pipe",e.INPROC="inproc",e.OTHER="other"}(e.NetTransportValues||(e.NetTransportValues={})),function(e){e.HTTP_1_0="1.0",e.HTTP_1_1="1.1",e.HTTP_2_0="2.0",e.SPDY="SPDY",e.QUIC="QUIC"}(e.HttpFlavorValues||(e.HttpFlavorValues={})),function(e){e.QUEUE="queue",e.TOPIC="topic"}(e.MessagingDestinationKindValues||(e.MessagingDestinationKindValues={})),function(e){e.RECEIVE="receive",e.PROCESS="process"}(e.MessagingOperationValues||(e.MessagingOperationValues={})),function(e){e[e.OK=0]="OK",e[e.CANCELLED=1]="CANCELLED",e[e.UNKNOWN=2]="UNKNOWN",e[e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",e[e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",e[e.NOT_FOUND=5]="NOT_FOUND",e[e.ALREADY_EXISTS=6]="ALREADY_EXISTS",e[e.PERMISSION_DENIED=7]="PERMISSION_DENIED",e[e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",e[e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",e[e.ABORTED=10]="ABORTED",e[e.OUT_OF_RANGE=11]="OUT_OF_RANGE",e[e.UNIMPLEMENTED=12]="UNIMPLEMENTED",e[e.INTERNAL=13]="INTERNAL",e[e.UNAVAILABLE=14]="UNAVAILABLE",e[e.DATA_LOSS=15]="DATA_LOSS",e[e.UNAUTHENTICATED=16]="UNAUTHENTICATED"}(e.RpcGrpcStatusCodeValues||(e.RpcGrpcStatusCodeValues={}))})),Ge=S((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),n=e&&e.__exportStar||function(e,n){for(var i in e)"default"!==i&&!Object.prototype.hasOwnProperty.call(n,i)&&t(n,e,i)};Object.defineProperty(e,"__esModule",{value:!0}),n(Ve(),e)})),We=S((e=>{"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.TelemetrySdkLanguageValues=e.OsTypeValues=e.HostArchValues=e.AwsEcsLaunchtypeValues=e.CloudPlatformValues=e.CloudProviderValues=e.ResourceAttributes=void 0,e.ResourceAttributes={CLOUD_PROVIDER:"cloud.provider",CLOUD_ACCOUNT_ID:"cloud.account.id",CLOUD_REGION:"cloud.region",CLOUD_AVAILABILITY_ZONE:"cloud.availability_zone",CLOUD_PLATFORM:"cloud.platform",AWS_ECS_CONTAINER_ARN:"aws.ecs.container.arn",AWS_ECS_CLUSTER_ARN:"aws.ecs.cluster.arn",AWS_ECS_LAUNCHTYPE:"aws.ecs.launchtype",AWS_ECS_TASK_ARN:"aws.ecs.task.arn",AWS_ECS_TASK_FAMILY:"aws.ecs.task.family",AWS_ECS_TASK_REVISION:"aws.ecs.task.revision",AWS_EKS_CLUSTER_ARN:"aws.eks.cluster.arn",AWS_LOG_GROUP_NAMES:"aws.log.group.names",AWS_LOG_GROUP_ARNS:"aws.log.group.arns",AWS_LOG_STREAM_NAMES:"aws.log.stream.names",AWS_LOG_STREAM_ARNS:"aws.log.stream.arns",CONTAINER_NAME:"container.name",CONTAINER_ID:"container.id",CONTAINER_RUNTIME:"container.runtime",CONTAINER_IMAGE_NAME:"container.image.name",CONTAINER_IMAGE_TAG:"container.image.tag",DEPLOYMENT_ENVIRONMENT:"deployment.environment",DEVICE_ID:"device.id",DEVICE_MODEL_IDENTIFIER:"device.model.identifier",DEVICE_MODEL_NAME:"device.model.name",FAAS_NAME:"faas.name",FAAS_ID:"faas.id",FAAS_VERSION:"faas.version",FAAS_INSTANCE:"faas.instance",FAAS_MAX_MEMORY:"faas.max_memory",HOST_ID:"host.id",HOST_NAME:"host.name",HOST_TYPE:"host.type",HOST_ARCH:"host.arch",HOST_IMAGE_NAME:"host.image.name",HOST_IMAGE_ID:"host.image.id",HOST_IMAGE_VERSION:"host.image.version",K8S_CLUSTER_NAME:"k8s.cluster.name",K8S_NODE_NAME:"k8s.node.name",K8S_NODE_UID:"k8s.node.uid",K8S_NAMESPACE_NAME:"k8s.namespace.name",K8S_POD_UID:"k8s.pod.uid",K8S_POD_NAME:"k8s.pod.name",K8S_CONTAINER_NAME:"k8s.container.name",K8S_REPLICASET_UID:"k8s.replicaset.uid",K8S_REPLICASET_NAME:"k8s.replicaset.name",K8S_DEPLOYMENT_UID:"k8s.deployment.uid",K8S_DEPLOYMENT_NAME:"k8s.deployment.name",K8S_STATEFULSET_UID:"k8s.statefulset.uid",K8S_STATEFULSET_NAME:"k8s.statefulset.name",K8S_DAEMONSET_UID:"k8s.daemonset.uid",K8S_DAEMONSET_NAME:"k8s.daemonset.name",K8S_JOB_UID:"k8s.job.uid",K8S_JOB_NAME:"k8s.job.name",K8S_CRONJOB_UID:"k8s.cronjob.uid",K8S_CRONJOB_NAME:"k8s.cronjob.name",OS_TYPE:"os.type",OS_DESCRIPTION:"os.description",OS_NAME:"os.name",OS_VERSION:"os.version",PROCESS_PID:"process.pid",PROCESS_EXECUTABLE_NAME:"process.executable.name",PROCESS_EXECUTABLE_PATH:"process.executable.path",PROCESS_COMMAND:"process.command",PROCESS_COMMAND_LINE:"process.command_line",PROCESS_COMMAND_ARGS:"process.command_args",PROCESS_OWNER:"process.owner",PROCESS_RUNTIME_NAME:"process.runtime.name",PROCESS_RUNTIME_VERSION:"process.runtime.version",PROCESS_RUNTIME_DESCRIPTION:"process.runtime.description",SERVICE_NAME:"service.name",SERVICE_NAMESPACE:"service.namespace",SERVICE_INSTANCE_ID:"service.instance.id",SERVICE_VERSION:"service.version",TELEMETRY_SDK_NAME:"telemetry.sdk.name",TELEMETRY_SDK_LANGUAGE:"telemetry.sdk.language",TELEMETRY_SDK_VERSION:"telemetry.sdk.version",TELEMETRY_AUTO_VERSION:"telemetry.auto.version",WEBENGINE_NAME:"webengine.name",WEBENGINE_VERSION:"webengine.version",WEBENGINE_DESCRIPTION:"webengine.description"},(t=e.CloudProviderValues||(e.CloudProviderValues={})).AWS="aws",t.AZURE="azure",t.GCP="gcp",function(e){e.AWS_EC2="aws_ec2",e.AWS_ECS="aws_ecs",e.AWS_EKS="aws_eks",e.AWS_LAMBDA="aws_lambda",e.AWS_ELASTIC_BEANSTALK="aws_elastic_beanstalk",e.AZURE_VM="azure_vm",e.AZURE_CONTAINER_INSTANCES="azure_container_instances",e.AZURE_AKS="azure_aks",e.AZURE_FUNCTIONS="azure_functions",e.AZURE_APP_SERVICE="azure_app_service",e.GCP_COMPUTE_ENGINE="gcp_compute_engine",e.GCP_CLOUD_RUN="gcp_cloud_run",e.GCP_KUBERNETES_ENGINE="gcp_kubernetes_engine",e.GCP_CLOUD_FUNCTIONS="gcp_cloud_functions",e.GCP_APP_ENGINE="gcp_app_engine"}(e.CloudPlatformValues||(e.CloudPlatformValues={})),function(e){e.EC2="ec2",e.FARGATE="fargate"}(e.AwsEcsLaunchtypeValues||(e.AwsEcsLaunchtypeValues={})),function(e){e.AMD64="amd64",e.ARM32="arm32",e.ARM64="arm64",e.IA64="ia64",e.PPC32="ppc32",e.PPC64="ppc64",e.X86="x86"}(e.HostArchValues||(e.HostArchValues={})),function(e){e.WINDOWS="windows",e.LINUX="linux",e.DARWIN="darwin",e.FREEBSD="freebsd",e.NETBSD="netbsd",e.OPENBSD="openbsd",e.DRAGONFLYBSD="dragonflybsd",e.HPUX="hpux",e.AIX="aix",e.SOLARIS="solaris",e.Z_OS="z_os"}(e.OsTypeValues||(e.OsTypeValues={})),function(e){e.CPP="cpp",e.DOTNET="dotnet",e.ERLANG="erlang",e.GO="go",e.JAVA="java",e.NODEJS="nodejs",e.PHP="php",e.PYTHON="python",e.RUBY="ruby",e.WEBJS="webjs"}(e.TelemetrySdkLanguageValues||(e.TelemetrySdkLanguageValues={}))})),$e=S((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),n=e&&e.__exportStar||function(e,n){for(var i in e)"default"!==i&&!Object.prototype.hasOwnProperty.call(n,i)&&t(n,e,i)};Object.defineProperty(e,"__esModule",{value:!0}),n(We(),e)})),Ke=S((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),n=e&&e.__exportStar||function(e,n){for(var i in e)"default"!==i&&!Object.prototype.hasOwnProperty.call(n,i)&&t(n,e,i)};Object.defineProperty(e,"__esModule",{value:!0}),n(Ge(),e),n($e(),e)})),Xe=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SDK_INFO=void 0;var t=He(),n=Ke();e.SDK_INFO={[n.ResourceAttributes.TELEMETRY_SDK_NAME]:"opentelemetry",[n.ResourceAttributes.PROCESS_RUNTIME_NAME]:"node",[n.ResourceAttributes.TELEMETRY_SDK_LANGUAGE]:n.TelemetrySdkLanguageValues.NODEJS,[n.ResourceAttributes.TELEMETRY_SDK_VERSION]:t.VERSION}})),Ye=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.unrefTimer=void 0,e.unrefTimer=function(e){e.unref()}})),Qe=S((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),n=e&&e.__exportStar||function(e,n){for(var i in e)"default"!==i&&!Object.prototype.hasOwnProperty.call(n,i)&&t(n,e,i)};Object.defineProperty(e,"__esModule",{value:!0}),n(Fe(),e),n(Ue(),e),n(je(),e),n(ze(),e),n(Xe(),e),n(Ye(),e)})),Je=S((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),n=e&&e.__exportStar||function(e,n){for(var i in e)"default"!==i&&!Object.prototype.hasOwnProperty.call(n,i)&&t(n,e,i)};Object.defineProperty(e,"__esModule",{value:!0}),n(Qe(),e)})),Ze=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isTimeInput=e.isTimeInputHrTime=e.hrTimeToMicroseconds=e.hrTimeToMilliseconds=e.hrTimeToNanoseconds=e.hrTimeToTimeStamp=e.hrTimeDuration=e.timeInputToHrTime=e.hrTime=void 0;var t=Je(),n=Math.pow(10,9);function i(e){let t=e/1e3,i=Math.trunc(t);return[i,Number((t-i).toFixed(9))*n]}function r(){let e=t.otperformance.timeOrigin;if("number"!=typeof e){let n=t.otperformance;e=n.timing&&n.timing.fetchStart}return e}function o(e){let o=i(r()),s=i("number"==typeof e?e:t.otperformance.now()),a=o[0]+s[0],l=o[1]+s[1];return l>n&&(l-=n,a+=1),[a,l]}function s(e){return Array.isArray(e)&&2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1]}e.hrTime=o,e.timeInputToHrTime=function(e){if(s(e))return e;if("number"==typeof e)return e<r()?o(e):i(e);if(e instanceof Date)return i(e.getTime());throw TypeError("Invalid input type")},e.hrTimeDuration=function(e,t){let i=t[0]-e[0],r=t[1]-e[1];return r<0&&(i-=1,r+=n),[i,r]},e.hrTimeToTimeStamp=function(e){let t=`${"0".repeat(9)}${e[1]}Z`,n=t.substr(t.length-9-1);return new Date(1e3*e[0]).toISOString().replace("000Z",n)},e.hrTimeToNanoseconds=function(e){return e[0]*n+e[1]},e.hrTimeToMilliseconds=function(e){return Math.round(1e3*e[0]+e[1]/1e6)},e.hrTimeToMicroseconds=function(e){return Math.round(1e6*e[0]+e[1]/1e3)},e.isTimeInputHrTime=s,e.isTimeInput=function(e){return s(e)||"number"==typeof e||e instanceof Date}})),et=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),tt=S((e=>{"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.ExportResultCode=void 0,(t=e.ExportResultCode||(e.ExportResultCode={}))[t.SUCCESS=0]="SUCCESS",t[t.FAILED=1]="FAILED"})),nt=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompositePropagator=void 0;var t=we();e.CompositePropagator=class{constructor(e={}){var t;this._propagators=null!==(t=e.propagators)&&void 0!==t?t:[],this._fields=Array.from(new Set(this._propagators.map((e=>"function"==typeof e.fields?e.fields():[])).reduce(((e,t)=>e.concat(t)),[])))}inject(e,n,i){for(let r of this._propagators)try{r.inject(e,n,i)}catch(e){t.diag.warn(`Failed to inject with ${r.constructor.name}. Err: ${e.message}`)}}extract(e,n,i){return this._propagators.reduce(((e,r)=>{try{return r.extract(e,n,i)}catch(e){t.diag.warn(`Failed to inject with ${r.constructor.name}. Err: ${e.message}`)}return e}),e)}fields(){return this._fields.slice()}}})),it=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.validateValue=e.validateKey=void 0;var t="[_0-9a-z-*/]",n=new RegExp(`^(?:[a-z]${t}{0,255}|[a-z0-9]${t}{0,240}@[a-z]${t}{0,13})$`),i=/^[ -~]{0,255}[!-~]$/,r=/,|=/;e.validateKey=function(e){return n.test(e)},e.validateValue=function(e){return i.test(e)&&!r.test(e)}})),rt=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TraceState=void 0;var t=it(),n=class{constructor(e){this._internalState=new Map,e&&this._parse(e)}set(e,t){let n=this._clone();return n._internalState.has(e)&&n._internalState.delete(e),n._internalState.set(e,t),n}unset(e){let t=this._clone();return t._internalState.delete(e),t}get(e){return this._internalState.get(e)}serialize(){return this._keys().reduce(((e,t)=>(e.push(t+"="+this.get(t)),e)),[]).join(",")}_parse(e){e.length>512||(this._internalState=e.split(",").reverse().reduce(((e,n)=>{let i=n.trim(),r=i.indexOf("=");if(-1!==r){let o=i.slice(0,r),s=i.slice(r+1,n.length);t.validateKey(o)&&t.validateValue(s)&&e.set(o,s)}return e}),new Map),this._internalState.size>32&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,32))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let e=new n;return e._internalState=new Map(this._internalState),e}};e.TraceState=n})),ot=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HttpTraceContextPropagator=e.parseTraceParent=e.TRACE_STATE_HEADER=e.TRACE_PARENT_HEADER=void 0;var t=we(),n=xe(),i=rt();e.TRACE_PARENT_HEADER="traceparent",e.TRACE_STATE_HEADER="tracestate";var r=new RegExp("^\\s?((?!ff)[\\da-f]{2})-((?![0]{32})[\\da-f]{32})-((?![0]{16})[\\da-f]{16})-([\\da-f]{2})(-.*)?\\s?$");function o(e){let t=r.exec(e);return!t||"00"===t[1]&&t[5]?null:{traceId:t[2],spanId:t[3],traceFlags:parseInt(t[4],16)}}e.parseTraceParent=o,e.HttpTraceContextPropagator=class{inject(i,r,o){let s=t.trace.getSpanContext(i);if(!s||n.isTracingSuppressed(i)||!t.isSpanContextValid(s))return;let a=`00-${s.traceId}-${s.spanId}-0${Number(s.traceFlags||t.TraceFlags.NONE).toString(16)}`;o.set(r,e.TRACE_PARENT_HEADER,a),s.traceState&&o.set(r,e.TRACE_STATE_HEADER,s.traceState.serialize())}extract(n,r,s){let a=s.get(r,e.TRACE_PARENT_HEADER);if(!a)return n;let l=Array.isArray(a)?a[0]:a;if("string"!=typeof l)return n;let c=o(l);if(!c)return n;c.isRemote=!0;let u=s.get(r,e.TRACE_STATE_HEADER);if(u){let e=Array.isArray(u)?u.join(","):u;c.traceState=new i.TraceState("string"==typeof e?e:void 0)}return t.trace.setSpanContext(n,c)}fields(){return[e.TRACE_PARENT_HEADER,e.TRACE_STATE_HEADER]}}})),st=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),at=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getRPCMetadata=e.deleteRPCMetadata=e.setRPCMetadata=e.RPCType=void 0;var t=we().createContextKey("OpenTelemetry SDK Context Key RPC_METADATA");(e.RPCType||(e.RPCType={})).HTTP="http",e.setRPCMetadata=function(e,n){return e.setValue(t,n)},e.deleteRPCMetadata=function(e){return e.deleteValue(t)},e.getRPCMetadata=function(e){return e.getValue(t)}})),lt=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AlwaysOffSampler=void 0;var t=we();e.AlwaysOffSampler=class{shouldSample(){return{decision:t.SamplingDecision.NOT_RECORD}}toString(){return"AlwaysOffSampler"}}})),ct=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AlwaysOnSampler=void 0;var t=we();e.AlwaysOnSampler=class{shouldSample(){return{decision:t.SamplingDecision.RECORD_AND_SAMPLED}}toString(){return"AlwaysOnSampler"}}})),ut=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ParentBasedSampler=void 0;var t=we(),n=Le(),i=lt(),r=ct();e.ParentBasedSampler=class{constructor(e){var t,o,s,a;this._root=e.root,this._root||(n.globalErrorHandler(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new r.AlwaysOnSampler),this._remoteParentSampled=null!==(t=e.remoteParentSampled)&&void 0!==t?t:new r.AlwaysOnSampler,this._remoteParentNotSampled=null!==(o=e.remoteParentNotSampled)&&void 0!==o?o:new i.AlwaysOffSampler,this._localParentSampled=null!==(s=e.localParentSampled)&&void 0!==s?s:new r.AlwaysOnSampler,this._localParentNotSampled=null!==(a=e.localParentNotSampled)&&void 0!==a?a:new i.AlwaysOffSampler}shouldSample(e,n,i,r,o,s){let a=t.trace.getSpanContext(e);return a&&t.isSpanContextValid(a)?a.isRemote?a.traceFlags&t.TraceFlags.SAMPLED?this._remoteParentSampled.shouldSample(e,n,i,r,o,s):this._remoteParentNotSampled.shouldSample(e,n,i,r,o,s):a.traceFlags&t.TraceFlags.SAMPLED?this._localParentSampled.shouldSample(e,n,i,r,o,s):this._localParentNotSampled.shouldSample(e,n,i,r,o,s):this._root.shouldSample(e,n,i,r,o,s)}toString(){return`ParentBased{root=${this._root.toString()}, remoteParentSampled=${this._remoteParentSampled.toString()}, remoteParentNotSampled=${this._remoteParentNotSampled.toString()}, localParentSampled=${this._localParentSampled.toString()}, localParentNotSampled=${this._localParentNotSampled.toString()}}`}}})),dt=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TraceIdRatioBasedSampler=void 0;var t=we();e.TraceIdRatioBasedSampler=class{constructor(e=0){this._ratio=e,this._ratio=this._normalize(e),this._upperBound=Math.floor(4294967295*this._ratio)}shouldSample(e,n){return{decision:t.isValidTraceId(n)&&this._accumulate(n)<this._upperBound?t.SamplingDecision.RECORD_AND_SAMPLED:t.SamplingDecision.NOT_RECORD}}toString(){return`TraceIdRatioBased{${this._ratio}}`}_normalize(e){return"number"!=typeof e||isNaN(e)?0:e>=1?1:e<=0?0:e}_accumulate(e){let t=0;for(let n=0;n<e.length/8;n++){let i=8*n;t=(t^parseInt(e.slice(i,i+8),16))>>>0}return t}}})),pt=S((e=>{"use strict";function t(e,t){return"string"==typeof t?e===t:t.test(e)}Object.defineProperty(e,"__esModule",{value:!0}),e.isUrlIgnored=e.urlMatches=void 0,e.urlMatches=t,e.isUrlIgnored=function(e,n){if(!n)return!1;for(let i of n)if(t(e,i))return!0;return!1}})),ht=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isWrapped=void 0,e.isWrapped=function(e){return"function"==typeof e&&"function"==typeof e.__original&&"function"==typeof e.__unwrap&&!0===e.__wrapped}})),mt=S((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),n=e&&e.__exportStar||function(e,n){for(var i in e)"default"!==i&&!Object.prototype.hasOwnProperty.call(n,i)&&t(n,e,i)};Object.defineProperty(e,"__esModule",{value:!0}),e.baggageUtils=void 0,n(De(),e),n(Me(),e),n(Le(),e),n(ke(),e),n(Ze(),e),n(et(),e),n(tt(),e),n(He(),e),e.baggageUtils=Ne(),n(Je(),e),n(nt(),e),n(ot(),e),n(st(),e),n(at(),e),n(lt(),e),n(ct(),e),n(ut(),e),n(dt(),e),n(xe(),e),n(rt(),e),n(qe(),e),n(Be(),e),n(pt(),e),n(ht(),e),n(He(),e)})),ft=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExceptionEventName=void 0,e.ExceptionEventName="exception"})),gt=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Span=void 0;var t=we(),n=mt(),i=Ke(),r=ft();e.Span=class{constructor(e,i,r,o,s,a,l=[],c=n.hrTime()){this.attributes={},this.links=[],this.events=[],this.status={code:t.SpanStatusCode.UNSET},this.endTime=[0,0],this._ended=!1,this._duration=[-1,-1],this.name=r,this._spanContext=o,this.parentSpanId=a,this.kind=s,this.links=l,this.startTime=n.timeInputToHrTime(c),this.resource=e.resource,this.instrumentationLibrary=e.instrumentationLibrary,this._spanLimits=e.getSpanLimits(),this._spanProcessor=e.getActiveSpanProcessor(),this._spanProcessor.onStart(this,i)}spanContext(){return this._spanContext}setAttribute(e,i){return null==i||this._isSpanEnded()?this:0===e.length?(t.diag.warn(`Invalid attribute key: ${e}`),this):n.isAttributeValue(i)?(Object.keys(this.attributes).length>=this._spanLimits.attributeCountLimit&&!Object.prototype.hasOwnProperty.call(this.attributes,e)||(this.attributes[e]=i),this):(t.diag.warn(`Invalid attribute value set for key: ${e}`),this)}setAttributes(e){for(let[t,n]of Object.entries(e))this.setAttribute(t,n);return this}addEvent(e,i,r){return this._isSpanEnded()||(this.events.length>=this._spanLimits.eventCountLimit&&(t.diag.warn("Dropping extra events."),this.events.shift()),n.isTimeInput(i)&&(typeof r>"u"&&(r=i),i=void 0),typeof r>"u"&&(r=n.hrTime()),this.events.push({name:e,attributes:i,time:n.timeInputToHrTime(r)})),this}setStatus(e){return this._isSpanEnded()||(this.status=e),this}updateName(e){return this._isSpanEnded()||(this.name=e),this}end(e=n.hrTime()){this._isSpanEnded()?t.diag.error("You can only call end() on a span once."):(this._ended=!0,this.endTime=n.timeInputToHrTime(e),this._duration=n.hrTimeDuration(this.startTime,this.endTime),this._duration[0]<0&&t.diag.warn("Inconsistent start and end time, startTime > endTime",this.startTime,this.endTime),this._spanProcessor.onEnd(this))}isRecording(){return!1===this._ended}recordException(e,o=n.hrTime()){let s={};"string"==typeof e?s[i.SemanticAttributes.EXCEPTION_MESSAGE]=e:e&&(e.code?s[i.SemanticAttributes.EXCEPTION_TYPE]=e.code.toString():e.name&&(s[i.SemanticAttributes.EXCEPTION_TYPE]=e.name),e.message&&(s[i.SemanticAttributes.EXCEPTION_MESSAGE]=e.message),e.stack&&(s[i.SemanticAttributes.EXCEPTION_STACKTRACE]=e.stack)),s[i.SemanticAttributes.EXCEPTION_TYPE]||s[i.SemanticAttributes.EXCEPTION_MESSAGE]?this.addEvent(r.ExceptionEventName,s,o):t.diag.warn(`Failed to record an exception ${e}`)}get duration(){return this._duration}get ended(){return this._ended}_isSpanEnded(){return this._ended&&t.diag.warn("Can not execute the operation on ended Span {traceId: %s, spanId: %s}",this._spanContext.traceId,this._spanContext.spanId),this._ended}}})),vt=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.buildSamplerFromEnv=e.DEFAULT_CONFIG=void 0;var t=we(),n=mt(),i=n.getEnv(),r=n.TracesSamplerValues.AlwaysOn;function o(e=n.getEnv()){switch(e.OTEL_TRACES_SAMPLER){case n.TracesSamplerValues.AlwaysOn:return new n.AlwaysOnSampler;case n.TracesSamplerValues.AlwaysOff:return new n.AlwaysOffSampler;case n.TracesSamplerValues.ParentBasedAlwaysOn:return new n.ParentBasedSampler({root:new n.AlwaysOnSampler});case n.TracesSamplerValues.ParentBasedAlwaysOff:return new n.ParentBasedSampler({root:new n.AlwaysOffSampler});case n.TracesSamplerValues.TraceIdRatio:return new n.TraceIdRatioBasedSampler(s(e));case n.TracesSamplerValues.ParentBasedTraceIdRatio:return new n.ParentBasedSampler({root:new n.TraceIdRatioBasedSampler(s(e))});default:return t.diag.error(`OTEL_TRACES_SAMPLER value "${e.OTEL_TRACES_SAMPLER} invalid, defaulting to ${r}".`),new n.AlwaysOnSampler}}function s(e){if(void 0===e.OTEL_TRACES_SAMPLER_ARG||""===e.OTEL_TRACES_SAMPLER_ARG)return t.diag.error("OTEL_TRACES_SAMPLER_ARG is blank, defaulting to 1."),1;let n=Number(e.OTEL_TRACES_SAMPLER_ARG);return isNaN(n)?(t.diag.error(`OTEL_TRACES_SAMPLER_ARG=${e.OTEL_TRACES_SAMPLER_ARG} was given, but it is invalid, defaulting to 1.`),1):n<0||n>1?(t.diag.error(`OTEL_TRACES_SAMPLER_ARG=${e.OTEL_TRACES_SAMPLER_ARG} was given, but it is out of range ([0..1]), defaulting to 1.`),1):n}e.DEFAULT_CONFIG={sampler:o(i),forceFlushTimeoutMillis:3e4,spanLimits:{attributeCountLimit:n.getEnv().OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT,linkCountLimit:n.getEnv().OTEL_SPAN_LINK_COUNT_LIMIT,eventCountLimit:n.getEnv().OTEL_SPAN_EVENT_COUNT_LIMIT}},e.buildSamplerFromEnv=o})),_t=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.mergeConfig=void 0;var t=vt();e.mergeConfig=function(e){let n={sampler:t.buildSamplerFromEnv()},i=Object.assign({},t.DEFAULT_CONFIG,n,e);return i.spanLimits=Object.assign({},t.DEFAULT_CONFIG.spanLimits,e.spanLimits||{}),i}})),yt=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Tracer=void 0;var t=we(),n=mt(),i=gt(),r=_t();e.Tracer=class{constructor(e,t,i){this._tracerProvider=i;let o=r.mergeConfig(t);this._sampler=o.sampler,this._spanLimits=o.spanLimits,this._idGenerator=t.idGenerator||new n.RandomIdGenerator,this.resource=i.resource,this.instrumentationLibrary=e}startSpan(e,r={},o=t.context.active()){var s,a;if(n.isTracingSuppressed(o))return t.diag.debug("Instrumentation suppressed, returning Noop Span"),t.trace.wrapSpanContext(t.INVALID_SPAN_CONTEXT);let l,c,u,d=function(e,n){if(!e.root)return t.trace.getSpanContext(n)}(r,o),p=this._idGenerator.generateSpanId();d&&t.trace.isSpanContextValid(d)?(l=d.traceId,c=d.traceState,u=d.spanId):l=this._idGenerator.generateTraceId();let h=null!==(s=r.kind)&&void 0!==s?s:t.SpanKind.INTERNAL,m=null!==(a=r.links)&&void 0!==a?a:[],f=n.sanitizeAttributes(r.attributes),g=this._sampler.shouldSample(r.root?t.trace.setSpanContext(o,t.INVALID_SPAN_CONTEXT):o,l,e,h,f,m),v={traceId:l,spanId:p,traceFlags:g.decision===t.SamplingDecision.RECORD_AND_SAMPLED?t.TraceFlags.SAMPLED:t.TraceFlags.NONE,traceState:c};if(g.decision===t.SamplingDecision.NOT_RECORD)return t.diag.debug("Recording is off, propagating context in a non-recording span"),t.trace.wrapSpanContext(v);let _=new i.Span(this,o,e,v,h,u,m,r.startTime);return _.setAttributes(Object.assign(f,g.attributes)),_}startActiveSpan(e,n,i,r){let o,s,a;if(arguments.length<2)return;2===arguments.length?a=n:3===arguments.length?(o=n,a=i):(o=n,s=i,a=r);let l=s??t.context.active(),c=this.startSpan(e,o,l),u=t.trace.setSpan(l,c);return t.context.with(u,a,void 0,c)}getSpanLimits(){return this._spanLimits}getActiveSpanProcessor(){return this._tracerProvider.getActiveSpanProcessor()}}})),St=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultServiceName=void 0,e.defaultServiceName=function(){return`unknown_service:${process.argv0}`}})),Et=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.detectResources=void 0;var t=At(),i=we(),r=n(3837);e.detectResources=async(e={})=>{let n=Object.assign(e),r=await Promise.all((n.detectors||[]).map((async e=>{try{let t=await e.detect(n);return i.diag.debug(`${e.constructor.name} found resource.`,t),t}catch(n){return i.diag.debug(`${e.constructor.name} failed: ${n.message}`),t.Resource.empty()}})));return o(r),r.reduce(((e,t)=>e.merge(t)),t.Resource.empty())};var o=e=>{e.forEach((e=>{if(Object.keys(e.attributes).length>0){let t=r.inspect(e.attributes,{depth:2,breakLength:1/0,sorted:!0,compact:!1});i.diag.verbose(t)}}))}})),Tt=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.envDetector=void 0;var t=we(),n=mt(),i=Ke(),r=xt();e.envDetector=new class{constructor(){this._MAX_LENGTH=255,this._COMMA_SEPARATOR=",",this._LABEL_KEY_VALUE_SPLITTER="=",this._ERROR_MESSAGE_INVALID_CHARS="should be a ASCII string with a length greater than 0 and not exceed "+this._MAX_LENGTH+" characters.",this._ERROR_MESSAGE_INVALID_VALUE="should be a ASCII string with a length not exceed "+this._MAX_LENGTH+" characters."}async detect(e){let o={},s=n.getEnv(),a=s.OTEL_RESOURCE_ATTRIBUTES,l=s.OTEL_SERVICE_NAME;if(a)try{let e=this._parseResourceAttributes(a);Object.assign(o,e)}catch(e){t.diag.debug(`EnvDetector failed: ${e.message}`)}return l&&(o[i.ResourceAttributes.SERVICE_NAME]=l),new r.Resource(o)}_parseResourceAttributes(e){if(!e)return{};let t={},n=e.split(this._COMMA_SEPARATOR,-1);for(let e of n){let n=e.split(this._LABEL_KEY_VALUE_SPLITTER,-1);if(2!==n.length)continue;let[i,r]=n;if(i=i.trim(),r=r.trim().split('^"|"$').join(""),!this._isValidAndNotEmpty(i))throw new Error(`Attribute key ${this._ERROR_MESSAGE_INVALID_CHARS}`);if(!this._isValid(r))throw new Error(`Attribute value ${this._ERROR_MESSAGE_INVALID_VALUE}`);t[i]=r}return t}_isValid(e){return e.length<=this._MAX_LENGTH&&this._isPrintableString(e)}_isPrintableString(e){for(let t=0;t<e.length;t++){let n=e.charAt(t);if(n<=" "||n>="~")return!1}return!0}_isValidAndNotEmpty(e){return e.length>0&&this._isValid(e)}}})),Ct=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.processDetector=void 0;var t=we(),n=Ke(),i=xt();e.processDetector=new class{async detect(e){let t={[n.ResourceAttributes.PROCESS_PID]:process.pid,[n.ResourceAttributes.PROCESS_EXECUTABLE_NAME]:process.title||"",[n.ResourceAttributes.PROCESS_COMMAND]:process.argv[1]||"",[n.ResourceAttributes.PROCESS_COMMAND_LINE]:process.argv.join(" ")||""};return this._getResourceAttributes(t,e)}_getResourceAttributes(e,r){return""===e[n.ResourceAttributes.PROCESS_EXECUTABLE_NAME]||""===e[n.ResourceAttributes.PROCESS_EXECUTABLE_PATH]||""===e[n.ResourceAttributes.PROCESS_COMMAND]||""===e[n.ResourceAttributes.PROCESS_COMMAND_LINE]?(t.diag.debug("ProcessDetector failed: Unable to find required process resources. "),i.Resource.empty()):new i.Resource(Object.assign({},e))}}})),bt=S((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),n=e&&e.__exportStar||function(e,n){for(var i in e)"default"!==i&&!Object.prototype.hasOwnProperty.call(n,i)&&t(n,e,i)};Object.defineProperty(e,"__esModule",{value:!0}),n(Tt(),e),n(Ct(),e)})),It=S((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),n=e&&e.__exportStar||function(e,n){for(var i in e)"default"!==i&&!Object.prototype.hasOwnProperty.call(n,i)&&t(n,e,i)};Object.defineProperty(e,"__esModule",{value:!0}),n(St(),e),n(Et(),e),n(bt(),e)})),Rt=S((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),n=e&&e.__exportStar||function(e,n){for(var i in e)"default"!==i&&!Object.prototype.hasOwnProperty.call(n,i)&&t(n,e,i)};Object.defineProperty(e,"__esModule",{value:!0}),n(It(),e)})),At=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Resource=void 0;var t=Ke(),n=mt(),i=Rt(),r=class{constructor(e){this.attributes=e}static empty(){return r.EMPTY}static default(){return new r({[t.ResourceAttributes.SERVICE_NAME]:i.defaultServiceName(),[t.ResourceAttributes.TELEMETRY_SDK_LANGUAGE]:n.SDK_INFO[t.ResourceAttributes.TELEMETRY_SDK_LANGUAGE],[t.ResourceAttributes.TELEMETRY_SDK_NAME]:n.SDK_INFO[t.ResourceAttributes.TELEMETRY_SDK_NAME],[t.ResourceAttributes.TELEMETRY_SDK_VERSION]:n.SDK_INFO[t.ResourceAttributes.TELEMETRY_SDK_VERSION]})}merge(e){if(!e||!Object.keys(e.attributes).length)return this;let t=Object.assign({},this.attributes,e.attributes);return new r(t)}};e.Resource=r,r.EMPTY=new r({})})),Ot=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),wt=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),xt=S((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),n=e&&e.__exportStar||function(e,n){for(var i in e)"default"!==i&&!Object.prototype.hasOwnProperty.call(n,i)&&t(n,e,i)};Object.defineProperty(e,"__esModule",{value:!0}),n(At(),e),n(Rt(),e),n(Ot(),e),n(wt(),e)})),Pt=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MultiSpanProcessor=void 0;var t=mt();e.MultiSpanProcessor=class{constructor(e){this._spanProcessors=e}forceFlush(){let e=[];for(let t of this._spanProcessors)e.push(t.forceFlush());return new Promise((n=>{Promise.all(e).then((()=>{n()})).catch((e=>{t.globalErrorHandler(e||new Error("MultiSpanProcessor: forceFlush failed")),n()}))}))}onStart(e,t){for(let n of this._spanProcessors)n.onStart(e,t)}onEnd(e){for(let t of this._spanProcessors)t.onEnd(e)}shutdown(){let e=[];for(let t of this._spanProcessors)e.push(t.shutdown());return new Promise(((t,n)=>{Promise.all(e).then((()=>{t()}),n)}))}}})),Nt=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NoopSpanProcessor=void 0,e.NoopSpanProcessor=class{onStart(e,t){}onEnd(e){}shutdown(){return Promise.resolve()}forceFlush(){return Promise.resolve()}}})),Dt=S(((e,t)=>{var n="__lodash_hash_undefined__",i=9007199254740991,r="[object Arguments]",o="[object Function]",s="[object Object]",a=/^\[object .+?Constructor\]$/,l=/^(?:0|[1-9]\d*)$/,c={};c["[object Float32Array]"]=c["[object Float64Array]"]=c["[object Int8Array]"]=c["[object Int16Array]"]=c["[object Int32Array]"]=c["[object Uint8Array]"]=c["[object Uint8ClampedArray]"]=c["[object Uint16Array]"]=c["[object Uint32Array]"]=!0,c[r]=c["[object Array]"]=c["[object ArrayBuffer]"]=c["[object Boolean]"]=c["[object DataView]"]=c["[object Date]"]=c["[object Error]"]=c[o]=c["[object Map]"]=c["[object Number]"]=c[s]=c["[object RegExp]"]=c["[object Set]"]=c["[object String]"]=c["[object WeakMap]"]=!1;var u="object"==typeof global&&global&&global.Object===Object&&global,d="object"==typeof self&&self&&self.Object===Object&&self,p=u||d||Function("return this")(),h="object"==typeof e&&e&&!e.nodeType&&e,m=h&&"object"==typeof t&&t&&!t.nodeType&&t,f=m&&m.exports===h,g=f&&u.process,v=function(){try{return m&&m.require&&m.require("util").types||g&&g.binding&&g.binding("util")}catch{}}(),_=v&&v.isTypedArray;function y(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var S,E=Array.prototype,T=Function.prototype,C=Object.prototype,b=p["__core-js_shared__"],I=T.toString,R=C.hasOwnProperty,A=(S=/[^.]+$/.exec(b&&b.keys&&b.keys.IE_PROTO||""))?"Symbol(src)_1."+S:"",O=C.toString,w=I.call(Object),x=RegExp("^"+I.call(R).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),P=f?p.Buffer:void 0,N=p.Symbol,D=p.Uint8Array,M=(P&&P.allocUnsafe,function(e,t){return function(n){return e(t(n))}}(Object.getPrototypeOf,Object)),k=Object.create,L=C.propertyIsEnumerable,B=E.splice,q=N?N.toStringTag:void 0,F=function(){try{var e=se(Object,"defineProperty");return e({},"",{}),e}catch{}}(),U=P?P.isBuffer:void 0,j=Math.max,z=Date.now,H=se(p,"Map"),V=se(Object,"create"),G=function(){function e(){}return function(t){if(!_e(t))return{};if(k)return k(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function W(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function $(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function K(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function X(e){var t=this.__data__=new $(e);this.size=t.size}function Y(e,t,n){(void 0!==n&&!de(e[t],n)||void 0===n&&!(t in e))&&Z(e,t,n)}function Q(e,t,n){var i=e[t];(!R.call(e,t)||!de(i,n)||void 0===n&&!(t in e))&&Z(e,t,n)}function J(e,t){for(var n=e.length;n--;)if(de(e[n][0],t))return n;return-1}function Z(e,t,n){"__proto__"==t&&F?F(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}W.prototype.clear=function(){this.__data__=V?V(null):{},this.size=0},W.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},W.prototype.get=function(e){var t=this.__data__;if(V){var i=t[e];return i===n?void 0:i}return R.call(t,e)?t[e]:void 0},W.prototype.has=function(e){var t=this.__data__;return V?void 0!==t[e]:R.call(t,e)},W.prototype.set=function(e,t){var i=this.__data__;return this.size+=this.has(e)?0:1,i[e]=V&&void 0===t?n:t,this},$.prototype.clear=function(){this.__data__=[],this.size=0},$.prototype.delete=function(e){var t=this.__data__,n=J(t,e);return!(n<0||(n==t.length-1?t.pop():B.call(t,n,1),--this.size,0))},$.prototype.get=function(e){var t=this.__data__,n=J(t,e);return n<0?void 0:t[n][1]},$.prototype.has=function(e){return J(this.__data__,e)>-1},$.prototype.set=function(e,t){var n=this.__data__,i=J(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this},K.prototype.clear=function(){this.size=0,this.__data__={hash:new W,map:new(H||$),string:new W}},K.prototype.delete=function(e){var t=oe(this,e).delete(e);return this.size-=t?1:0,t},K.prototype.get=function(e){return oe(this,e).get(e)},K.prototype.has=function(e){return oe(this,e).has(e)},K.prototype.set=function(e,t){var n=oe(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this},X.prototype.clear=function(){this.__data__=new $,this.size=0},X.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},X.prototype.get=function(e){return this.__data__.get(e)},X.prototype.has=function(e){return this.__data__.has(e)},X.prototype.set=function(e,t){var n=this.__data__;if(n instanceof $){var i=n.__data__;if(!H||i.length<199)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new K(i)}return n.set(e,t),this.size=n.size,this};var ee=function(e,t,n){for(var i=-1,r=Object(e),o=n(e),s=o.length;s--;){var a=o[++i];if(!1===t(r[a],a,r))break}return e};function te(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":q&&q in Object(e)?function(e){var t=R.call(e,q),n=e[q];try{e[q]=void 0;var i=!0}catch{}var r=O.call(e);return i&&(t?e[q]=n:delete e[q]),r}(e):function(e){return O.call(e)}(e)}function ne(e){return ye(e)&&te(e)==r}function ie(e,t,n,i,r){e!==t&&ee(t,(function(o,a){if(r||(r=new X),_e(o))!function(e,t,n,i,r,o,a){var l=ce(e,n),c=ce(t,n),u=a.get(c);if(u)Y(e,n,u);else{var d=o?o(l,c,n+"",e,t,a):void 0,p=void 0===d;if(p){var h=he(c),m=!h&&fe(c),f=!h&&!m&&Se(c);d=c,h||m||f?he(l)?d=l:function(e){return ye(e)&&me(e)}(l)?d=function(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t}(l):m?(p=!1,d=function(e,t){return e.slice()}(c)):f?(p=!1,d=function(e,t){var n=function(e){var t=new e.constructor(e.byteLength);return new D(t).set(new D(e)),t}(e.buffer);return new e.constructor(n,e.byteOffset,e.length)}(c)):d=[]:function(e){if(!ye(e)||te(e)!=s)return!1;var t=M(e);if(null===t)return!0;var n=R.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&I.call(n)==w}(c)||pe(c)?(d=l,pe(l)?d=function(e){return function(e,t,n,i){var r=!n;n||(n={});for(var o=-1,s=t.length;++o<s;){var a=t[o],l=void 0;void 0===l&&(l=e[a]),r?Z(n,a,l):Q(n,a,l)}return n}(e,Ee(e))}(l):(!_e(l)||ge(l))&&(d=function(e){return"function"!=typeof e.constructor||le(e)?{}:G(M(e))}(c))):p=!1}p&&(a.set(c,d),r(d,c,i,o,a),a.delete(c)),Y(e,n,d)}}(e,t,a,n,ie,i,r);else{var l=i?i(ce(e,a),o,a+"",e,t,r):void 0;void 0===l&&(l=o),Y(e,a,l)}}),Ee)}var re=F?function(e,t){return F(e,"toString",{configurable:!0,enumerable:!1,value:Ce(t),writable:!0})}:be;function oe(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function se(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!_e(e)||function(e){return!!A&&A in e}(e))&&(ge(e)?x:a).test(function(e){if(null!=e){try{return I.call(e)}catch{}try{return e+""}catch{}}return""}(e))}(n)?n:void 0}function ae(e,t){var n=typeof e;return!!(t=t??i)&&("number"==n||"symbol"!=n&&l.test(e))&&e>-1&&e%1==0&&e<t}function le(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||C)}function ce(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var ue=function(e){var t=0,n=0;return function(){var i=z(),r=16-(i-n);if(n=i,r>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(re);function de(e,t){return e===t||e!=e&&t!=t}var pe=ne(function(){return arguments}())?ne:function(e){return ye(e)&&R.call(e,"callee")&&!L.call(e,"callee")},he=Array.isArray;function me(e){return null!=e&&ve(e.length)&&!ge(e)}var fe=U||function(){return!1};function ge(e){if(!_e(e))return!1;var t=te(e);return t==o||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function ve(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=i}function _e(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ye(e){return null!=e&&"object"==typeof e}var Se=_?function(e){return function(t){return e(t)}}(_):function(e){return ye(e)&&ve(e.length)&&!!c[te(e)]};function Ee(e){return me(e)?function(e,t){var n=he(e),i=!n&&pe(e),r=!n&&!i&&fe(e),o=!n&&!i&&!r&&Se(e),s=n||i||r||o,a=s?function(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}(e.length,String):[],l=a.length;for(var c in e)(t||R.call(e,c))&&(!s||!("length"==c||r&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||ae(c,l)))&&a.push(c);return a}(e,!0):function(e){if(!_e(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=le(e),n=[];for(var i in e)"constructor"==i&&(t||!R.call(e,i))||n.push(i);return n}(e)}var Te=function(e){return function(e,t){return ue(function(e,t,n){return t=j(void 0===t?e.length-1:t,0),function(){for(var i=arguments,r=-1,o=j(i.length-t,0),s=Array(o);++r<o;)s[r]=i[t+r];r=-1;for(var a=Array(t+1);++r<t;)a[r]=i[r];return a[t]=n(s),y(e,this,a)}}(e,t,be),e+"")}((function(t,n){var i=-1,r=n.length,o=r>1?n[r-1]:void 0,s=r>2?n[2]:void 0;for(o=e.length>3&&"function"==typeof o?(r--,o):void 0,s&&function(e,t,n){if(!_e(n))return!1;var i=typeof t;return!!("number"==i?me(n)&&ae(t,n.length):"string"==i&&t in n)&&de(n[t],e)}(n[0],n[1],s)&&(o=r<3?void 0:o,r=1),t=Object(t);++i<r;){var a=n[i];a&&e(t,a,i)}return t}))}((function(e,t,n){ie(e,t,n)}));function Ce(e){return function(){return e}}function be(e){return e}t.exports=Te})),Mt=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BatchSpanProcessorBase=void 0;var t=we(),n=mt();e.BatchSpanProcessorBase=class{constructor(e,t){this._exporter=e,this._finishedSpans=[],this._isShutdown=!1,this._shuttingDownPromise=Promise.resolve();let i=n.getEnv();this._maxExportBatchSize="number"==typeof(null==t?void 0:t.maxExportBatchSize)?t.maxExportBatchSize:i.OTEL_BSP_MAX_EXPORT_BATCH_SIZE,this._maxQueueSize="number"==typeof(null==t?void 0:t.maxQueueSize)?t.maxQueueSize:i.OTEL_BSP_MAX_QUEUE_SIZE,this._scheduledDelayMillis="number"==typeof(null==t?void 0:t.scheduledDelayMillis)?t.scheduledDelayMillis:i.OTEL_BSP_SCHEDULE_DELAY,this._exportTimeoutMillis="number"==typeof(null==t?void 0:t.exportTimeoutMillis)?t.exportTimeoutMillis:i.OTEL_BSP_EXPORT_TIMEOUT}forceFlush(){return this._isShutdown?this._shuttingDownPromise:this._flushAll()}onStart(e){}onEnd(e){this._isShutdown||this._addToBuffer(e)}shutdown(){return this._isShutdown||(this._isShutdown=!0,this._shuttingDownPromise=new Promise(((e,t)=>{Promise.resolve().then((()=>this.onShutdown())).then((()=>this._flushAll())).then((()=>this._exporter.shutdown())).then(e).catch((e=>{t(e)}))}))),this._shuttingDownPromise}_addToBuffer(e){this._finishedSpans.length>=this._maxQueueSize||(this._finishedSpans.push(e),this._maybeStartTimer())}_flushAll(){return new Promise(((e,t)=>{let n=[];for(let e=0,t=Math.ceil(this._finishedSpans.length/this._maxExportBatchSize);e<t;e++)n.push(this._flushOneBatch());Promise.all(n).then((()=>{e()})).catch(t)}))}_flushOneBatch(){return this._clearTimer(),0===this._finishedSpans.length?Promise.resolve():new Promise(((e,i)=>{let r=setTimeout((()=>{i(new Error("Timeout"))}),this._exportTimeoutMillis);t.context.with(n.suppressTracing(t.context.active()),(()=>{this._exporter.export(this._finishedSpans.splice(0,this._maxExportBatchSize),(t=>{var o;clearTimeout(r),t.code===n.ExportResultCode.SUCCESS?e():i(null!==(o=t.error)&&void 0!==o?o:new Error("BatchSpanProcessor: span export failed"))}))}))}))}_maybeStartTimer(){void 0===this._timer&&(this._timer=setTimeout((()=>{this._flushOneBatch().then((()=>{this._finishedSpans.length>0&&(this._clearTimer(),this._maybeStartTimer())})).catch((e=>{n.globalErrorHandler(e)}))}),this._scheduledDelayMillis),n.unrefTimer(this._timer))}_clearTimer(){void 0!==this._timer&&(clearTimeout(this._timer),this._timer=void 0)}}})),kt=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BatchSpanProcessor=void 0;var t=Mt(),n=class extends t.BatchSpanProcessorBase{onShutdown(){}};e.BatchSpanProcessor=n})),Lt=S((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),n=e&&e.__exportStar||function(e,n){for(var i in e)"default"!==i&&!Object.prototype.hasOwnProperty.call(n,i)&&t(n,e,i)};Object.defineProperty(e,"__esModule",{value:!0}),n(kt(),e)})),Bt=S((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),n=e&&e.__exportStar||function(e,n){for(var i in e)"default"!==i&&!Object.prototype.hasOwnProperty.call(n,i)&&t(n,e,i)};Object.defineProperty(e,"__esModule",{value:!0}),n(Lt(),e)})),qt=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BasicTracerProvider=e.ForceFlushState=void 0;var t,n,i=we(),r=mt(),o=xt(),s=$t(),a=vt(),l=Pt(),c=Nt(),u=Dt(),d=Bt();(n=t=e.ForceFlushState||(e.ForceFlushState={}))[n.resolved=0]="resolved",n[n.timeout=1]="timeout",n[n.error=2]="error",n[n.unresolved=3]="unresolved";var p=class{constructor(e={}){var t;this._registeredSpanProcessors=[],this._tracers=new Map;let n=u({},a.DEFAULT_CONFIG,e);this.resource=null!==(t=n.resource)&&void 0!==t?t:o.Resource.empty(),this.resource=o.Resource.default().merge(this.resource),this._config=Object.assign({},n,{resource:this.resource});let i=this._buildExporterFromEnv();if(void 0!==i){let e=new d.BatchSpanProcessor(i);this.activeSpanProcessor=e}else this.activeSpanProcessor=new c.NoopSpanProcessor}getTracer(e,t){let n=`${e}@${t||""}`;return this._tracers.has(n)||this._tracers.set(n,new s.Tracer({name:e,version:t},this._config,this)),this._tracers.get(n)}addSpanProcessor(e){0===this._registeredSpanProcessors.length&&this.activeSpanProcessor.shutdown().catch((e=>i.diag.error("Error while trying to shutdown current span processor",e))),this._registeredSpanProcessors.push(e),this.activeSpanProcessor=new l.MultiSpanProcessor(this._registeredSpanProcessors)}getActiveSpanProcessor(){return this.activeSpanProcessor}register(e={}){i.trace.setGlobalTracerProvider(this),void 0===e.propagator&&(e.propagator=this._buildPropagatorFromEnv()),e.contextManager&&i.context.setGlobalContextManager(e.contextManager),e.propagator&&i.propagation.setGlobalPropagator(e.propagator)}forceFlush(){let e=this._config.forceFlushTimeoutMillis,n=this._registeredSpanProcessors.map((n=>new Promise((i=>{let r,o=setTimeout((()=>{i(new Error(`Span processor did not completed within timeout period of ${e} ms`)),r=t.timeout}),e);n.forceFlush().then((()=>{clearTimeout(o),r!==t.timeout&&(r=t.resolved,i(r))})).catch((e=>{clearTimeout(o),r=t.error,i(e)}))}))));return new Promise(((e,i)=>{Promise.all(n).then((n=>{let r=n.filter((e=>e!==t.resolved));r.length>0?i(r):e()})).catch((e=>i([e])))}))}shutdown(){return this.activeSpanProcessor.shutdown()}_getPropagator(e){var t;return null===(t=p._registeredPropagators.get(e))||void 0===t?void 0:t()}_getSpanExporter(e){var t;return null===(t=p._registeredExporters.get(e))||void 0===t?void 0:t()}_buildPropagatorFromEnv(){let e=Array.from(new Set(r.getEnv().OTEL_PROPAGATORS)),t=e.map((e=>{let t=this._getPropagator(e);return t||i.diag.warn(`Propagator "${e}" requested through environment variable is unavailable.`),t})).reduce(((e,t)=>(t&&e.push(t),e)),[]);if(0!==t.length)return 1===e.length?t[0]:new r.CompositePropagator({propagators:t})}_buildExporterFromEnv(){let e=r.getEnv().OTEL_TRACES_EXPORTER;if("none"===e)return;let t=this._getSpanExporter(e);return t||i.diag.error(`Exporter "${e}" requested through environment variable is unavailable.`),t}};e.BasicTracerProvider=p,p._registeredPropagators=new Map([["tracecontext",()=>new r.HttpTraceContextPropagator],["baggage",()=>new r.HttpBaggagePropagator]]),p._registeredExporters=new Map})),Ft=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ConsoleSpanExporter=void 0;var t=mt();e.ConsoleSpanExporter=class{export(e,t){return this._sendSpans(e,t)}shutdown(){return this._sendSpans([]),Promise.resolve()}_exportInfo(e){return{traceId:e.spanContext().traceId,parentId:e.parentSpanId,name:e.name,id:e.spanContext().spanId,kind:e.kind,timestamp:t.hrTimeToMicroseconds(e.startTime),duration:t.hrTimeToMicroseconds(e.duration),attributes:e.attributes,status:e.status,events:e.events}}_sendSpans(e,n){for(let t of e)console.log(this._exportInfo(t));if(n)return n({code:t.ExportResultCode.SUCCESS})}}})),Ut=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InMemorySpanExporter=void 0;var t=mt();e.InMemorySpanExporter=class{constructor(){this._finishedSpans=[],this._stopped=!1}export(e,n){if(this._stopped)return n({code:t.ExportResultCode.FAILED,error:new Error("Exporter has been stopped")});this._finishedSpans.push(...e),setTimeout((()=>n({code:t.ExportResultCode.SUCCESS})),0)}shutdown(){return this._stopped=!0,this._finishedSpans=[],Promise.resolve()}reset(){this._finishedSpans=[]}getFinishedSpans(){return this._finishedSpans}}})),jt=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),zt=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SimpleSpanProcessor=void 0;var t=we(),n=mt();e.SimpleSpanProcessor=class{constructor(e){this._exporter=e,this._isShutdown=!1,this._shuttingDownPromise=Promise.resolve()}forceFlush(){return Promise.resolve()}onStart(e){}onEnd(e){this._isShutdown||t.context.with(n.suppressTracing(t.context.active()),(()=>{this._exporter.export([e],(e=>{var t;e.code!==n.ExportResultCode.SUCCESS&&n.globalErrorHandler(null!==(t=e.error)&&void 0!==t?t:new Error(`SimpleSpanProcessor: span export failed (status ${e})`))}))}))}shutdown(){return this._isShutdown||(this._isShutdown=!0,this._shuttingDownPromise=new Promise(((e,t)=>{Promise.resolve().then((()=>this._exporter.shutdown())).then(e).catch((e=>{t(e)}))}))),this._shuttingDownPromise}}})),Ht=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Vt=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Gt=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Wt=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),$t=S((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),n=e&&e.__exportStar||function(e,n){for(var i in e)"default"!==i&&!Object.prototype.hasOwnProperty.call(n,i)&&t(n,e,i)};Object.defineProperty(e,"__esModule",{value:!0}),n(yt(),e),n(qt(),e),n(Bt(),e),n(Ft(),e),n(Ut(),e),n(jt(),e),n(zt(),e),n(Ht(),e),n(Nt(),e),n(gt(),e),n(Vt(),e),n(Gt(),e),n(Wt(),e)})),Kt=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.azureCoreTracing=e.AzureMonitorSymbol=void 0;var t=M();e.AzureMonitorSymbol="Azure_Monitor_Tracer";var n=!1;e.azureCoreTracing={versionSpecifier:">= 1.0.0 < 2.0.0",patch:function(i){if(n)return i;try{var r=$t(),o=we(),s=(new r.BasicTracerProvider).getTracer("applicationinsights tracer"),a=i.setTracer;i.setTracer=function(n){var i=n.startSpan;n.startSpan=function(e,n,r){var o=i.call(this,e,n,r),s=o.end;return o.end=function(){var e=s.apply(this,arguments);return t.channel.publish("azure-coretracing",o),e},o},n[e.AzureMonitorSymbol]=!0,a.call(this,n)},o.trace.getSpan(o.context.active()),i.setTracer(s),n=!0}catch{}return i}},e.enable=function(){t.channel.registerMonkeyPatch("@azure/core-tracing",e.azureCoreTracing)}})),Xt=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.bunyan=void 0;var t=M();e.bunyan={versionSpecifier:">= 1.0.0 < 2.0.0",patch:function(e){var n=e.prototype._emit;return e.prototype._emit=function(e,i){var r=n.apply(this,arguments);if(!i){var o=r;o||(o=n.call(this,e,!0)),t.channel.publish("bunyan",{level:e.level,result:o})}return r},e}},e.enable=function(){t.channel.registerMonkeyPatch("bunyan",e.bunyan)}})),Yt=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.console=void 0;var t=M(),i=n(2781);e.console={versionSpecifier:">= 4.0.0",patch:function(e){var n=new i.Writable,r=new i.Writable;n.write=function(e){if(!e)return!0;var n=e.toString();return t.channel.publish("console",{message:n}),!0},r.write=function(e){if(!e)return!0;var n=e.toString();return t.channel.publish("console",{message:n,stderr:!0}),!0};for(var o=new e.Console(n,r),s=function(t){var n=e[t];n&&(e[t]=function(){if(o[t])try{o[t].apply(o,arguments)}catch{}return n.apply(e,arguments)})},a=0,l=["log","info","warn","error","dir","time","timeEnd","trace","assert"];a<l.length;a++)s(l[a]);return e}},e.enable=function(){t.channel.registerMonkeyPatch("console",e.console),n(6206)}})),Qt=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.mongoCore=void 0;var t=M();e.mongoCore={versionSpecifier:">= 2.0.0 < 4.0.0",patch:function(e){var n=e.Server.prototype.connect;return e.Server.prototype.connect=function(){var e=n.apply(this,arguments),i=this.s.pool.write;this.s.pool.write=function(){var e="function"==typeof arguments[1]?1:2;return"function"==typeof arguments[e]&&(arguments[e]=t.channel.bindToContext(arguments[e])),i.apply(this,arguments)};var r=this.s.pool.logout;return this.s.pool.logout=function(){return"function"==typeof arguments[1]&&(arguments[1]=t.channel.bindToContext(arguments[1])),r.apply(this,arguments)},e},e}},e.enable=function(){t.channel.registerMonkeyPatch("mongodb-core",e.mongoCore)}})),Jt=S((e=>{"use strict";var t=e&&e.__assign||function(){return t=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},t.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.mongo330=e.mongo3=e.mongo2=void 0;var n=M();e.mongo2={versionSpecifier:">= 2.0.0 <= 3.0.5",patch:function(e){var i=e.instrument({operationIdGenerator:{next:function(){return n.channel.bindToContext((function(e){return e()}))}}}),r={};return i.on("started",(function(e){r[e.requestId]||(r[e.requestId]=t(t({},e),{time:new Date}))})),i.on("succeeded",(function(e){var t=r[e.requestId];t&&delete r[e.requestId],"function"==typeof e.operationId?e.operationId((function(){return n.channel.publish("mongodb",{startedData:t,event:e,succeeded:!0})})):n.channel.publish("mongodb",{startedData:t,event:e,succeeded:!0})})),i.on("failed",(function(e){var t=r[e.requestId];t&&delete r[e.requestId],"function"==typeof e.operationId?e.operationId((function(){return n.channel.publish("mongodb",{startedData:t,event:e,succeeded:!1})})):n.channel.publish("mongodb",{startedData:t,event:e,succeeded:!1})})),e}},e.mongo3={versionSpecifier:"> 3.0.5 < 3.3.0",patch:function(e){var i=e.instrument(),r={},o={};return i.on("started",(function(e){r[e.requestId]||(o[e.requestId]=n.channel.bindToContext((function(e){return e()})),r[e.requestId]=t(t({},e),{time:new Date}))})),i.on("succeeded",(function(e){var t=r[e.requestId];t&&delete r[e.requestId],"object"==typeof e&&"function"==typeof o[e.requestId]&&(o[e.requestId]((function(){return n.channel.publish("mongodb",{startedData:t,event:e,succeeded:!0})})),delete o[e.requestId])})),i.on("failed",(function(e){var t=r[e.requestId];t&&delete r[e.requestId],"object"==typeof e&&"function"==typeof o[e.requestId]&&(o[e.requestId]((function(){return n.channel.publish("mongodb",{startedData:t,event:e,succeeded:!1})})),delete o[e.requestId])})),e}},e.mongo330={versionSpecifier:">= 3.3.0 < 4.0.0",patch:function(e){!function(e){var t=e.Server.prototype.connect;e.Server.prototype.connect=function(){var e=t.apply(this,arguments),i=this.s.coreTopology.s.pool.write;this.s.coreTopology.s.pool.write=function(){var e="function"==typeof arguments[1]?1:2;return"function"==typeof arguments[e]&&(arguments[e]=n.channel.bindToContext(arguments[e])),i.apply(this,arguments)};var r=this.s.coreTopology.s.pool.logout;return this.s.coreTopology.s.pool.logout=function(){return"function"==typeof arguments[1]&&(arguments[1]=n.channel.bindToContext(arguments[1])),r.apply(this,arguments)},e}}(e);var t=e.instrument(),i={},r={};return t.on("started",(function(e){i[e.requestId]||(r[e.requestId]=n.channel.bindToContext((function(e){return e()})),i[e.requestId]=e)})),t.on("succeeded",(function(e){var t=i[e.requestId];t&&delete i[e.requestId],"object"==typeof e&&"function"==typeof r[e.requestId]&&(r[e.requestId]((function(){return n.channel.publish("mongodb",{startedData:t,event:e,succeeded:!0})})),delete r[e.requestId])})),t.on("failed",(function(e){var t=i[e.requestId];t&&delete i[e.requestId],"object"==typeof e&&"function"==typeof r[e.requestId]&&(r[e.requestId]((function(){return n.channel.publish("mongodb",{startedData:t,event:e,succeeded:!1})})),delete r[e.requestId])})),e}},e.enable=function(){n.channel.registerMonkeyPatch("mongodb",e.mongo2),n.channel.registerMonkeyPatch("mongodb",e.mongo3),n.channel.registerMonkeyPatch("mongodb",e.mongo330)}})),Zt=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.mysql=void 0;var t=M(),i=n(1017);e.mysql={versionSpecifier:">= 2.0.0 < 3.0.0",patch:function(e,r){var o=function(e,n){return function(n,i){var r=e[n];r&&(e[n]=function(){for(var e=arguments.length-1,n=arguments.length-1;n>=0;--n){if("function"==typeof arguments[n]){e=n;break}if(typeof arguments[n]<"u")break}var o=arguments[e],s={result:null,startTime:null,startDate:null};"function"==typeof o&&(i?(s.startTime=process.hrtime(),s.startDate=new Date,arguments[e]=t.channel.bindToContext(i(s,o))):arguments[e]=t.channel.bindToContext(o));var a=r.apply(this,arguments);return s.result=a,a})}},s=function(e,t){return o(e.prototype)},a=n(5029)(i.dirname(r)+"/lib/Connection");["connect","changeUser","ping","statistics","end"].forEach((function(e){return s(a)(e)})),o(a)("createQuery",(function(e,n){return function(i){var r=process.hrtime(e.startTime),o=1e3*r[0]+r[1]/1e6|0;t.channel.publish("mysql",{query:e.result,callbackArgs:arguments,err:i,duration:o,time:e.startDate}),n.apply(this,arguments)}}));var l=n(3437)(i.dirname(r)+"/lib/Pool");return["_enqueueCallback"].forEach((function(e){return s(l)(e)})),e}},e.enable=function(){t.channel.registerMonkeyPatch("mysql",e.mysql)}})),en=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.postgresPool1=void 0;var t=M();e.postgresPool1={versionSpecifier:">= 1.0.0 < 3.0.0",patch:function(e){var n=e.prototype.connect;return e.prototype.connect=function(e){return e&&(arguments[0]=t.channel.bindToContext(e)),n.apply(this,arguments)},e}},e.enable=function(){t.channel.registerMonkeyPatch("pg-pool",e.postgresPool1)}})),tn=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.postgres7=e.postgres6=void 0;var t=M(),i=n(2361);e.postgres6={versionSpecifier:"6.*",patch:function(e,n){var r=e.Client.prototype.query,o="__diagnosticOriginalFunc";return e.Client.prototype.query=function(e,n,s){var a,l={query:{},database:{host:this.connectionParameters.host,port:this.connectionParameters.port},result:null,error:null,duration:0,time:new Date},c=process.hrtime();function u(e){e&&e[o]&&(e=e[o]);var n=t.channel.bindToContext((function(n,r){var o=process.hrtime(c);if(l.result=r&&{rowCount:r.rowCount,command:r.command},l.error=n,l.duration=Math.ceil(1e3*o[0]+o[1]/1e6),t.channel.publish("postgres",l),n){if(e)return e.apply(this,arguments);a&&a instanceof i.EventEmitter&&a.emit("error",n)}else e&&e.apply(this,arguments)}));try{return Object.defineProperty(n,o,{value:e}),n}catch{return e}}try{"string"==typeof e?n instanceof Array?(l.query.preparable={text:e,args:n},s=u(s)):(l.query.text=e,s?s=u(s):n=u(n)):("string"==typeof e.name?l.query.plan=e.name:e.values instanceof Array?l.query.preparable={text:e.text,args:e.values}:l.query.text=e.text,s?s=u(s):n?n=u(n):e.callback=u(e.callback))}catch{return r.apply(this,arguments)}return arguments[0]=e,arguments[1]=n,arguments[2]=s,arguments.length=arguments.length>3?arguments.length:3,a=r.apply(this,arguments)},e}},e.postgres7={versionSpecifier:">=7.* <=8.*",patch:function(e,n){var r=e.Client.prototype.query,o="__diagnosticOriginalFunc";return e.Client.prototype.query=function(e,n,s){var a,l=this,c=!!s,u={query:{},database:{host:this.connectionParameters.host,port:this.connectionParameters.port},result:null,error:null,duration:0,time:new Date},d=process.hrtime();function p(e){e&&e[o]&&(e=e[o]);var n=t.channel.bindToContext((function(n,r){var o=process.hrtime(d);if(u.result=r&&{rowCount:r.rowCount,command:r.command},u.error=n,u.duration=Math.ceil(1e3*o[0]+o[1]/1e6),t.channel.publish("postgres",u),n){if(e)return e.apply(this,arguments);a&&a instanceof i.EventEmitter&&a.emit("error",n)}else e&&e.apply(this,arguments)}));try{return Object.defineProperty(n,o,{value:e}),n}catch{return e}}try{"string"==typeof e?n instanceof Array?(u.query.preparable={text:e,args:n},s=(c="function"==typeof s)?p(s):s):(u.query.text=e,s?s=(c="function"==typeof s)?p(s):s:n=(c="function"==typeof n)?p(n):n):("string"==typeof e.name?u.query.plan=e.name:e.values instanceof Array?u.query.preparable={text:e.text,args:e.values}:u.query.text=e.text,s?(c="function"==typeof s,s=p(s)):n?n=(c="function"==typeof n)?p(n):n:(c="function"==typeof e.callback,e.callback=c?p(e.callback):e.callback))}catch{return r.apply(this,arguments)}return arguments[0]=e,arguments[1]=n,arguments[2]=s,arguments.length=arguments.length>3?arguments.length:3,a=r.apply(this,arguments),c?a:a.then((function(e){return p()(void 0,e),new l._Promise((function(t,n){t(e)}))})).catch((function(e){return p()(e,void 0),new l._Promise((function(t,n){n(e)}))}))},e}},e.enable=function(){t.channel.registerMonkeyPatch("pg",e.postgres6),t.channel.registerMonkeyPatch("pg",e.postgres7)}})),nn=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.redis=void 0;var t=M();e.redis={versionSpecifier:">= 2.0.0 < 4.0.0",patch:function(e){var n=e.RedisClient.prototype.internal_send_command;return e.RedisClient.prototype.internal_send_command=function(e){if(e){var i=e.callback;if(!i||!i.pubsubBound){var r=this.address,o=process.hrtime(),s=new Date;e.callback=t.channel.bindToContext((function(n,a){var l=process.hrtime(o),c=1e3*l[0]+l[1]/1e6|0;t.channel.publish("redis",{duration:c,address:r,commandObj:e,err:n,result:a,time:s}),"function"==typeof i&&i.apply(this,arguments)})),e.callback.pubsubBound=!0}}return n.call(this,e)},e}},e.enable=function(){t.channel.registerMonkeyPatch("redis",e.redis)}})),rn=S((e=>{"use strict";var t=e&&e.__assign||function(){return t=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},t.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.tedious=void 0;var n=M();e.tedious={versionSpecifier:">= 6.0.0 < 9.0.0",patch:function(e){var i=e.Connection.prototype.makeRequest;return e.Connection.prototype.makeRequest=function(){function e(e){var i=process.hrtime(),r={query:{},database:{host:null,port:null},result:null,error:null,duration:0};return n.channel.bindToContext((function(o,s,a){var l=process.hrtime(i);r=t(t({},r),{database:{host:this.connection.config.server,port:this.connection.config.options.port},result:!o&&{rowCount:s,rows:a},query:{text:this.parametersByName.statement.value},error:o,duration:Math.ceil(1e3*l[0]+l[1]/1e6)}),n.channel.publish("tedious",r),e.call(this,o,s,a)}))}var r=arguments[0];arguments[0].callback=e(r.callback),i.apply(this,arguments)},e}},e.enable=function(){n.channel.registerMonkeyPatch("tedious",e.tedious)}})),on=S((e=>{"use strict";var t,n=e&&e.__extends||(t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,n)},function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}),i=e&&e.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.winston2=e.winston3=void 0;var r=M();e.winston3={versionSpecifier:"3.x",patch:function(e){var t=function(e){function t(t,n){var i=e.call(this,n)||this;return i.winston=t,i}return n(t,e),t.prototype.log=function(e,t){var n=e.message,o=e.level,s=e.meta,a=i(e,["message","level","meta"]);o="function"==typeof Symbol.for?e[Symbol.for("level")]:o,n=e instanceof Error?e:n;var l=function(e,t){return null!=e.config.npm.levels[t]?"npm":null!=e.config.syslog.levels[t]?"syslog":"unknown"}(this.winston,o);for(var c in s=s||{},a)a.hasOwnProperty(c)&&(s[c]=a[c]);r.channel.publish("winston",{message:n,level:o,levelKind:l,meta:s}),t()},t}(e.Transport);function o(){var n,i=arguments[0].levels||e.config.npm.levels;for(var r in i)i.hasOwnProperty(r)&&(n=void 0===n||i[r]>i[n]?r:n);this.add(new t(e,{level:n}))}var s=e.createLogger;e.createLogger=function(){var n,i=arguments[0].levels||e.config.npm.levels;for(var r in i)i.hasOwnProperty(r)&&(n=void 0===n||i[r]>i[n]?r:n);var a=s.apply(this,arguments);a.add(new t(e,{level:n}));var l=a.configure;return a.configure=function(){l.apply(this,arguments),o.apply(this,arguments)},a};var a=e.configure;return e.configure=function(){a.apply(this,arguments),o.apply(this,arguments)},e.add(new t(e)),e}},e.winston2={versionSpecifier:"2.x",patch:function(e){var t,n=e.Logger.prototype.log,i=function(n,i,o){var s;return s=t===e.config.npm.levels?"npm":t===e.config.syslog.levels?"syslog":"unknown",r.channel.publish("winston",{level:n,message:i,meta:o,levelKind:s}),i};return e.Logger.prototype.log=function(){return t=this.levels,this.filters&&0!==this.filters.length?this.filters[this.filters.length-1]!==i&&(this.filters=this.filters.filter((function(e){return e!==i})),this.filters.push(i)):this.filters=[i],n.apply(this,arguments)},e}},e.enable=function(){r.channel.registerMonkeyPatch("winston",e.winston2),r.channel.registerMonkeyPatch("winston",e.winston3)}})),sn=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.tedious=e.pgPool=e.pg=e.winston=e.redis=e.mysql=e.mongodb=e.mongodbCore=e.console=e.bunyan=e.azuresdk=void 0;var t=Kt();e.azuresdk=t;var n=Xt();e.bunyan=n;var i=Yt();e.console=i;var r=Qt();e.mongodbCore=r;var o=Jt();e.mongodb=o;var s=Zt();e.mysql=s;var a=en();e.pgPool=a;var l=tn();e.pg=l;var c=nn();e.redis=c;var u=rn();e.tedious=u;var d=on();e.winston=d,e.enable=function(){n.enable(),i.enable(),r.enable(),o.enable(),s.enable(),l.enable(),a.enable(),c.enable(),d.enable(),t.enable(),u.enable()}})),an=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.registerContextPreservation=e.IsInitialized=void 0;var t=x(),n=w();e.IsInitialized=!process.env.APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL;var i,r,o,s,a="DiagnosticChannel";if(e.IsInitialized){for(s in i=sn(),r=(process.env.APPLICATION_INSIGHTS_NO_PATCH_MODULES||"").split(","),o={bunyan:i.bunyan,console:i.console,mongodb:i.mongodb,mongodbCore:i.mongodbCore,mysql:i.mysql,redis:i.redis,pg:i.pg,pgPool:i.pgPool,winston:i.winston,azuresdk:i.azuresdk})-1===r.indexOf(s)&&(o[s].enable(),n.info(a,"Subscribed to "+s+" events"));r.length>0&&n.info(a,"Some modules will not be patched",r)}else n.info(a,"Not subscribing to dependency autocollection because APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL was set");e.registerContextPreservation=function(n){if(e.IsInitialized){var i=M();i.channel.addContextPreservation(n),i.channel.spanContextPropagator=t.AsyncScopeManager}}})),ln=S(((e,t)=>{"use strict";t.exports={requestContextHeader:"request-context",requestContextSourceKey:"appId",requestContextTargetKey:"appId",requestIdHeader:"request-id",parentIdHeader:"x-ms-request-id",rootIdHeader:"x-ms-request-root-id",correlationContextHeader:"correlation-context",traceparentHeader:"traceparent",traceStateHeader:"tracestate"}})),cn=S(((e,t)=>{"use strict";var i=e&&e.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},i.apply(this,arguments)},r=n(3685),o=n(5687),s=n(7310),a=n(2057),l=w(),c=ln(),u=function(){function e(){}return e.getCookie=function(t,n){var i="";if(t&&t.length&&"string"==typeof n)for(var r=t+"=",o=n.split(";"),s=0;s<o.length;s++)if(n=o[s],(n=e.trim(n))&&0===n.indexOf(r)){i=n.substring(r.length,o[s].length);break}return i},e.trim=function(e){return"string"==typeof e?e.replace(/^\s+|\s+$/g,""):""},e.int32ArrayToBase64=function(e){var t=function(e,t){return String.fromCharCode(e>>t&255)},n=e.map((function(e){return t(e,24)+t(e,16)+t(e,8)+t(e,0)})).join(""),i=(Buffer.from?Buffer.from(n,"binary"):new Buffer(n,"binary")).toString("base64");return i.substr(0,i.indexOf("="))},e.random32=function(){return 4294967296*Math.random()|0},e.randomu32=function(){return e.random32()+2147483648},e.w3cTraceId=function(){for(var t,n=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],i="",r=0;r<4;r++)i+=n[15&(t=e.random32())]+n[t>>4&15]+n[t>>8&15]+n[t>>12&15]+n[t>>16&15]+n[t>>20&15]+n[t>>24&15]+n[t>>28&15];var o=n[8+4*Math.random()|0];return i.substr(0,8)+i.substr(9,4)+"4"+i.substr(13,3)+o+i.substr(16,3)+i.substr(19,12)},e.w3cSpanId=function(){return e.w3cTraceId().substring(16)},e.isValidW3CId=function(e){return 32===e.length&&"00000000000000000000000000000000"!==e},e.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},e.isError=function(e){return e instanceof Error},e.isPrimitive=function(e){var t=typeof e;return"string"===t||"number"===t||"boolean"===t},e.isDate=function(e){return"[object Date]"===Object.prototype.toString.call(e)},e.msToTimeSpan=function(e){(isNaN(e)||e<0)&&(e=0);var t=(e/1e3%60).toFixed(7).replace(/0{0,4}$/,""),n=""+Math.floor(e/6e4)%60,i=""+Math.floor(e/36e5)%24,r=Math.floor(e/864e5);return t=t.indexOf(".")<2?"0"+t:t,n=n.length<2?"0"+n:n,(r>0?r+".":"")+(i=i.length<2?"0"+i:i)+":"+n+":"+t},e.extractError=function(e){var t=e;return{message:e.message,code:t.code||t.id||""}},e.extractObject=function(t){return t instanceof Error?e.extractError(t):"function"==typeof t.toJSON?t.toJSON():t},e.validateStringMap=function(t){if("object"==typeof t){var n={};for(var i in t){var r="",o=t[i],s=typeof o;if(e.isPrimitive(o))r=o.toString();else if(null===o||"undefined"===s)r="";else{if("function"===s){l.info("key: "+i+" was function; will not serialize");continue}var a=e.isArray(o)?o:e.extractObject(o);try{r=e.isPrimitive(a)?a:JSON.stringify(a)}catch(e){r=o.constructor.name.toString()+" (Error: "+e.message+")",l.info("key: "+i+", could not be serialized")}}n[i]=r.substring(0,e.MAX_PROPERTY_LENGTH)}return n}l.info("Invalid properties dropped from payload")},e.canIncludeCorrelationHeader=function(e,t){var n=e&&e.config&&e.config.correlationHeaderExcludedDomains;if(!n||0==n.length||!t)return!0;for(var i=0;i<n.length;i++)if(new RegExp(n[i].replace(/\./g,".").replace(/\*/g,".*")).test(s.parse(t).hostname))return!1;return!0},e.getCorrelationContextTarget=function(e,t){var n=e.headers&&e.headers[c.requestContextHeader];if(n)for(var i=n.split(","),r=0;r<i.length;++r){var o=i[r].split("=");if(2==o.length&&o[0]==t)return o[1]}},e.makeRequest=function(t,n,a,c){n&&0===n.indexOf("//")&&(n="https:"+n);var u=s.parse(n),d=i(i({},a),{host:u.hostname,port:u.port,path:u.pathname}),p=void 0;if("https:"===u.protocol&&(p=t.proxyHttpsUrl||void 0),"http:"===u.protocol&&(p=t.proxyHttpUrl||void 0),p){0===p.indexOf("//")&&(p="http:"+p);var h=s.parse(p);"https:"===h.protocol?(l.info("Proxies that use HTTPS are not supported"),p=void 0):d=i(i({},d),{host:h.hostname,port:h.port||"80",path:n,headers:i(i({},d.headers),{Host:u.hostname})})}var m="https:"===u.protocol&&!p;return m&&void 0!==t.httpsAgent?d.agent=t.httpsAgent:m||void 0===t.httpAgent?m&&(d.agent=e.tlsRestrictedAgent):d.agent=t.httpAgent,m?o.request(d,c):r.request(d,c)},e.safeIncludeCorrelationHeader=function(t,n,i){var r;if("string"==typeof i)r=i;else if(i instanceof Array)r=i.join(",");else if(i&&"function"==typeof i.toString)try{r=i.toString()}catch(e){l.warn("Outgoing request-context header could not be read. Correlation of requests may be lost.",e,i)}r?e.addCorrelationIdHeaderFromString(t,n,r):n.setHeader(c.requestContextHeader,c.requestContextSourceKey+"="+t.config.correlationId)},e.dumpObj=function(e){var t=Object.prototype.toString.call(e);return t+("[object Error]"===t?"{ stack: '"+e.stack+"', message: '"+e.message+"', name: '"+e.name+"'":JSON.stringify(e))},e.addCorrelationIdHeaderFromString=function(e,t,n){var i=n.split(","),r=c.requestContextSourceKey+"=";i.some((function(e){return e.substring(0,r.length)===r}))||t.setHeader(c.requestContextHeader,n+","+c.requestContextSourceKey+"="+e.config.correlationId)},e.MAX_PROPERTY_LENGTH=8192,e.tlsRestrictedAgent=new o.Agent({keepAlive:!0,maxSockets:25,secureOptions:a.SSL_OP_NO_SSLv2|a.SSL_OP_NO_SSLv3|a.SSL_OP_NO_TLSv1|a.SSL_OP_NO_TLSv1_1}),e}();t.exports=u})),un=S(((e,t)=>{"use strict";var n=cn(),i=w(),r=function(){function e(){}return e.queryCorrelationId=function(t,r){var o=t.profileQueryEndpoint+"/api/profiles/"+t.instrumentationKey+"/appId";if(e.completedLookups.hasOwnProperty(o))r(e.completedLookups[o]);else if(e.pendingLookups[o])e.pendingLookups[o].push(r);else{e.pendingLookups[o]=[r];var s=function(){if(e.pendingLookups[o]){var r={method:"GET",disableAppInsightsAutoCollection:!0};i.info(e.TAG,r);var a=n.makeRequest(t,o,r,(function(n){if(200===n.statusCode){var r="";n.setEncoding("utf-8"),n.on("data",(function(e){r+=e})),n.on("end",(function(){i.info(e.TAG,r);var t=e.correlationIdPrefix+r;e.completedLookups[o]=t,e.pendingLookups[o]&&e.pendingLookups[o].forEach((function(e){return e(t)})),delete e.pendingLookups[o]}))}else n.statusCode>=400&&n.statusCode<500?(e.completedLookups[o]=void 0,delete e.pendingLookups[o]):setTimeout(s,t.correlationIdRetryIntervalMs)}));a&&(a.on("error",(function(t){i.warn(e.TAG,t)})),a.end())}};setTimeout(s,0)}},e.cancelCorrelationIdQuery=function(t,n){var i=t.profileQueryEndpoint+"/api/profiles/"+t.instrumentationKey+"/appId",r=e.pendingLookups[i];r&&(e.pendingLookups[i]=r.filter((function(e){return e!=n})),0==e.pendingLookups[i].length&&delete e.pendingLookups[i])},e.generateRequestId=function(t){if(t){"."!==(t="|"==t[0]?t:"|"+t)[t.length-1]&&(t+=".");var n=(e.currentRootId++).toString(16);return e.appendSuffix(t,n,"_")}return e.generateRootId()},e.getRootId=function(e){var t=e.indexOf(".");t<0&&(t=e.length);var n="|"===e[0]?1:0;return e.substring(n,t)},e.generateRootId=function(){return"|"+n.w3cTraceId()+"."},e.appendSuffix=function(t,i,r){if(t.length+i.length<e.requestIdMaxLength)return t+i+r;var o=e.requestIdMaxLength-9;if(t.length>o)for(;o>1;--o){var s=t[o-1];if("."===s||"_"===s)break}if(o<=1)return e.generateRootId();for(i=n.randomu32().toString(16);i.length<8;)i="0"+i;return t.substring(0,o)+i+"#"},e.TAG="CorrelationIdManager",e.correlationIdPrefix="cid-v1:",e.w3cEnabled=!0,e.pendingLookups={},e.completedLookups={},e.requestIdMaxLength=1024,e.currentRootId=n.randomu32(),e}();t.exports=r})),dn=S(((e,t)=>{"use strict";var n=cn(),i=un(),r=function(){function e(t,r){if(this.traceFlag=e.DEFAULT_TRACE_FLAG,this.version=e.DEFAULT_VERSION,t&&"string"==typeof t)if(t.split(",").length>1)this.traceId=n.w3cTraceId(),this.spanId=n.w3cTraceId().substr(0,16);else{var o=t.trim().split("-"),s=o.length;s>=4?(this.version=o[0],this.traceId=o[1],this.spanId=o[2],this.traceFlag=o[3]):(this.traceId=n.w3cTraceId(),this.spanId=n.w3cTraceId().substr(0,16)),this.version.match(/^[0-9a-f]{2}$/g)||(this.version=e.DEFAULT_VERSION,this.traceId=n.w3cTraceId()),"00"===this.version&&4!==s&&(this.traceId=n.w3cTraceId(),this.spanId=n.w3cTraceId().substr(0,16)),"ff"===this.version&&(this.version=e.DEFAULT_VERSION,this.traceId=n.w3cTraceId(),this.spanId=n.w3cTraceId().substr(0,16)),this.version.match(/^0[0-9a-f]$/g)||(this.version=e.DEFAULT_VERSION),this.traceFlag.match(/^[0-9a-f]{2}$/g)||(this.traceFlag=e.DEFAULT_TRACE_FLAG,this.traceId=n.w3cTraceId()),e.isValidTraceId(this.traceId)||(this.traceId=n.w3cTraceId()),e.isValidSpanId(this.spanId)||(this.spanId=n.w3cTraceId().substr(0,16),this.traceId=n.w3cTraceId()),this.parentId=this.getBackCompatRequestId()}else if(r){this.parentId=r.slice();var a=i.getRootId(r);e.isValidTraceId(a)||(this.legacyRootId=a,a=n.w3cTraceId()),-1!==r.indexOf("|")&&(r=r.substring(1+r.substring(0,r.length-1).lastIndexOf("."),r.length-1)),this.traceId=a,this.spanId=r}else this.traceId=n.w3cTraceId(),this.spanId=n.w3cTraceId().substr(0,16)}return e.isValidTraceId=function(e){return e.match(/^[0-9a-f]{32}$/)&&"00000000000000000000000000000000"!==e},e.isValidSpanId=function(e){return e.match(/^[0-9a-f]{16}$/)&&"0000000000000000"!==e},e.formatOpenTelemetryTraceFlags=function(e){var t="0"+e.toString(16);return t.substring(t.length-2)},e.prototype.getBackCompatRequestId=function(){return"|"+this.traceId+"."+this.spanId+"."},e.prototype.toString=function(){return this.version+"-"+this.traceId+"-"+this.spanId+"-"+this.traceFlag},e.prototype.updateSpanId=function(){this.spanId=n.w3cTraceId().substr(0,16)},e.DEFAULT_TRACE_FLAG="01",e.DEFAULT_VERSION="00",e}();t.exports=r})),pn=S(((e,t)=>{"use strict";var n=function(){function e(e){this.fieldmap=[],e&&(this.fieldmap=this.parseHeader(e))}return e.prototype.toString=function(){var e=this.fieldmap;return e&&0!=e.length?e.join(", "):null},e.validateKeyChars=function(e){var t=e.split("@");if(2==t.length){var n=t[0].trim(),i=t[1].trim(),r=Boolean(n.match(/^[\ ]?[a-z0-9\*\-\_/]{1,241}$/)),o=Boolean(i.match(/^[\ ]?[a-z0-9\*\-\_/]{1,14}$/));return r&&o}return 1==t.length&&Boolean(e.match(/^[\ ]?[a-z0-9\*\-\_/]{1,256}$/))},e.prototype.parseHeader=function(t){var n=[],i={},r=t.split(",");if(r.length>32)return null;for(var o=0,s=r;o<s.length;o++){var a=s[o].trim();if(0!==a.length){var l=a.split("=");if(2!==l.length||!e.validateKeyChars(l[0])||i[l[0]])return null;i[l[0]]=!0,n.push(a)}}return n},e.strict=!0,e}();t.exports=n})),hn=S(((e,t)=>{"use strict";t.exports=function(){}})),mn=S(((e,t)=>{"use strict";var n,i=e&&e.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),r=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}return i(t,e),t}(hn());t.exports=r})),fn=S(((e,t)=>{"use strict";t.exports=function(){}})),gn=S(((e,t)=>{"use strict";t.exports=function(){this.applicationVersion="ai.application.ver",this.deviceId="ai.device.id",this.deviceLocale="ai.device.locale",this.deviceModel="ai.device.model",this.deviceOEMName="ai.device.oemName",this.deviceOSVersion="ai.device.osVersion",this.deviceType="ai.device.type",this.locationIp="ai.location.ip",this.operationId="ai.operation.id",this.operationName="ai.operation.name",this.operationParentId="ai.operation.parentId",this.operationSyntheticSource="ai.operation.syntheticSource",this.operationCorrelationVector="ai.operation.correlationVector",this.sessionId="ai.session.id",this.sessionIsFirst="ai.session.isFirst",this.userAccountId="ai.user.accountId",this.userId="ai.user.id",this.userAuthUserId="ai.user.authUserId",this.cloudRole="ai.cloud.role",this.cloudRoleInstance="ai.cloud.roleInstance",this.internalSdkVersion="ai.internal.sdkVersion",this.internalAgentVersion="ai.internal.agentVersion",this.internalNodeName="ai.internal.nodeName"}})),vn=S(((e,t)=>{"use strict";var n,i=e&&e.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),r=function(e){function t(){return e.call(this)||this}return i(t,e),t}(fn());t.exports=r})),_n=S(((e,t)=>{"use strict";var n,i;(i=n||(n={}))[i.Measurement=0]="Measurement",i[i.Aggregation=1]="Aggregation",t.exports=n})),yn=S(((e,t)=>{"use strict";var n=_n();t.exports=function(){this.kind=n.Measurement}})),Sn=S(((e,t)=>{"use strict";t.exports=function(){this.ver=1,this.sampleRate=100,this.tags={}}})),En=S(((e,t)=>{"use strict";var n,i=e&&e.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),r=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}return i(t,e),t}(hn());t.exports=r})),Tn=S(((e,t)=>{"use strict";var n,i=e&&e.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),r=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.exceptions=[],t.properties={},t.measurements={},t}return i(t,e),t}(hn());t.exports=r})),Cn=S(((e,t)=>{"use strict";t.exports=function(){this.hasFullStack=!0,this.parsedStack=[]}})),bn=S(((e,t)=>{"use strict";var n,i=e&&e.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),r=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t}return i(t,e),t}(hn());t.exports=r})),In=S(((e,t)=>{"use strict";var n,i=e&&e.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),r=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.metrics=[],t.properties={},t}return i(t,e),t}(hn());t.exports=r})),Rn=S(((e,t)=>{"use strict";var n,i=e&&e.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),r=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}return i(t,e),t}(En());t.exports=r})),An=S(((e,t)=>{"use strict";var n,i=e&&e.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),r=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.success=!0,t.properties={},t.measurements={},t}return i(t,e),t}(hn());t.exports=r})),On=S(((e,t)=>{"use strict";var n,i=e&&e.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),r=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}return i(t,e),t}(hn());t.exports=r})),wn=S(((e,t)=>{"use strict";var n,i;(i=n||(n={}))[i.Verbose=0]="Verbose",i[i.Information=1]="Information",i[i.Warning=2]="Warning",i[i.Error=3]="Error",i[i.Critical=4]="Critical",t.exports=n})),xn=S(((e,t)=>{"use strict";t.exports=function(){}})),Pn=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AvailabilityData=mn(),e.Base=fn(),e.ContextTagKeys=gn(),e.Data=vn(),e.DataPoint=yn(),e.DataPointType=_n(),e.Domain=hn(),e.Envelope=Sn(),e.EventData=En(),e.ExceptionData=Tn(),e.ExceptionDetails=Cn(),e.MessageData=bn(),e.MetricData=In(),e.PageViewData=Rn(),e.RemoteDependencyData=An(),e.RequestData=On(),e.SeverityLevel=wn(),e.StackFrame=xn()})),Nn=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.domainSupportsProperties=e.RemoteDependencyDataConstants=void 0;var t=Pn(),n=function(){function e(){}return e.TYPE_HTTP="Http",e.TYPE_AI="Http (tracked component)",e}();e.RemoteDependencyDataConstants=n,e.domainSupportsProperties=function(e){return"properties"in e||e instanceof t.EventData||e instanceof t.ExceptionData||e instanceof t.MessageData||e instanceof t.MetricData||e instanceof t.PageViewData||e instanceof t.RemoteDependencyData||e instanceof t.RequestData}})),Dn=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Mn=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),kn=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Ln=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Bn=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),qn=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Fn=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Un=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),jn=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),zn=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Hn=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Vn=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Gn=S((e=>{"use strict";var t,n;Object.defineProperty(e,"__esModule",{value:!0}),e.TelemetryType=e.TelemetryTypeString=e.baseTypeToTelemetryType=e.telemetryTypeToBaseType=void 0,e.telemetryTypeToBaseType=function(e){switch(e){case t.Event:return"EventData";case t.Exception:return"ExceptionData";case t.Trace:return"MessageData";case t.Metric:return"MetricData";case t.Request:return"RequestData";case t.Dependency:return"RemoteDependencyData";case t.Availability:return"AvailabilityData";case t.PageView:return"PageViewData"}},e.baseTypeToTelemetryType=function(e){switch(e){case"EventData":return t.Event;case"ExceptionData":return t.Exception;case"MessageData":return t.Trace;case"MetricData":return t.Metric;case"RequestData":return t.Request;case"RemoteDependencyData":return t.Dependency;case"AvailabilityData":return t.Availability;case"PageViewData":return t.PageView}},e.TelemetryTypeString={Event:"EventData",Exception:"ExceptionData",Trace:"MessageData",Metric:"MetricData",Request:"RequestData",Dependency:"RemoteDependencyData",Availability:"AvailabilityData",PageView:"PageViewData"},(n=t=e.TelemetryType||(e.TelemetryType={}))[n.Event=0]="Event",n[n.Exception=1]="Exception",n[n.Trace=2]="Trace",n[n.Metric=3]="Metric",n[n.Request=4]="Request",n[n.Dependency=5]="Dependency",n[n.Availability=6]="Availability",n[n.PageView=7]="PageView"})),Wn=S((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),n=e&&e.__exportStar||function(e,n){for(var i in e)"default"!==i&&!Object.prototype.hasOwnProperty.call(n,i)&&t(n,e,i)};Object.defineProperty(e,"__esModule",{value:!0}),n(Dn(),e),n(Mn(),e),n(kn(),e),n(Ln(),e),n(Bn(),e),n(qn(),e),n(Fn(),e),n(Un(),e),n(jn(),e),n(zn(),e),n(Hn(),e),n(Vn(),e),n(Gn(),e)})),$n=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Kn=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Xn=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Yn=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Qn=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Jn=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Zn=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),ei=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),ti=S((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),n=e&&e.__exportStar||function(e,n){for(var i in e)"default"!==i&&!Object.prototype.hasOwnProperty.call(n,i)&&t(n,e,i)};Object.defineProperty(e,"__esModule",{value:!0}),n($n(),e),n(Kn(),e),n(Xn(),e),n(Yn(),e),n(Qn(),e),n(Jn(),e),n(Zn(),e),n(ei(),e)})),ni=S((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),n=e&&e.__exportStar||function(e,n){for(var i in e)"default"!==i&&!Object.prototype.hasOwnProperty.call(n,i)&&t(n,e,i)};Object.defineProperty(e,"__esModule",{value:!0}),n(Nn(),e),n(Pn(),e),n(Wn(),e),n(ti(),e)})),ii=S(((e,t)=>{"use strict";var n=function(){function e(){}return e.prototype.getUrl=function(){return this.url},e.prototype.RequestParser=function(){this.startTime=+new Date},e.prototype._setStatus=function(e,t){var n=+new Date;this.duration=n-this.startTime,this.statusCode=e;var i=this.properties||{};if(t)if("string"==typeof t)i.error=t;else if(t instanceof Error)i.error=t.message;else if("object"==typeof t)for(var r in t)i[r]=t[r]&&t[r].toString&&t[r].toString();this.properties=i},e.prototype._isSuccess=function(){return 0<this.statusCode&&this.statusCode<400},e}();t.exports=n})),ri=S(((e,t)=>{"use strict";var i,r=e&&e.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=n(7310),s=ni(),a=cn(),l=ln(),c=ii(),u=un(),d=pn(),p=dn(),h=function(e){function t(t,n){var i=e.call(this)||this;return t&&(i.method=t.method,i.url=i._getAbsoluteUrl(t),i.startTime=+new Date,i.socketRemoteAddress=t.socket&&t.socket.remoteAddress,i.parseHeaders(t,n),t.connection&&(i.connectionRemoteAddress=t.connection.remoteAddress,i.legacySocketRemoteAddress=t.connection.socket&&t.connection.socket.remoteAddress)),i}return r(t,e),t.prototype.onError=function(e,t){this._setStatus(void 0,e),t&&(this.duration=t)},t.prototype.onResponse=function(e,t){this._setStatus(e.statusCode,void 0),t&&(this.duration=t)},t.prototype.getRequestTelemetry=function(e){var t={id:this.requestId,name:this.method+" "+o.parse(this.url).pathname,url:this.url,source:this.sourceCorrelationId,duration:this.duration,resultCode:this.statusCode?this.statusCode.toString():null,success:this._isSuccess(),properties:this.properties};if(e&&e.time?t.time=e.time:this.startTime&&(t.time=new Date(this.startTime)),e){for(var n in e)t[n]||(t[n]=e[n]);if(e.properties)for(var n in e.properties)t.properties[n]=e.properties[n]}return t},t.prototype.getRequestTags=function(e){var n={};for(var i in e)n[i]=e[i];return n[t.keys.locationIp]=e[t.keys.locationIp]||this._getIp(),n[t.keys.sessionId]=e[t.keys.sessionId]||this._getId("ai_session"),n[t.keys.userId]=e[t.keys.userId]||this._getId("ai_user"),n[t.keys.userAuthUserId]=e[t.keys.userAuthUserId]||this._getId("ai_authUser"),n[t.keys.operationName]=this.getOperationName(e),n[t.keys.operationParentId]=this.getOperationParentId(e),n[t.keys.operationId]=this.getOperationId(e),n},t.prototype.getOperationId=function(e){return e[t.keys.operationId]||this.operationId},t.prototype.getOperationParentId=function(e){return e[t.keys.operationParentId]||this.parentId||this.getOperationId(e)},t.prototype.getOperationName=function(e){return e[t.keys.operationName]||this.method+" "+o.parse(this.url).pathname},t.prototype.getRequestId=function(){return this.requestId},t.prototype.getCorrelationContextHeader=function(){return this.correlationContextHeader},t.prototype.getTraceparent=function(){return this.traceparent},t.prototype.getTracestate=function(){return this.tracestate},t.prototype.getLegacyRootId=function(){return this.legacyRootId},t.prototype._getAbsoluteUrl=function(e){if(!e.headers)return e.url;var t=e.connection?e.connection.encrypted:null,n=o.parse(e.url),i=n.pathname,r=n.search,s=t||"https"==e.headers["x-forwarded-proto"]?"https":"http";return o.format({protocol:s,host:e.headers.host,pathname:i,search:r})},t.prototype._getIp=function(){var e=/[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}/,t=function(t){var n=e.exec(t);if(n)return n[0]},n=t(this.rawHeaders["x-forwarded-for"])||t(this.rawHeaders["x-client-ip"])||t(this.rawHeaders["x-real-ip"])||t(this.connectionRemoteAddress)||t(this.socketRemoteAddress)||t(this.legacySocketRemoteAddress);return!n&&this.connectionRemoteAddress&&this.connectionRemoteAddress.substr&&"::"===this.connectionRemoteAddress.substr(0,2)&&(n="127.0.0.1"),n},t.prototype._getId=function(e){var n=this.rawHeaders&&this.rawHeaders.cookie&&"string"==typeof this.rawHeaders.cookie&&this.rawHeaders.cookie||"";return t.parseId(a.getCookie(e,n))},t.prototype.setBackCompatFromThisTraceContext=function(){this.operationId=this.traceparent.traceId,this.traceparent.legacyRootId&&(this.legacyRootId=this.traceparent.legacyRootId),this.parentId=this.traceparent.parentId,this.traceparent.updateSpanId(),this.requestId=this.traceparent.getBackCompatRequestId()},t.prototype.parseHeaders=function(e,t){if(this.rawHeaders=e.headers||e.rawHeaders,this.userAgent=e.headers&&e.headers["user-agent"],this.sourceCorrelationId=a.getCorrelationContextTarget(e,l.requestContextSourceKey),e.headers){var n=e.headers[l.traceStateHeader]?e.headers[l.traceStateHeader].toString():null,i=e.headers[l.traceparentHeader]?e.headers[l.traceparentHeader].toString():null,r=e.headers[l.requestIdHeader]?e.headers[l.requestIdHeader].toString():null,o=e.headers[l.parentIdHeader]?e.headers[l.parentIdHeader].toString():null,s=e.headers[l.rootIdHeader]?e.headers[l.rootIdHeader].toString():null;this.correlationContextHeader=e.headers[l.correlationContextHeader]?e.headers[l.correlationContextHeader].toString():null,u.w3cEnabled&&(i||n)?(this.traceparent=new p(i?i.toString():null),this.tracestate=i&&n&&new d(n?n.toString():null),this.setBackCompatFromThisTraceContext()):r?u.w3cEnabled?(this.traceparent=new p(null,r),this.setBackCompatFromThisTraceContext()):(this.parentId=r,this.requestId=u.generateRequestId(this.parentId),this.operationId=u.getRootId(this.requestId)):u.w3cEnabled?(this.traceparent=new p,this.traceparent.parentId=o,this.traceparent.legacyRootId=s||o,this.setBackCompatFromThisTraceContext()):(this.parentId=o,this.requestId=u.generateRequestId(s||this.parentId),this.correlationContextHeader=null,this.operationId=u.getRootId(this.requestId)),t&&(this.requestId=t,this.operationId=u.getRootId(this.requestId))}},t.parseId=function(e){var t=e.split("|");return t.length>0?t[0]:""},t.keys=new s.ContextTagKeys,t}(c);t.exports=h})),oi=S(((e,t)=>{var n;e=t.exports=W,n="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:function(){},e.SEMVER_SPEC_VERSION="2.0.0";var i=Number.MAX_SAFE_INTEGER||9007199254740991,r=e.re=[],o=e.src=[],s=0,a=s++;o[a]="0|[1-9]\\d*";var l=s++;o[l]="[0-9]+";var c=s++;o[c]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var u=s++;o[u]="("+o[a]+")\\.("+o[a]+")\\.("+o[a]+")";var d=s++;o[d]="("+o[l]+")\\.("+o[l]+")\\.("+o[l]+")";var p=s++;o[p]="(?:"+o[a]+"|"+o[c]+")";var h=s++;o[h]="(?:"+o[l]+"|"+o[c]+")";var m=s++;o[m]="(?:-("+o[p]+"(?:\\."+o[p]+")*))";var f=s++;o[f]="(?:-?("+o[h]+"(?:\\."+o[h]+")*))";var g=s++;o[g]="[0-9A-Za-z-]+";var v=s++;o[v]="(?:\\+("+o[g]+"(?:\\."+o[g]+")*))";var _=s++,y="v?"+o[u]+o[m]+"?"+o[v]+"?";o[_]="^"+y+"$";var S="[v=\\s]*"+o[d]+o[f]+"?"+o[v]+"?",E=s++;o[E]="^"+S+"$";var T=s++;o[T]="((?:<|>)?=?)";var C=s++;o[C]=o[l]+"|x|X|\\*";var b=s++;o[b]=o[a]+"|x|X|\\*";var I=s++;o[I]="[v=\\s]*("+o[b]+")(?:\\.("+o[b]+")(?:\\.("+o[b]+")(?:"+o[m]+")?"+o[v]+"?)?)?";var R=s++;o[R]="[v=\\s]*("+o[C]+")(?:\\.("+o[C]+")(?:\\.("+o[C]+")(?:"+o[f]+")?"+o[v]+"?)?)?";var A=s++;o[A]="^"+o[T]+"\\s*"+o[I]+"$";var O=s++;o[O]="^"+o[T]+"\\s*"+o[R]+"$";var w=s++;o[w]="(?:^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])";var x=s++;o[x]="(?:~>?)";var P=s++;o[P]="(\\s*)"+o[x]+"\\s+",r[P]=new RegExp(o[P],"g");var N=s++;o[N]="^"+o[x]+o[I]+"$";var D=s++;o[D]="^"+o[x]+o[R]+"$";var M=s++;o[M]="(?:\\^)";var k=s++;o[k]="(\\s*)"+o[M]+"\\s+",r[k]=new RegExp(o[k],"g");var L=s++;o[L]="^"+o[M]+o[I]+"$";var B=s++;o[B]="^"+o[M]+o[R]+"$";var q=s++;o[q]="^"+o[T]+"\\s*("+S+")$|^$";var F=s++;o[F]="^"+o[T]+"\\s*("+y+")$|^$";var U=s++;o[U]="(\\s*)"+o[T]+"\\s*("+S+"|"+o[I]+")",r[U]=new RegExp(o[U],"g");var j=s++;o[j]="^\\s*("+o[I]+")\\s+-\\s+("+o[I]+")\\s*$";var z=s++;o[z]="^\\s*("+o[R]+")\\s+-\\s+("+o[R]+")\\s*$";var H,V=s++;for(o[V]="(<|>)?=?\\s*\\*",H=0;H<35;H++)n(H,o[H]),r[H]||(r[H]=new RegExp(o[H]));function G(e,t){if((!t||"object"!=typeof t)&&(t={loose:!!t,includePrerelease:!1}),e instanceof W)return e;if("string"!=typeof e||e.length>256)return null;if(!(t.loose?r[E]:r[_]).test(e))return null;try{return new W(e,t)}catch{return null}}function W(e,t){if((!t||"object"!=typeof t)&&(t={loose:!!t,includePrerelease:!1}),e instanceof W){if(e.loose===t.loose)return e;e=e.version}else if("string"!=typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>256)throw new TypeError("version is longer than 256 characters");if(!(this instanceof W))return new W(e,t);n("SemVer",e,t),this.options=t,this.loose=!!t.loose;var o=e.trim().match(t.loose?r[E]:r[_]);if(!o)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+o[1],this.minor=+o[2],this.patch=+o[3],this.major>i||this.major<0)throw new TypeError("Invalid major version");if(this.minor>i||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>i||this.patch<0)throw new TypeError("Invalid patch version");o[4]?this.prerelease=o[4].split(".").map((function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<i)return t}return e})):this.prerelease=[],this.build=o[5]?o[5].split("."):[],this.format()}e.parse=G,e.valid=function(e,t){var n=G(e,t);return n?n.version:null},e.clean=function(e,t){var n=G(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null},e.SemVer=W,W.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},W.prototype.toString=function(){return this.version},W.prototype.compare=function(e){return n("SemVer.compare",this.version,this.options,e),e instanceof W||(e=new W(e,this.options)),this.compareMain(e)||this.comparePre(e)},W.prototype.compareMain=function(e){return e instanceof W||(e=new W(e,this.options)),K(this.major,e.major)||K(this.minor,e.minor)||K(this.patch,e.patch)},W.prototype.comparePre=function(e){if(e instanceof W||(e=new W(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var i=this.prerelease[t],r=e.prerelease[t];if(n("prerelease compare",t,i,r),void 0===i&&void 0===r)return 0;if(void 0===r)return 1;if(void 0===i)return-1;if(i!==r)return K(i,r)}while(++t)},W.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":(0!==this.minor||0!==this.patch||0===this.prerelease.length)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(0!==this.patch||0===this.prerelease.length)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var n=this.prerelease.length;--n>=0;)"number"==typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);-1===n&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this},e.inc=function(e,t,n,i){"string"==typeof n&&(i=n,n=void 0);try{return new W(e,n).inc(t,i).version}catch{return null}},e.diff=function(e,t){if(J(e,t))return null;var n=G(e),i=G(t),r="";if(n.prerelease.length||i.prerelease.length){r="pre";var o="prerelease"}for(var s in n)if(("major"===s||"minor"===s||"patch"===s)&&n[s]!==i[s])return r+s;return o},e.compareIdentifiers=K;var $=/^[0-9]+$/;function K(e,t){var n=$.test(e),i=$.test(t);return n&&i&&(e=+e,t=+t),e===t?0:n&&!i?-1:i&&!n?1:e<t?-1:1}function X(e,t,n){return new W(e,n).compare(new W(t,n))}function Y(e,t,n){return X(e,t,n)>0}function Q(e,t,n){return X(e,t,n)<0}function J(e,t,n){return 0===X(e,t,n)}function Z(e,t,n){return 0!==X(e,t,n)}function ee(e,t,n){return X(e,t,n)>=0}function te(e,t,n){return X(e,t,n)<=0}function ne(e,t,n,i){switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e===n;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e!==n;case"":case"=":case"==":return J(e,n,i);case"!=":return Z(e,n,i);case">":return Y(e,n,i);case">=":return ee(e,n,i);case"<":return Q(e,n,i);case"<=":return te(e,n,i);default:throw new TypeError("Invalid operator: "+t)}}function ie(e,t){if((!t||"object"!=typeof t)&&(t={loose:!!t,includePrerelease:!1}),e instanceof ie){if(e.loose===!!t.loose)return e;e=e.value}if(!(this instanceof ie))return new ie(e,t);n("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===re?this.value="":this.value=this.operator+this.semver.version,n("comp",this)}e.rcompareIdentifiers=function(e,t){return K(t,e)},e.major=function(e,t){return new W(e,t).major},e.minor=function(e,t){return new W(e,t).minor},e.patch=function(e,t){return new W(e,t).patch},e.compare=X,e.compareLoose=function(e,t){return X(e,t,!0)},e.rcompare=function(e,t,n){return X(t,e,n)},e.sort=function(t,n){return t.sort((function(t,i){return e.compare(t,i,n)}))},e.rsort=function(t,n){return t.sort((function(t,i){return e.rcompare(t,i,n)}))},e.gt=Y,e.lt=Q,e.eq=J,e.neq=Z,e.gte=ee,e.lte=te,e.cmp=ne,e.Comparator=ie;var re={};function oe(e,t){if((!t||"object"!=typeof t)&&(t={loose:!!t,includePrerelease:!1}),e instanceof oe)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new oe(e.raw,t);if(e instanceof ie)return new oe(e.value,t);if(!(this instanceof oe))return new oe(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map((function(e){return this.parseRange(e.trim())}),this).filter((function(e){return e.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}function se(e){return!e||"x"===e.toLowerCase()||"*"===e}function ae(e,t,n,i,r,o,s,a,l,c,u,d,p){return((t=se(n)?"":se(i)?">="+n+".0.0":se(r)?">="+n+"."+i+".0":">="+t)+" "+(a=se(l)?"":se(c)?"<"+(+l+1)+".0.0":se(u)?"<"+l+"."+(+c+1)+".0":d?"<="+l+"."+c+"."+u+"-"+d:"<="+a)).trim()}function le(e,t,i){for(var r=0;r<e.length;r++)if(!e[r].test(t))return!1;if(t.prerelease.length&&!i.includePrerelease){for(r=0;r<e.length;r++)if(n(e[r].semver),e[r].semver!==re&&e[r].semver.prerelease.length>0){var o=e[r].semver;if(o.major===t.major&&o.minor===t.minor&&o.patch===t.patch)return!0}return!1}return!0}function ce(e,t,n){try{t=new oe(t,n)}catch{return!1}return t.test(e)}function ue(e,t,n,i){var r,o,s,a,l;switch(e=new W(e,i),t=new oe(t,i),n){case">":r=Y,o=te,s=Q,a=">",l=">=";break;case"<":r=Q,o=ee,s=Y,a="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(ce(e,t,i))return!1;for(var c=0;c<t.set.length;++c){var u=t.set[c],d=null,p=null;if(u.forEach((function(e){e.semver===re&&(e=new ie(">=0.0.0")),d=d||e,p=p||e,r(e.semver,d.semver,i)?d=e:s(e.semver,p.semver,i)&&(p=e)})),d.operator===a||d.operator===l||(!p.operator||p.operator===a)&&o(e,p.semver))return!1;if(p.operator===l&&s(e,p.semver))return!1}return!0}ie.prototype.parse=function(e){var t=this.options.loose?r[q]:r[F],n=e.match(t);if(!n)throw new TypeError("Invalid comparator: "+e);this.operator=n[1],"="===this.operator&&(this.operator=""),n[2]?this.semver=new W(n[2],this.options.loose):this.semver=re},ie.prototype.toString=function(){return this.value},ie.prototype.test=function(e){return n("Comparator.test",e,this.options.loose),this.semver===re||("string"==typeof e&&(e=new W(e,this.options)),ne(e,this.operator,this.semver,this.options))},ie.prototype.intersects=function(e,t){if(!(e instanceof ie))throw new TypeError("a Comparator is required");var n;if((!t||"object"!=typeof t)&&(t={loose:!!t,includePrerelease:!1}),""===this.operator)return n=new oe(e.value,t),ce(this.value,n,t);if(""===e.operator)return n=new oe(this.value,t),ce(e.semver,n,t);var i=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),r=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),o=this.semver.version===e.semver.version,s=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),a=ne(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),l=ne(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return i||r||o&&s||a||l},e.Range=oe,oe.prototype.format=function(){return this.range=this.set.map((function(e){return e.join(" ").trim()})).join("||").trim(),this.range},oe.prototype.toString=function(){return this.range},oe.prototype.parseRange=function(e){var t=this.options.loose;e=e.trim();var i=t?r[z]:r[j];e=e.replace(i,ae),n("hyphen replace",e),e=e.replace(r[U],"$1$2$3"),n("comparator trim",e,r[U]),e=(e=(e=e.replace(r[P],"$1~")).replace(r[k],"$1^")).split(/\s+/).join(" ");var o=t?r[q]:r[F],s=e.split(" ").map((function(e){return function(e,t){return n("comp",e,t),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){n("caret",e,t);var i=t.loose?r[B]:r[L];return e.replace(i,(function(t,i,r,o,s){var a;return n("caret",e,t,i,r,o,s),se(i)?a="":se(r)?a=">="+i+".0.0 <"+(+i+1)+".0.0":se(o)?a="0"===i?">="+i+"."+r+".0 <"+i+"."+(+r+1)+".0":">="+i+"."+r+".0 <"+(+i+1)+".0.0":s?(n("replaceCaret pr",s),a="0"===i?"0"===r?">="+i+"."+r+"."+o+"-"+s+" <"+i+"."+r+"."+(+o+1):">="+i+"."+r+"."+o+"-"+s+" <"+i+"."+(+r+1)+".0":">="+i+"."+r+"."+o+"-"+s+" <"+(+i+1)+".0.0"):(n("no pr"),a="0"===i?"0"===r?">="+i+"."+r+"."+o+" <"+i+"."+r+"."+(+o+1):">="+i+"."+r+"."+o+" <"+i+"."+(+r+1)+".0":">="+i+"."+r+"."+o+" <"+(+i+1)+".0.0"),n("caret return",a),a}))}(e,t)})).join(" ")}(e,t),n("caret",e),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){var i=t.loose?r[D]:r[N];return e.replace(i,(function(t,i,r,o,s){var a;return n("tilde",e,t,i,r,o,s),se(i)?a="":se(r)?a=">="+i+".0.0 <"+(+i+1)+".0.0":se(o)?a=">="+i+"."+r+".0 <"+i+"."+(+r+1)+".0":s?(n("replaceTilde pr",s),a=">="+i+"."+r+"."+o+"-"+s+" <"+i+"."+(+r+1)+".0"):a=">="+i+"."+r+"."+o+" <"+i+"."+(+r+1)+".0",n("tilde return",a),a}))}(e,t)})).join(" ")}(e,t),n("tildes",e),e=function(e,t){return n("replaceXRanges",e,t),e.split(/\s+/).map((function(e){return function(e,t){e=e.trim();var i=t.loose?r[O]:r[A];return e.replace(i,(function(t,i,r,o,s,a){n("xRange",e,t,i,r,o,s,a);var l=se(r),c=l||se(o),u=c||se(s);return"="===i&&u&&(i=""),l?t=">"===i||"<"===i?"<0.0.0":"*":i&&u?(c&&(o=0),s=0,">"===i?(i=">=",c?(r=+r+1,o=0,s=0):(o=+o+1,s=0)):"<="===i&&(i="<",c?r=+r+1:o=+o+1),t=i+r+"."+o+"."+s):c?t=">="+r+".0.0 <"+(+r+1)+".0.0":u&&(t=">="+r+"."+o+".0 <"+r+"."+(+o+1)+".0"),n("xRange return",t),t}))}(e,t)})).join(" ")}(e,t),n("xrange",e),e=function(e,t){return n("replaceStars",e,t),e.trim().replace(r[V],"")}(e,t),n("stars",e),e}(e,this.options)}),this).join(" ").split(/\s+/);return this.options.loose&&(s=s.filter((function(e){return!!e.match(o)}))),s.map((function(e){return new ie(e,this.options)}),this)},oe.prototype.intersects=function(e,t){if(!(e instanceof oe))throw new TypeError("a Range is required");return this.set.some((function(n){return n.every((function(n){return e.set.some((function(e){return e.every((function(e){return n.intersects(e,t)}))}))}))}))},e.toComparators=function(e,t){return new oe(e,t).set.map((function(e){return e.map((function(e){return e.value})).join(" ").trim().split(" ")}))},oe.prototype.test=function(e){if(!e)return!1;"string"==typeof e&&(e=new W(e,this.options));for(var t=0;t<this.set.length;t++)if(le(this.set[t],e,this.options))return!0;return!1},e.satisfies=ce,e.maxSatisfying=function(e,t,n){var i=null,r=null;try{var o=new oe(t,n)}catch{return null}return e.forEach((function(e){o.test(e)&&(!i||-1===r.compare(e))&&(r=new W(i=e,n))})),i},e.minSatisfying=function(e,t,n){var i=null,r=null;try{var o=new oe(t,n)}catch{return null}return e.forEach((function(e){o.test(e)&&(!i||1===r.compare(e))&&(r=new W(i=e,n))})),i},e.minVersion=function(e,t){e=new oe(e,t);var n=new W("0.0.0");if(e.test(n)||(n=new W("0.0.0-0"),e.test(n)))return n;n=null;for(var i=0;i<e.set.length;++i)e.set[i].forEach((function(e){var t=new W(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":(!n||Y(n,t))&&(n=t);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+e.operator)}}));return n&&e.test(n)?n:null},e.validRange=function(e,t){try{return new oe(e,t).range||"*"}catch{return null}},e.ltr=function(e,t,n){return ue(e,t,"<",n)},e.gtr=function(e,t,n){return ue(e,t,">",n)},e.outside=ue,e.prerelease=function(e,t){var n=G(e,t);return n&&n.prerelease.length?n.prerelease:null},e.intersects=function(e,t,n){return e=new oe(e,n),t=new oe(t,n),e.intersects(t)},e.coerce=function(e){if(e instanceof W)return e;if("string"!=typeof e)return null;var t=e.match(r[w]);return null==t?null:G(t[1]+"."+(t[2]||"0")+"."+(t[3]||"0"))}})),si=S(((e,t)=>{"use strict";function n(e){return"function"==typeof e}var i=console.error.bind(console);function r(e,t,n){var i=!!e[t]&&e.propertyIsEnumerable(t);Object.defineProperty(e,t,{configurable:!0,enumerable:i,writable:!0,value:n})}function o(e){e&&e.logger&&(n(e.logger)?i=e.logger:i("new logger isn't a function, not replacing"))}function s(e,t,o){if(e&&e[t]){if(!o)return i("no wrapper function"),void i((new Error).stack);if(n(e[t])&&n(o)){var s=e[t],a=o(s,t);return r(a,"__original",s),r(a,"__unwrap",(function(){e[t]===a&&r(e,t,s)})),r(a,"__wrapped",!0),r(e,t,a),a}i("original object and wrapper must be functions")}else i("no original function "+t+" to wrap")}function a(e,t){return e&&e[t]?e[t].__unwrap?e[t].__unwrap():void i("no original to unwrap to -- has "+t+" already been unwrapped?"):(i("no function to unwrap."),void i((new Error).stack))}o.wrap=s,o.massWrap=function(e,t,n){if(!e)return i("must provide one or more modules to patch"),void i((new Error).stack);Array.isArray(e)||(e=[e]),t&&Array.isArray(t)?e.forEach((function(e){t.forEach((function(t){s(e,t,n)}))})):i("must provide one or more functions to wrap on modules")},o.unwrap=a,o.massUnwrap=function(e,t){if(!e)return i("must provide one or more modules to patch"),void i((new Error).stack);Array.isArray(e)||(e=[e]),t&&Array.isArray(t)?e.forEach((function(e){t.forEach((function(t){a(e,t)}))})):i("must provide one or more functions to unwrap on modules")},t.exports=o})),ai=S(((e,t)=>{"use strict";var n=si(),i=n.wrap,r=n.unwrap,o="wrap@before";function s(e,t,n){var i=!!e[t]&&e.propertyIsEnumerable(t);Object.defineProperty(e,t,{configurable:!0,enumerable:i,writable:!0,value:n})}function a(e,t){var n;return n=e._events&&e._events[t],Array.isArray(n)||(n=n?[n]:[]),n}function l(e,t){if(e){var n=e;if("function"==typeof e)n=t(e);else if(Array.isArray(e)){n=[];for(var i=0;i<e.length;i++)n[i]=t(e[i])}return n}}t.exports=function(e,t,n){if(!(e&&e.on&&e.addListener&&e.removeListener&&e.emit))throw new Error("can only wrap real EEs");if(!t)throw new Error("must have function to run on listener addition");if(!n)throw new Error("must have function to wrap listeners when emitting");function c(e){return function(t,n){var r=a(this,t).slice();try{var s=e.call(this,t,n);return function(e,t,n){var i=a(e,t).filter((function(e){return-1===n.indexOf(e)}));i.length>0&&function(e,t){for(var n=t.length,i=0;i<n;i++){var r=t[i],s=e[o];if("function"==typeof s)s(r);else if(Array.isArray(s))for(var a=s.length,l=0;l<a;l++)s[l](r)}}(e,i)}(this,t,r),s}finally{this.on.__wrapped||i(this,"on",c),this.addListener.__wrapped||i(this,"addListener",c)}}}e[o]?"function"==typeof e[o]?s(e,o,[e[o],t]):Array.isArray(e[o])&&e[o].push(t):s(e,o,t),e.__wrapped||(i(e,"addListener",c),i(e,"on",c),i(e,"emit",(function(e){return function(t){if(!this._events||!this._events[t])return e.apply(this,arguments);var o=this._events[t];function s(e){return function(){this._events[t]=o;try{return e.apply(this,arguments)}finally{o=this._events[t],this._events[t]=l(o,n)}}}i(this,"removeListener",s);try{return this._events[t]=l(o,n),e.apply(this,arguments)}finally{r(this,"removeListener"),this._events[t]=o}}})),s(e,"__unwrap",(function(){r(e,"addListener"),r(e,"on"),r(e,"emit"),delete e[o],delete e.__wrapped})),s(e,"__wrapped",!0))}})),li=S(((e,t)=>{"use strict";var i=n(3837),r=n(9491),o=ai(),s=n(852),a="cls@contexts",l="error@context",c=process.env.DEBUG_CLS_HOOKED,u=-1;function d(e){this.name=e,this.active=null,this._set=[],this.id=null,this._contexts=new Map,this._indent=0}function p(e){return process.namespaces[e]}function h(e){let t=p(e);r.ok(t,"can't delete nonexistent namespace! \""+e+'"'),r.ok(t.id,"don't assign to process.namespaces directly! "+i.inspect(t)),process.namespaces[e]=null}function m(...e){c&&process._rawDebug(`${i.format(...e)}`)}t.exports={getNamespace:p,createNamespace:function(e){r.ok(e,"namespace must be given a name."),c&&m(`NS-CREATING NAMESPACE (${e})`);let t=new d(e);return t.id=u,s.createHook({init(n,r,o,a){if(u=s.executionAsyncId(),t.active)t._contexts.set(n,t.active),c&&m(`${" ".repeat(t._indent<0?0:t._indent)}INIT [${r}] (${e}) asyncId:${n} currentUid:${u} triggerId:${o} active:${i.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} resource:${a}`);else if(0===u){let o=s.triggerAsyncId(),l=t._contexts.get(o);l?(t._contexts.set(n,l),c&&m(`${" ".repeat(t._indent<0?0:t._indent)}INIT USING CONTEXT FROM TRIGGERID [${r}] (${e}) asyncId:${n} currentUid:${u} triggerId:${o} active:${i.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} resource:${a}`)):c&&m(`${" ".repeat(t._indent<0?0:t._indent)}INIT MISSING CONTEXT [${r}] (${e}) asyncId:${n} currentUid:${u} triggerId:${o} active:${i.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} resource:${a}`)}if(c&&"PROMISE"===r){m(i.inspect(a,{showHidden:!0}));let s=a.parentId;m(`${" ".repeat(t._indent<0?0:t._indent)}INIT RESOURCE-PROMISE [${r}] (${e}) parentId:${s} asyncId:${n} currentUid:${u} triggerId:${o} active:${i.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} resource:${a}`)}},before(n){let r;if(u=s.executionAsyncId(),r=t._contexts.get(n)||t._contexts.get(u),r){if(c){let o=s.triggerAsyncId();m(`${" ".repeat(t._indent<0?0:t._indent)}BEFORE (${e}) asyncId:${n} currentUid:${u} triggerId:${o} active:${i.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} context:${i.inspect(r)}`),t._indent+=2}t.enter(r)}else if(c){let r=s.triggerAsyncId();m(`${" ".repeat(t._indent<0?0:t._indent)}BEFORE MISSING CONTEXT (${e}) asyncId:${n} currentUid:${u} triggerId:${r} active:${i.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} namespace._contexts:${i.inspect(t._contexts,{showHidden:!0,depth:2,colors:!0})}`),t._indent+=2}},after(n){let r;if(u=s.executionAsyncId(),r=t._contexts.get(n)||t._contexts.get(u),r){if(c){let o=s.triggerAsyncId();t._indent-=2,m(`${" ".repeat(t._indent<0?0:t._indent)}AFTER (${e}) asyncId:${n} currentUid:${u} triggerId:${o} active:${i.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} context:${i.inspect(r)}`)}t.exit(r)}else if(c){let o=s.triggerAsyncId();t._indent-=2,m(`${" ".repeat(t._indent<0?0:t._indent)}AFTER MISSING CONTEXT (${e}) asyncId:${n} currentUid:${u} triggerId:${o} active:${i.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} context:${i.inspect(r)}`)}},destroy(n){if(u=s.executionAsyncId(),c){let r=s.triggerAsyncId();m(`${" ".repeat(t._indent<0?0:t._indent)}DESTROY (${e}) currentUid:${u} asyncId:${n} triggerId:${r} active:${i.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} context:${i.inspect(t._contexts.get(u))}`)}t._contexts.delete(n)}}).enable(),process.namespaces[e]=t,t},destroyNamespace:h,reset:function(){process.namespaces&&Object.keys(process.namespaces).forEach((function(e){h(e)})),process.namespaces=Object.create(null)},ERROR_SYMBOL:l},d.prototype.set=function(e,t){if(!this.active)throw new Error("No context available. ns.run() or ns.bind() must be called first.");return this.active[e]=t,c&&m(" ".repeat(this._indent<0?0:this._indent)+"CONTEXT-SET KEY:"+e+"="+t+" in ns:"+this.name+" currentUid:"+u+" active:"+i.inspect(this.active,{showHidden:!0,depth:2,colors:!0})),t},d.prototype.get=function(e){if(this.active){if(c){let t=s.executionAsyncId(),n=s.triggerAsyncId(),r=" ".repeat(this._indent<0?0:this._indent);m(r+"CONTEXT-GETTING KEY:"+e+"="+this.active[e]+" ("+this.name+") currentUid:"+u+" active:"+i.inspect(this.active,{showHidden:!0,depth:2,colors:!0})),m(`${r}CONTEXT-GETTING KEY: (${this.name}) ${e}=${this.active[e]} currentUid:${u} asyncHooksCurrentId:${t} triggerId:${n} len:${this._set.length} active:${i.inspect(this.active)}`)}return this.active[e]}if(c){let t=s.currentId(),n=s.triggerAsyncId();m(`${" ".repeat(this._indent<0?0:this._indent)}CONTEXT-GETTING KEY NO ACTIVE NS: (${this.name}) ${e}=undefined currentUid:${u} asyncHooksCurrentId:${t} triggerId:${n} len:${this._set.length}`)}},d.prototype.createContext=function(){let e=Object.create(this.active?this.active:Object.prototype);if(e._ns_name=this.name,e.id=u,c){let t=s.executionAsyncId(),n=s.triggerAsyncId();m(`${" ".repeat(this._indent<0?0:this._indent)}CONTEXT-CREATED Context: (${this.name}) currentUid:${u} asyncHooksCurrentId:${t} triggerId:${n} len:${this._set.length} context:${i.inspect(e,{showHidden:!0,depth:2,colors:!0})}`)}return e},d.prototype.run=function(e){let t=this.createContext();this.enter(t);try{if(c){let e=s.triggerAsyncId(),n=s.executionAsyncId();m(`${" ".repeat(this._indent<0?0:this._indent)}CONTEXT-RUN BEGIN: (${this.name}) currentUid:${u} triggerId:${e} asyncHooksCurrentId:${n} len:${this._set.length} context:${i.inspect(t)}`)}return e(t),t}catch(e){throw e&&(e[l]=t),e}finally{if(c){let e=s.triggerAsyncId(),n=s.executionAsyncId();m(`${" ".repeat(this._indent<0?0:this._indent)}CONTEXT-RUN END: (${this.name}) currentUid:${u} triggerId:${e} asyncHooksCurrentId:${n} len:${this._set.length} ${i.inspect(t)}`)}this.exit(t)}},d.prototype.runAndReturn=function(e){let t;return this.run((function(n){t=e(n)})),t},d.prototype.runPromise=function(e){let t=this.createContext();this.enter(t);let n=e(t);if(!n||!n.then||!n.catch)throw new Error("fn must return a promise.");return c&&m("CONTEXT-runPromise BEFORE: ("+this.name+") currentUid:"+u+" len:"+this._set.length+" "+i.inspect(t)),n.then((e=>(c&&m("CONTEXT-runPromise AFTER then: ("+this.name+") currentUid:"+u+" len:"+this._set.length+" "+i.inspect(t)),this.exit(t),e))).catch((e=>{throw e[l]=t,c&&m("CONTEXT-runPromise AFTER catch: ("+this.name+") currentUid:"+u+" len:"+this._set.length+" "+i.inspect(t)),this.exit(t),e}))},d.prototype.bind=function(e,t){t||(t=this.active?this.active:this.createContext());let n=this;return function(){n.enter(t);try{return e.apply(this,arguments)}catch(e){throw e&&(e[l]=t),e}finally{n.exit(t)}}},d.prototype.enter=function(e){if(r.ok(e,"context must be provided for entering"),c){let t=s.executionAsyncId(),n=s.triggerAsyncId();m(`${" ".repeat(this._indent<0?0:this._indent)}CONTEXT-ENTER: (${this.name}) currentUid:${u} triggerId:${n} asyncHooksCurrentId:${t} len:${this._set.length} ${i.inspect(e)}`)}this._set.push(this.active),this.active=e},d.prototype.exit=function(e){if(r.ok(e,"context must be provided for exiting"),c){let t=s.executionAsyncId(),n=s.triggerAsyncId();m(`${" ".repeat(this._indent<0?0:this._indent)}CONTEXT-EXIT: (${this.name}) currentUid:${u} triggerId:${n} asyncHooksCurrentId:${t} len:${this._set.length} ${i.inspect(e)}`)}if(this.active===e)return r.ok(this._set.length,"can't remove top context"),void(this.active=this._set.pop());let t=this._set.lastIndexOf(e);t<0?(c&&m("??ERROR?? context exiting but not entered - ignoring: "+i.inspect(e)),r.ok(t>=0,"context not currently entered; can't exit. \n"+i.inspect(this)+"\n"+i.inspect(e))):(r.ok(t,"can't remove top context"),this._set.splice(t,1))},d.prototype.bindEmitter=function(e){r.ok(e.on&&e.addListener&&e.emit,"can only bind real EEs");let t=this,n="context@"+this.name;o(e,(function(e){!e||(e[a]||(e[a]=Object.create(null)),e[a][n]={namespace:t,context:t.active})}),(function(e){if(!e||!e[a])return e;let t=e,n=e[a];return Object.keys(n).forEach((function(e){let i=n[e];t=i.namespace.bind(t,i.context)})),t}))},d.prototype.fromException=function(e){return e[l]},process.namespaces={}})),ci=S(((e,t)=>{"use strict";function n(){}t.exports=function(){let e=this._hooks,t=this._state,i=process.nextTick;process.nextTick=function(){if(!t.enabled)return i.apply(process,arguments);let r=new Array(arguments.length);for(let e=0;e<arguments.length;e++)r[e]=arguments[e];let o=r[0];if("function"!=typeof o)throw new TypeError("callback is not a function");let s=new n,a=--t.counter;return e.init.call(s,a,0,null,null),r[0]=function(){e.pre.call(s,a);let t=!0;try{o.apply(this,arguments),t=!1}finally{t&&process.listenerCount("uncaughtException")>0&&process.once("uncaughtException",(function(){e.post.call(s,a,!0),e.destroy.call(null,a)}))}e.post.call(s,a,!1),e.destroy.call(null,a)},i.apply(process,r)}}})),ui=S(((e,t)=>{"use strict";function n(){}t.exports=function(){let e=this._hooks,t=this._state,i=global.Promise,r=i.prototype.then;function o(t,n,i,r){return"function"!=typeof t?r?function(t){return function(n){return e.destroy.call(null,t),n}}(i):function(t){return function(n){throw e.destroy.call(null,t),n}}(i):function(){e.pre.call(n,i);try{return t.apply(this,arguments)}finally{e.post.call(n,i,!1),e.destroy.call(null,i)}}}i.prototype.then=function(i,s){if(!t.enabled)return r.call(this,i,s);let a=new n,l=--t.counter;return e.init.call(a,l,0,null,null),r.call(this,o(i,a,l,!0),o(s,a,l,!1))}}})),di=S(((e,t)=>{"use strict";var i=n(9512);function r(){}function o(){}function s(){}var a=new Map,l=new Map,c=new Map,u=null,d=!1;function p(e,t,n,r,o,s,a){let l=i[n],c=i[r];i[n]=function(){if(!t.enabled)return l.apply(i,arguments);let n=new Array(arguments.length);for(let e=0;e<arguments.length;e++)n[e]=arguments[e];let r=n[0];if("function"!=typeof r)throw new TypeError('"callback" argument must be a function');let c,p=new o,h=--t.counter;return e.init.call(p,h,0,null,null),n[0]=function(){u=c,e.pre.call(p,h);let t=!0;try{r.apply(this,arguments),t=!1}finally{t&&process.listenerCount("uncaughtException")>0&&process.once("uncaughtException",(function(){e.post.call(p,h,!0),s.delete(c),e.destroy.call(null,h)}))}e.post.call(p,h,!1),u=null,(a||d)&&(d=!1,s.delete(c),e.destroy.call(null,h))},c=l.apply(i,n),s.set(c,h),c},i[r]=function(t){if(u===t&&null!==t)d=!0;else if(s.has(t)){let n=s.get(t);s.delete(t),e.destroy.call(null,n)}c.apply(i,arguments)}}t.exports=function(){p(this._hooks,this._state,"setTimeout","clearTimeout",r,a,!0),p(this._hooks,this._state,"setInterval","clearInterval",o,l,!1),p(this._hooks,this._state,"setImmediate","clearImmediate",s,c,!0),global.setTimeout=i.setTimeout,global.setInterval=i.setInterval,global.setImmediate=i.setImmediate,global.clearTimeout=i.clearTimeout,global.clearInterval=i.clearInterval,global.clearImmediate=i.clearImmediate}})),pi=S(((e,t)=>{t.exports={name:"async-hook-jl",description:"Inspect the life of handle objects in node",version:"1.7.6",author:"Andreas Madsen <amwebdk@gmail.com>",main:"./index.js",scripts:{test:"node ./test/runner.js && eslint ."},repository:{type:"git",url:"git://github.com/jeff-lewis/async-hook-jl.git"},keywords:["async","async hooks","inspect","async wrap"],license:"MIT",dependencies:{"stack-chain":"^1.3.7"},devDependencies:{async:"1.5.x","cli-color":"1.1.x",eslint:"^3.4.0",endpoint:"0.4.x"},engines:{node:"^4.7 || >=6.9 || >=7.3"}}})),hi=S(((e,t)=>{"use strict";var n=process.binding("async_wrap"),i=n.Providers.TIMERWRAP,r={nextTick:ci(),promise:ui(),timers:di()},o=new Set;function s(){this.enabled=!1,this.counter=0}function a(){let e=this.initFns=[],t=this.preFns=[],n=this.postFns=[],r=this.destroyFns=[];this.init=function(t,n,r,s){if(n!==i)for(let i of e)i(t,this,n,r,s);else o.add(t)},this.pre=function(e){if(!o.has(e))for(let n of t)n(e,this)},this.post=function(e,t){if(!o.has(e))for(let i of n)i(e,this,t)},this.destroy=function(e){if(o.has(e))o.delete(e);else for(let t of r)t(e)}}function l(e,t){let n=e.indexOf(t);-1!==n&&e.splice(n,1)}function c(){this._state=new s,this._hooks=new a,this.version=pi().version,this.providers=n.Providers;for(let e of Object.keys(r))r[e].call(this);process.env.hasOwnProperty("NODE_ASYNC_HOOK_WARNING")&&console.warn("warning: you are using async-hook-jl which is unstable."),n.setupHooks({init:this._hooks.init,pre:this._hooks.pre,post:this._hooks.post,destroy:this._hooks.destroy})}a.prototype.add=function(e){e.init&&this.initFns.push(e.init),e.pre&&this.preFns.push(e.pre),e.post&&this.postFns.push(e.post),e.destroy&&this.destroyFns.push(e.destroy)},a.prototype.remove=function(e){e.init&&l(this.initFns,e.init),e.pre&&l(this.preFns,e.pre),e.post&&l(this.postFns,e.post),e.destroy&&l(this.destroyFns,e.destroy)},t.exports=c,c.prototype.addHooks=function(e){this._hooks.add(e)},c.prototype.removeHooks=function(e){this._hooks.remove(e)},c.prototype.enable=function(){this._state.enabled=!0,n.enable()},c.prototype.disable=function(){this._state.enabled=!1,n.disable()}})),mi=S(((e,t)=>{t.exports={name:"stack-chain",description:"API for combining call site modifiers",version:"1.3.7",author:"Andreas Madsen <amwebdk@gmail.com>",scripts:{test:"tap ./test/simple"},repository:{type:"git",url:"git://github.com/AndreasMadsen/stack-chain.git"},keywords:["stack","chain","trace","call site","concat","format"],devDependencies:{tap:"2.x.x","uglify-js":"2.5.x"},license:"MIT"}})),fi=S(((e,t)=>{t.exports=function(e,t){var n=[];n.push(function(e){try{return Error.prototype.toString.call(e)}catch(e){try{return"<error: "+e+">"}catch{return"<error>"}}}(e));for(var i=0;i<t.length;i++){var r,o=t[i];try{r=o.toString()}catch(e){try{r="<error: "+e+">"}catch{r="<error>"}}n.push("    at "+r)}return n.join("\n")}})),gi=S(((e,t)=>{var n=fi();function i(){this.extend=new s,this.filter=new s,this.format=new a,this.version=mi().version}var r=!1;i.prototype.callSite=function e(t){t||(t={}),r=!0;var n={};Error.captureStackTrace(n,e);var i=n.stack;return r=!1,i=i.slice(t.slice||0),t.extend&&(i=this.extend._modify(n,i)),t.filter&&(i=this.filter._modify(n,i)),i};var o=new i;function s(){this._modifiers=[]}function a(){this._formater=n,this._previous=void 0}s.prototype._modify=function(e,t){for(var n=0,i=this._modifiers.length;n<i;n++)t=this._modifiers[n](e,t);return t},s.prototype.attach=function(e){this._modifiers.push(e)},s.prototype.deattach=function(e){var t=this._modifiers.indexOf(e);return-1!==t&&(this._modifiers.splice(t,1),!0)},a.prototype.replace=function(e){e?this._formater=e:this.restore()},a.prototype.restore=function(){this._formater=n,this._previous=void 0},a.prototype._backup=function(){this._previous=this._formater},a.prototype._roolback=function(){this._previous===n?this.replace(void 0):this.replace(this._previous),this._previous=void 0},Error.prepareStackTrace&&o.format.replace(Error.prepareStackTrace);var l=!1;function c(e,t){if(r)return t;if(l)return n(e,t);var i=t.concat();i=o.extend._modify(e,i),i=(i=o.filter._modify(e,i)).slice(0,Error.stackTraceLimit),Object.isExtensible(e)&&void 0===Object.getOwnPropertyDescriptor(e,"callSite")&&(e.callSite={original:t,mutated:i}),l=!0;var s=o.format._formater(e,i);return l=!1,s}Object.defineProperty(Error,"prepareStackTrace",{get:function(){return c},set:function(e){e===c?o.format._roolback():(o.format._backup(),o.format.replace(e))}}),Object.defineProperty(Error.prototype,"callSite",{get:function(){return this.stack,this.callSite},set:function(e){Object.defineProperty(this,"callSite",{value:e,writable:!0,configurable:!0})},configurable:!0}),t.exports=o})),vi=S(((e,t)=>{if(global._stackChain){if(global._stackChain.version!==mi().version)throw new Error("Conflicting version of stack-chain found");t.exports=global._stackChain}else t.exports=global._stackChain=gi()})),_i=S(((e,t)=>{"use strict";var n=hi();if(global._asyncHook){if(global._asyncHook.version!==pi().version)throw new Error("Conflicting version of async-hook-jl found");t.exports=global._asyncHook}else vi().filter.attach((function(e,t){return t.filter((function(e){let t=e.getFileName();return!(t&&t.slice(0,__dirname.length)===__dirname)}))})),t.exports=global._asyncHook=new n})),yi=S(((e,t)=>{"use strict";var i=n(3837),r=n(9491),o=ai(),s=_i(),a="cls@contexts",l="error@context",c=[];for(let e in s.providers)c[s.providers[e]]=e;var u,d,p=process.env.DEBUG_CLS_HOOKED,h=-1;function m(e){this.name=e,this.active=null,this._set=[],this.id=null,this._contexts=new Map}function f(e){return process.namespaces[e]}function g(e){let t=f(e);r.ok(t,"can't delete nonexistent namespace! \""+e+'"'),r.ok(t.id,"don't assign to process.namespaces directly! "+i.inspect(t)),process.namespaces[e]=null}function v(e){process.env.DEBUG&&process._rawDebug(e)}function _(e){return e?"function"==typeof e?e.name?e.name:(e.toString().trim().match(/^function\s*([^\s(]+)/)||[])[1]:e.constructor&&e.constructor.name?e.constructor.name:void 0:e}if(t.exports={getNamespace:f,createNamespace:function(e){r.ok(e,"namespace must be given a name."),p&&v("CREATING NAMESPACE "+e);let t=new m(e);return t.id=h,s.addHooks({init(n,r,o,s,a){h=n,s?(t._contexts.set(n,t._contexts.get(s)),p&&v("PARENTID: "+e+" uid:"+n+" parent:"+s+" provider:"+o)):t._contexts.set(h,t.active),p&&v("INIT "+e+" uid:"+n+" parent:"+s+" provider:"+c[o]+" active:"+i.inspect(t.active,!0))},pre(n,r){h=n;let o=t._contexts.get(n);o?(p&&v(" PRE "+e+" uid:"+n+" handle:"+_(r)+" context:"+i.inspect(o)),t.enter(o)):p&&v(" PRE MISSING CONTEXT "+e+" uid:"+n+" handle:"+_(r))},post(n,r){h=n;let o=t._contexts.get(n);o?(p&&v(" POST "+e+" uid:"+n+" handle:"+_(r)+" context:"+i.inspect(o)),t.exit(o)):p&&v(" POST MISSING CONTEXT "+e+" uid:"+n+" handle:"+_(r))},destroy(n){h=n,p&&v("DESTROY "+e+" uid:"+n+" context:"+i.inspect(t._contexts.get(h))+" active:"+i.inspect(t.active,!0)),t._contexts.delete(n)}}),process.namespaces[e]=t,t},destroyNamespace:g,reset:function(){process.namespaces&&Object.keys(process.namespaces).forEach((function(e){g(e)})),process.namespaces=Object.create(null)},ERROR_SYMBOL:l},m.prototype.set=function(e,t){if(!this.active)throw new Error("No context available. ns.run() or ns.bind() must be called first.");return p&&v("    SETTING KEY:"+e+"="+t+" in ns:"+this.name+" uid:"+h+" active:"+i.inspect(this.active,!0)),this.active[e]=t,t},m.prototype.get=function(e){if(this.active)return p&&v("    GETTING KEY:"+e+"="+this.active[e]+" "+this.name+" uid:"+h+" active:"+i.inspect(this.active,!0)),this.active[e];p&&v("    GETTING KEY:"+e+"=undefined "+this.name+" uid:"+h+" active:"+i.inspect(this.active,!0))},m.prototype.createContext=function(){p&&v("   CREATING Context: "+this.name+" uid:"+h+" len:"+this._set.length+"  active:"+i.inspect(this.active,!0,2,!0));let e=Object.create(this.active?this.active:Object.prototype);return e._ns_name=this.name,e.id=h,p&&v("   CREATED Context: "+this.name+" uid:"+h+" len:"+this._set.length+"  context:"+i.inspect(e,!0,2,!0)),e},m.prototype.run=function(e){let t=this.createContext();this.enter(t);try{return p&&v(" BEFORE RUN: "+this.name+" uid:"+h+" len:"+this._set.length+" "+i.inspect(t)),e(t),t}catch(e){throw e&&(e[l]=t),e}finally{p&&v(" AFTER RUN: "+this.name+" uid:"+h+" len:"+this._set.length+" "+i.inspect(t)),this.exit(t)}},m.prototype.runAndReturn=function(e){var t;return this.run((function(n){t=e(n)})),t},m.prototype.runPromise=function(e){let t=this.createContext();this.enter(t);let n=e(t);if(!n||!n.then||!n.catch)throw new Error("fn must return a promise.");return p&&v(" BEFORE runPromise: "+this.name+" uid:"+h+" len:"+this._set.length+" "+i.inspect(t)),n.then((e=>(p&&v(" AFTER runPromise: "+this.name+" uid:"+h+" len:"+this._set.length+" "+i.inspect(t)),this.exit(t),e))).catch((e=>{throw e[l]=t,p&&v(" AFTER runPromise: "+this.name+" uid:"+h+" len:"+this._set.length+" "+i.inspect(t)),this.exit(t),e}))},m.prototype.bind=function(e,t){t||(t=this.active?this.active:this.createContext());let n=this;return function(){n.enter(t);try{return e.apply(this,arguments)}catch(e){throw e&&(e[l]=t),e}finally{n.exit(t)}}},m.prototype.enter=function(e){r.ok(e,"context must be provided for entering"),p&&v("  ENTER "+this.name+" uid:"+h+" len:"+this._set.length+" context: "+i.inspect(e)),this._set.push(this.active),this.active=e},m.prototype.exit=function(e){if(r.ok(e,"context must be provided for exiting"),p&&v("  EXIT "+this.name+" uid:"+h+" len:"+this._set.length+" context: "+i.inspect(e)),this.active===e)return r.ok(this._set.length,"can't remove top context"),void(this.active=this._set.pop());let t=this._set.lastIndexOf(e);t<0?(p&&v("??ERROR?? context exiting but not entered - ignoring: "+i.inspect(e)),r.ok(t>=0,"context not currently entered; can't exit. \n"+i.inspect(this)+"\n"+i.inspect(e))):(r.ok(t,"can't remove top context"),this._set.splice(t,1))},m.prototype.bindEmitter=function(e){r.ok(e.on&&e.addListener&&e.emit,"can only bind real EEs");let t=this,n="context@"+this.name;o(e,(function(e){!e||(e[a]||(e[a]=Object.create(null)),e[a][n]={namespace:t,context:t.active})}),(function(e){if(!e||!e[a])return e;let t=e,n=e[a];return Object.keys(n).forEach((function(e){let i=n[e];t=i.namespace.bind(t,i.context)})),t}))},m.prototype.fromException=function(e){return e[l]},process.namespaces={},s._state&&!s._state.enabled&&s.enable(),p)for(d in(u=vi()).filter._modifiers)u.filter.deattach(d)})),Si=S(((e,t)=>{"use strict";var n=oi();process&&n.gte(process.versions.node,"8.0.0")?t.exports=li():t.exports=yi()})),Ei=S(((e,t)=>{var n;e=t.exports=W,n="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:function(){},e.SEMVER_SPEC_VERSION="2.0.0";var i=Number.MAX_SAFE_INTEGER||9007199254740991,r=e.re=[],o=e.src=[],s=0,a=s++;o[a]="0|[1-9]\\d*";var l=s++;o[l]="[0-9]+";var c=s++;o[c]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var u=s++;o[u]="("+o[a]+")\\.("+o[a]+")\\.("+o[a]+")";var d=s++;o[d]="("+o[l]+")\\.("+o[l]+")\\.("+o[l]+")";var p=s++;o[p]="(?:"+o[a]+"|"+o[c]+")";var h=s++;o[h]="(?:"+o[l]+"|"+o[c]+")";var m=s++;o[m]="(?:-("+o[p]+"(?:\\."+o[p]+")*))";var f=s++;o[f]="(?:-?("+o[h]+"(?:\\."+o[h]+")*))";var g=s++;o[g]="[0-9A-Za-z-]+";var v=s++;o[v]="(?:\\+("+o[g]+"(?:\\."+o[g]+")*))";var _=s++,y="v?"+o[u]+o[m]+"?"+o[v]+"?";o[_]="^"+y+"$";var S="[v=\\s]*"+o[d]+o[f]+"?"+o[v]+"?",E=s++;o[E]="^"+S+"$";var T=s++;o[T]="((?:<|>)?=?)";var C=s++;o[C]=o[l]+"|x|X|\\*";var b=s++;o[b]=o[a]+"|x|X|\\*";var I=s++;o[I]="[v=\\s]*("+o[b]+")(?:\\.("+o[b]+")(?:\\.("+o[b]+")(?:"+o[m]+")?"+o[v]+"?)?)?";var R=s++;o[R]="[v=\\s]*("+o[C]+")(?:\\.("+o[C]+")(?:\\.("+o[C]+")(?:"+o[f]+")?"+o[v]+"?)?)?";var A=s++;o[A]="^"+o[T]+"\\s*"+o[I]+"$";var O=s++;o[O]="^"+o[T]+"\\s*"+o[R]+"$";var w=s++;o[w]="(?:^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])";var x=s++;o[x]="(?:~>?)";var P=s++;o[P]="(\\s*)"+o[x]+"\\s+",r[P]=new RegExp(o[P],"g");var N=s++;o[N]="^"+o[x]+o[I]+"$";var D=s++;o[D]="^"+o[x]+o[R]+"$";var M=s++;o[M]="(?:\\^)";var k=s++;o[k]="(\\s*)"+o[M]+"\\s+",r[k]=new RegExp(o[k],"g");var L=s++;o[L]="^"+o[M]+o[I]+"$";var B=s++;o[B]="^"+o[M]+o[R]+"$";var q=s++;o[q]="^"+o[T]+"\\s*("+S+")$|^$";var F=s++;o[F]="^"+o[T]+"\\s*("+y+")$|^$";var U=s++;o[U]="(\\s*)"+o[T]+"\\s*("+S+"|"+o[I]+")",r[U]=new RegExp(o[U],"g");var j=s++;o[j]="^\\s*("+o[I]+")\\s+-\\s+("+o[I]+")\\s*$";var z=s++;o[z]="^\\s*("+o[R]+")\\s+-\\s+("+o[R]+")\\s*$";var H,V=s++;for(o[V]="(<|>)?=?\\s*\\*",H=0;H<35;H++)n(H,o[H]),r[H]||(r[H]=new RegExp(o[H]));function G(e,t){if((!t||"object"!=typeof t)&&(t={loose:!!t,includePrerelease:!1}),e instanceof W)return e;if("string"!=typeof e||e.length>256)return null;if(!(t.loose?r[E]:r[_]).test(e))return null;try{return new W(e,t)}catch{return null}}function W(e,t){if((!t||"object"!=typeof t)&&(t={loose:!!t,includePrerelease:!1}),e instanceof W){if(e.loose===t.loose)return e;e=e.version}else if("string"!=typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>256)throw new TypeError("version is longer than 256 characters");if(!(this instanceof W))return new W(e,t);n("SemVer",e,t),this.options=t,this.loose=!!t.loose;var o=e.trim().match(t.loose?r[E]:r[_]);if(!o)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+o[1],this.minor=+o[2],this.patch=+o[3],this.major>i||this.major<0)throw new TypeError("Invalid major version");if(this.minor>i||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>i||this.patch<0)throw new TypeError("Invalid patch version");o[4]?this.prerelease=o[4].split(".").map((function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<i)return t}return e})):this.prerelease=[],this.build=o[5]?o[5].split("."):[],this.format()}e.parse=G,e.valid=function(e,t){var n=G(e,t);return n?n.version:null},e.clean=function(e,t){var n=G(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null},e.SemVer=W,W.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},W.prototype.toString=function(){return this.version},W.prototype.compare=function(e){return n("SemVer.compare",this.version,this.options,e),e instanceof W||(e=new W(e,this.options)),this.compareMain(e)||this.comparePre(e)},W.prototype.compareMain=function(e){return e instanceof W||(e=new W(e,this.options)),K(this.major,e.major)||K(this.minor,e.minor)||K(this.patch,e.patch)},W.prototype.comparePre=function(e){if(e instanceof W||(e=new W(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var i=this.prerelease[t],r=e.prerelease[t];if(n("prerelease compare",t,i,r),void 0===i&&void 0===r)return 0;if(void 0===r)return 1;if(void 0===i)return-1;if(i!==r)return K(i,r)}while(++t)},W.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":(0!==this.minor||0!==this.patch||0===this.prerelease.length)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(0!==this.patch||0===this.prerelease.length)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var n=this.prerelease.length;--n>=0;)"number"==typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);-1===n&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this},e.inc=function(e,t,n,i){"string"==typeof n&&(i=n,n=void 0);try{return new W(e,n).inc(t,i).version}catch{return null}},e.diff=function(e,t){if(J(e,t))return null;var n=G(e),i=G(t),r="";if(n.prerelease.length||i.prerelease.length){r="pre";var o="prerelease"}for(var s in n)if(("major"===s||"minor"===s||"patch"===s)&&n[s]!==i[s])return r+s;return o},e.compareIdentifiers=K;var $=/^[0-9]+$/;function K(e,t){var n=$.test(e),i=$.test(t);return n&&i&&(e=+e,t=+t),e===t?0:n&&!i?-1:i&&!n?1:e<t?-1:1}function X(e,t,n){return new W(e,n).compare(new W(t,n))}function Y(e,t,n){return X(e,t,n)>0}function Q(e,t,n){return X(e,t,n)<0}function J(e,t,n){return 0===X(e,t,n)}function Z(e,t,n){return 0!==X(e,t,n)}function ee(e,t,n){return X(e,t,n)>=0}function te(e,t,n){return X(e,t,n)<=0}function ne(e,t,n,i){switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e===n;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e!==n;case"":case"=":case"==":return J(e,n,i);case"!=":return Z(e,n,i);case">":return Y(e,n,i);case">=":return ee(e,n,i);case"<":return Q(e,n,i);case"<=":return te(e,n,i);default:throw new TypeError("Invalid operator: "+t)}}function ie(e,t){if((!t||"object"!=typeof t)&&(t={loose:!!t,includePrerelease:!1}),e instanceof ie){if(e.loose===!!t.loose)return e;e=e.value}if(!(this instanceof ie))return new ie(e,t);n("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===re?this.value="":this.value=this.operator+this.semver.version,n("comp",this)}e.rcompareIdentifiers=function(e,t){return K(t,e)},e.major=function(e,t){return new W(e,t).major},e.minor=function(e,t){return new W(e,t).minor},e.patch=function(e,t){return new W(e,t).patch},e.compare=X,e.compareLoose=function(e,t){return X(e,t,!0)},e.rcompare=function(e,t,n){return X(t,e,n)},e.sort=function(t,n){return t.sort((function(t,i){return e.compare(t,i,n)}))},e.rsort=function(t,n){return t.sort((function(t,i){return e.rcompare(t,i,n)}))},e.gt=Y,e.lt=Q,e.eq=J,e.neq=Z,e.gte=ee,e.lte=te,e.cmp=ne,e.Comparator=ie;var re={};function oe(e,t){if((!t||"object"!=typeof t)&&(t={loose:!!t,includePrerelease:!1}),e instanceof oe)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new oe(e.raw,t);if(e instanceof ie)return new oe(e.value,t);if(!(this instanceof oe))return new oe(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map((function(e){return this.parseRange(e.trim())}),this).filter((function(e){return e.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}function se(e){return!e||"x"===e.toLowerCase()||"*"===e}function ae(e,t,n,i,r,o,s,a,l,c,u,d,p){return((t=se(n)?"":se(i)?">="+n+".0.0":se(r)?">="+n+"."+i+".0":">="+t)+" "+(a=se(l)?"":se(c)?"<"+(+l+1)+".0.0":se(u)?"<"+l+"."+(+c+1)+".0":d?"<="+l+"."+c+"."+u+"-"+d:"<="+a)).trim()}function le(e,t,i){for(var r=0;r<e.length;r++)if(!e[r].test(t))return!1;if(t.prerelease.length&&!i.includePrerelease){for(r=0;r<e.length;r++)if(n(e[r].semver),e[r].semver!==re&&e[r].semver.prerelease.length>0){var o=e[r].semver;if(o.major===t.major&&o.minor===t.minor&&o.patch===t.patch)return!0}return!1}return!0}function ce(e,t,n){try{t=new oe(t,n)}catch{return!1}return t.test(e)}function ue(e,t,n,i){var r,o,s,a,l;switch(e=new W(e,i),t=new oe(t,i),n){case">":r=Y,o=te,s=Q,a=">",l=">=";break;case"<":r=Q,o=ee,s=Y,a="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(ce(e,t,i))return!1;for(var c=0;c<t.set.length;++c){var u=t.set[c],d=null,p=null;if(u.forEach((function(e){e.semver===re&&(e=new ie(">=0.0.0")),d=d||e,p=p||e,r(e.semver,d.semver,i)?d=e:s(e.semver,p.semver,i)&&(p=e)})),d.operator===a||d.operator===l||(!p.operator||p.operator===a)&&o(e,p.semver))return!1;if(p.operator===l&&s(e,p.semver))return!1}return!0}ie.prototype.parse=function(e){var t=this.options.loose?r[q]:r[F],n=e.match(t);if(!n)throw new TypeError("Invalid comparator: "+e);this.operator=n[1],"="===this.operator&&(this.operator=""),n[2]?this.semver=new W(n[2],this.options.loose):this.semver=re},ie.prototype.toString=function(){return this.value},ie.prototype.test=function(e){return n("Comparator.test",e,this.options.loose),this.semver===re||("string"==typeof e&&(e=new W(e,this.options)),ne(e,this.operator,this.semver,this.options))},ie.prototype.intersects=function(e,t){if(!(e instanceof ie))throw new TypeError("a Comparator is required");var n;if((!t||"object"!=typeof t)&&(t={loose:!!t,includePrerelease:!1}),""===this.operator)return n=new oe(e.value,t),ce(this.value,n,t);if(""===e.operator)return n=new oe(this.value,t),ce(e.semver,n,t);var i=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),r=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),o=this.semver.version===e.semver.version,s=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),a=ne(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),l=ne(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return i||r||o&&s||a||l},e.Range=oe,oe.prototype.format=function(){return this.range=this.set.map((function(e){return e.join(" ").trim()})).join("||").trim(),this.range},oe.prototype.toString=function(){return this.range},oe.prototype.parseRange=function(e){var t=this.options.loose;e=e.trim();var i=t?r[z]:r[j];e=e.replace(i,ae),n("hyphen replace",e),e=e.replace(r[U],"$1$2$3"),n("comparator trim",e,r[U]),e=(e=(e=e.replace(r[P],"$1~")).replace(r[k],"$1^")).split(/\s+/).join(" ");var o=t?r[q]:r[F],s=e.split(" ").map((function(e){return function(e,t){return n("comp",e,t),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){n("caret",e,t);var i=t.loose?r[B]:r[L];return e.replace(i,(function(t,i,r,o,s){var a;return n("caret",e,t,i,r,o,s),se(i)?a="":se(r)?a=">="+i+".0.0 <"+(+i+1)+".0.0":se(o)?a="0"===i?">="+i+"."+r+".0 <"+i+"."+(+r+1)+".0":">="+i+"."+r+".0 <"+(+i+1)+".0.0":s?(n("replaceCaret pr",s),a="0"===i?"0"===r?">="+i+"."+r+"."+o+"-"+s+" <"+i+"."+r+"."+(+o+1):">="+i+"."+r+"."+o+"-"+s+" <"+i+"."+(+r+1)+".0":">="+i+"."+r+"."+o+"-"+s+" <"+(+i+1)+".0.0"):(n("no pr"),a="0"===i?"0"===r?">="+i+"."+r+"."+o+" <"+i+"."+r+"."+(+o+1):">="+i+"."+r+"."+o+" <"+i+"."+(+r+1)+".0":">="+i+"."+r+"."+o+" <"+(+i+1)+".0.0"),n("caret return",a),a}))}(e,t)})).join(" ")}(e,t),n("caret",e),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){var i=t.loose?r[D]:r[N];return e.replace(i,(function(t,i,r,o,s){var a;return n("tilde",e,t,i,r,o,s),se(i)?a="":se(r)?a=">="+i+".0.0 <"+(+i+1)+".0.0":se(o)?a=">="+i+"."+r+".0 <"+i+"."+(+r+1)+".0":s?(n("replaceTilde pr",s),a=">="+i+"."+r+"."+o+"-"+s+" <"+i+"."+(+r+1)+".0"):a=">="+i+"."+r+"."+o+" <"+i+"."+(+r+1)+".0",n("tilde return",a),a}))}(e,t)})).join(" ")}(e,t),n("tildes",e),e=function(e,t){return n("replaceXRanges",e,t),e.split(/\s+/).map((function(e){return function(e,t){e=e.trim();var i=t.loose?r[O]:r[A];return e.replace(i,(function(t,i,r,o,s,a){n("xRange",e,t,i,r,o,s,a);var l=se(r),c=l||se(o),u=c||se(s);return"="===i&&u&&(i=""),l?t=">"===i||"<"===i?"<0.0.0":"*":i&&u?(c&&(o=0),s=0,">"===i?(i=">=",c?(r=+r+1,o=0,s=0):(o=+o+1,s=0)):"<="===i&&(i="<",c?r=+r+1:o=+o+1),t=i+r+"."+o+"."+s):c?t=">="+r+".0.0 <"+(+r+1)+".0.0":u&&(t=">="+r+"."+o+".0 <"+r+"."+(+o+1)+".0"),n("xRange return",t),t}))}(e,t)})).join(" ")}(e,t),n("xrange",e),e=function(e,t){return n("replaceStars",e,t),e.trim().replace(r[V],"")}(e,t),n("stars",e),e}(e,this.options)}),this).join(" ").split(/\s+/);return this.options.loose&&(s=s.filter((function(e){return!!e.match(o)}))),s.map((function(e){return new ie(e,this.options)}),this)},oe.prototype.intersects=function(e,t){if(!(e instanceof oe))throw new TypeError("a Range is required");return this.set.some((function(n){return n.every((function(n){return e.set.some((function(e){return e.every((function(e){return n.intersects(e,t)}))}))}))}))},e.toComparators=function(e,t){return new oe(e,t).set.map((function(e){return e.map((function(e){return e.value})).join(" ").trim().split(" ")}))},oe.prototype.test=function(e){if(!e)return!1;"string"==typeof e&&(e=new W(e,this.options));for(var t=0;t<this.set.length;t++)if(le(this.set[t],e,this.options))return!0;return!1},e.satisfies=ce,e.maxSatisfying=function(e,t,n){var i=null,r=null;try{var o=new oe(t,n)}catch{return null}return e.forEach((function(e){o.test(e)&&(!i||-1===r.compare(e))&&(r=new W(i=e,n))})),i},e.minSatisfying=function(e,t,n){var i=null,r=null;try{var o=new oe(t,n)}catch{return null}return e.forEach((function(e){o.test(e)&&(!i||1===r.compare(e))&&(r=new W(i=e,n))})),i},e.minVersion=function(e,t){e=new oe(e,t);var n=new W("0.0.0");if(e.test(n)||(n=new W("0.0.0-0"),e.test(n)))return n;n=null;for(var i=0;i<e.set.length;++i)e.set[i].forEach((function(e){var t=new W(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":(!n||Y(n,t))&&(n=t);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+e.operator)}}));return n&&e.test(n)?n:null},e.validRange=function(e,t){try{return new oe(e,t).range||"*"}catch{return null}},e.ltr=function(e,t,n){return ue(e,t,"<",n)},e.gtr=function(e,t,n){return ue(e,t,">",n)},e.outside=ue,e.prerelease=function(e,t){var n=G(e,t);return n&&n.prerelease.length?n.prerelease:null},e.intersects=function(e,t,n){return e=new oe(e,n),t=new oe(t,n),e.intersects(t)},e.coerce=function(e){if(e instanceof W)return e;if("string"!=typeof e)return null;var t=e.match(r[w]);return null==t?null:G(t[1]+"."+(t[2]||"0")+"."+(t[3]||"0"))}})),Ti=S(((e,t)=>{var n,i,r,o,s,a=si().wrap,l=[],c=0,u=!1,d=[];function p(e,t){var n=e.length,i=t.length,r=[];if(0===n&&0===i)return r;for(var o=0;o<n;o++)r[o]=e[o];if(0===i)return r;for(var s=0;s<i;s++){var a=!0;for(o=0;o<n;o++)if(e[o].uid===t[s].uid){a=!1;break}a&&r.push(t[s])}return r}function h(e,t){"function"==typeof e.create&&(this.create=e.create,this.flags|=1),"function"==typeof e.before&&(this.before=e.before,this.flags|=2),"function"==typeof e.after&&(this.after=e.after,this.flags|=4),"function"==typeof e.error&&(this.error=e.error,this.flags|=8),this.uid=++c,this.data=void 0===t?null:t}function m(e,t){if("object"!=typeof e||!e)throw new TypeError("callbacks argument must be an object");return e instanceof h?e:new h(e,t)}process._fatalException?(r=!1,n=function(e){var t=l.length;if(r||0===t)return!1;var n=!1;r=!0;for(var i=0;i<t;++i){var s=l[i];if(0!=(8&s.flags)){var a=o&&o[s.uid];n=s.error(a,e)||n}}return r=!1,d.length>0&&(l=d.pop()),o=void 0,n&&!u},i=function(e,t,n){var i=[];u=!0;for(var r=0;r<n;++r){var s=t[r];if(i[s.uid]=s.data,0!=(1&s.flags)){var a=s.create(s.data);void 0!==a&&(i[s.uid]=a)}}return u=!1,function(){o=i,d.push(l),l=p(t,l),u=!0;for(var r=0;r<n;++r)(2&t[r].flags)>0&&t[r].before(this,i[t[r].uid]);u=!1;var s=e.apply(this,arguments);for(u=!0,r=0;r<n;++r)(4&t[r].flags)>0&&t[r].after(this,i[t[r].uid]);return u=!1,l=d.pop(),o=void 0,s}},a(process,"_fatalException",(function(e){return function(t){return n(t)||e(t)}}))):(s=!1,n=function(e){if(s)throw e;for(var t=!1,n=l.length,i=0;i<n;++i){var r=l[i];0!=(8&r.flags)&&(t=r.error(null,e)||t)}if(!t&&u)throw e},i=function(e,t,i){var r=[];u=!0;for(var o=0;o<i;++o){var a=t[o];if(r[a.uid]=a.data,0!=(1&a.flags)){var c=a.create(a.data);void 0!==c&&(r[a.uid]=c)}}return u=!1,function(){var o,a=!1,c=!1;d.push(l),l=p(t,l),u=!0;for(var h=0;h<i;++h)(2&t[h].flags)>0&&t[h].before(this,r[t[h].uid]);u=!1;try{o=e.apply(this,arguments)}catch(e){for(a=!0,h=0;h<i;++h)if(0!=(8&l[h].flags))try{c=l[h].error(r[t[h].uid],e)||c}catch(e){throw s=!0,e}if(!c)throw process.removeListener("uncaughtException",n),process._originalNextTick((function(){process.addListener("uncaughtException",n)})),e}finally{if(!a||c){for(u=!0,h=0;h<i;++h)(4&t[h].flags)>0&&t[h].after(this,r[t[h].uid]);u=!1}l=d.pop()}return o}},process.addListener("uncaughtException",n)),h.prototype.create=void 0,h.prototype.before=void 0,h.prototype.after=void 0,h.prototype.error=void 0,h.prototype.data=void 0,h.prototype.uid=0,h.prototype.flags=0,process.createAsyncListener=m,process.addAsyncListener=function(e,t){var n;n=e instanceof h?e:m(e,t);for(var i=!1,r=0;r<l.length;r++)if(n===l[r]){i=!0;break}return i||l.push(n),n},process.removeAsyncListener=function(e){for(var t=0;t<l.length;t++)if(e===l[t]){l.splice(t,1);break}},t.exports=function(e){var t=l.length;if(0===t)return e;for(var n=l.slice(),r=0;r<t;++r)if(n[r].flags>0)return i(e,n,t);return function(e,t,n){u=!0;for(var i=0;i<n;++i){var r=t[i];r.create&&r.create(r.data)}return u=!1,function(){d.push(l),l=p(t,l);var n=e.apply(this,arguments);return l=d.pop(),n}}(e,n,t)}})),Ci=S(((e,t)=>{"use strict";t.exports=(e,t)=>class extends e{constructor(e){var n,i;super((function(e,o){n=this,i=[function(n){return t(r,!1),e(n)},function(e){return t(r,!1),o(e)}]}));var r=this;try{e.apply(n,i)}catch(e){i[1](e)}return r}}})),bi=S((()=>{"use strict";if(process.addAsyncListener)throw new Error("Don't require polyfill unless needed");var e=si(),t=Ei(),i=e.wrap,r=e.massWrap,o=Ti(),s=n(3837),a=t.gte(process.version,"6.0.0"),l=t.gte(process.version,"7.0.0"),c=t.gte(process.version,"8.0.0"),u=t.gte(process.version,"11.0.0"),d=n(1808);function p(e){return function(){this.on("connection",(function(e){e._handle&&(e._handle.onread=o(e._handle.onread))}));try{return e.apply(this,arguments)}finally{this._handle&&this._handle.onconnection&&(this._handle.onconnection=o(this._handle.onconnection))}}}function h(e){if(e&&e._handle){var t=e._handle;t._originalOnread||(t._originalOnread=t.onread),t.onread=o(t._originalOnread)}}l&&!d._normalizeArgs?d._normalizeArgs=function(e){if(0===e.length)return[{},null];var t=e[0],n={};"object"==typeof t&&null!==t?n=t:function(e){return"string"==typeof e&&!1===function(e){return(e=Number(e))>=0&&e}(e)}(t)?n.path=t:(n.port=t,e.length>1&&"string"==typeof e[1]&&(n.host=e[1]));var i=e[e.length-1];return"function"!=typeof i?[n,null]:[n,i]}:!l&&!d._normalizeConnectArgs&&(d._normalizeConnectArgs=function(e){var t,n={};"object"==typeof e[0]&&null!==e[0]?n=e[0]:"string"==typeof e[0]&&!1===(t=e[0],(t=Number(t))>=0&&t)?n.path=e[0]:(n.port=e[0],"string"==typeof e[1]&&(n.host=e[1]));var i=e[e.length-1];return"function"==typeof i?[n,i]:[n]}),"_setUpListenHandle"in d.Server.prototype?i(d.Server.prototype,"_setUpListenHandle",p):i(d.Server.prototype,"_listen2",p),i(d.Socket.prototype,"connect",(function(e){return function(){var t;(t=c&&Array.isArray(arguments[0])&&Object.getOwnPropertySymbols(arguments[0]).length>0?arguments[0]:l?d._normalizeArgs(arguments):d._normalizeConnectArgs(arguments))[1]&&(t[1]=o(t[1]));var n=e.apply(this,t);return h(this),n}}));var m=n(3685);i(m.Agent.prototype,"addRequest",(function(e){return function(t){var n=t.onSocket;return t.onSocket=o((function(e){return h(e),n.apply(this,arguments)})),e.apply(this,arguments)}}));var f=n(2081);function g(e){Array.isArray(e.stdio)&&e.stdio.forEach((function(e){e&&e._handle&&(e._handle.onread=o(e._handle.onread),i(e._handle,"close",x))})),e._handle&&(e._handle.onexit=o(e._handle.onexit))}f.ChildProcess?i(f.ChildProcess.prototype,"spawn",(function(e){return function(){var t=e.apply(this,arguments);return g(this),t}})):r(f,["execFile","fork","spawn"],(function(e){return function(){var t=e.apply(this,arguments);return g(t),t}})),process._fatalException||(process._originalNextTick=process.nextTick);var v=[];process._nextDomainTick&&v.push("_nextDomainTick"),process._tickDomainCallback&&v.push("_tickDomainCallback"),r(process,v,w),i(process,"nextTick",x);var _=["setTimeout","setInterval"];global.setImmediate&&_.push("setImmediate");var y=n(9512),S=global.setTimeout===y.setTimeout;r(y,_,x),S&&r(global,_,x);var E=n(9523);r(E,["lookup","resolve","resolve4","resolve6","resolveCname","resolveMx","resolveNs","resolveTxt","resolveSrv","reverse"],w),E.resolveNaptr&&i(E,"resolveNaptr",w);var T,C,b,I=n(7147);r(I,["watch","rename","truncate","chown","fchown","chmod","fchmod","stat","lstat","fstat","link","symlink","readlink","realpath","unlink","rmdir","mkdir","readdir","close","open","utimes","futimes","fsync","write","read","readFile","writeFile","appendFile","watchFile","unwatchFile","exists"],w),I.lchown&&i(I,"lchown",w),I.lchmod&&i(I,"lchmod",w),I.ftruncate&&i(I,"ftruncate",w);try{T=n(9796)}catch{}T&&T.Deflate&&T.Deflate.prototype&&((C=Object.getPrototypeOf(T.Deflate.prototype))._transform?i(C,"_transform",w):C.write&&C.flush&&C.end&&r(C,["write","flush","end"],w));try{b=n(6113)}catch{}b&&(R=["pbkdf2","randomBytes"],u||R.push("pseudoRandomBytes"),r(b,R,w));var R,A,O=!!global.Promise&&"function Promise() { [native code] }"===Promise.toString()&&"function toString() { [native code] }"===Promise.toString.toString();function w(e){var t=function(){var t,n=arguments.length-1;if("function"==typeof arguments[n]){t=Array(arguments.length);for(var i=0;i<arguments.length-1;i++)t[i]=arguments[i];t[n]=o(arguments[n])}return e.apply(this,t||arguments)};switch(e.length){case 1:return function(n){return 1!==arguments.length?t.apply(this,arguments):("function"==typeof n&&(n=o(n)),e.call(this,n))};case 2:return function(n,i){return 2!==arguments.length?t.apply(this,arguments):("function"==typeof i&&(i=o(i)),e.call(this,n,i))};case 3:return function(n,i,r){return 3!==arguments.length?t.apply(this,arguments):("function"==typeof r&&(r=o(r)),e.call(this,n,i,r))};case 4:return function(n,i,r,s){return 4!==arguments.length?t.apply(this,arguments):("function"==typeof s&&(s=o(s)),e.call(this,n,i,r,s))};case 5:return function(n,i,r,s,a){return 5!==arguments.length?t.apply(this,arguments):("function"==typeof a&&(a=o(a)),e.call(this,n,i,r,s,a))};case 6:return function(n,i,r,s,a,l){return 6!==arguments.length?t.apply(this,arguments):("function"==typeof l&&(l=o(l)),e.call(this,n,i,r,s,a,l))};default:return t}}function x(e){var t=function(){var t;if("function"==typeof arguments[0]){(t=Array(arguments.length))[0]=o(arguments[0]);for(var n=1;n<arguments.length;n++)t[n]=arguments[n]}return e.apply(this,t||arguments)};switch(e.length){case 1:return function(n){return 1!==arguments.length?t.apply(this,arguments):("function"==typeof n&&(n=o(n)),e.call(this,n))};case 2:return function(n,i){return 2!==arguments.length?t.apply(this,arguments):("function"==typeof n&&(n=o(n)),e.call(this,n,i))};case 3:return function(n,i,r){return 3!==arguments.length?t.apply(this,arguments):("function"==typeof n&&(n=o(n)),e.call(this,n,i,r))};case 4:return function(n,i,r,s){return 4!==arguments.length?t.apply(this,arguments):("function"==typeof n&&(n=o(n)),e.call(this,n,i,r,s))};case 5:return function(n,i,r,s,a){return 5!==arguments.length?t.apply(this,arguments):("function"==typeof n&&(n=o(n)),e.call(this,n,i,r,s,a))};case 6:return function(n,i,r,s,a,l){return 6!==arguments.length?t.apply(this,arguments):("function"==typeof n&&(n=o(n)),e.call(this,n,i,r,s,a,l))};default:return t}}O&&(A=process.addAsyncListener({create:function(){O=!1}}),global.Promise.resolve(!0).then((function(){O=!1})),process.removeAsyncListener(A)),O&&function(){var e=global.Promise;function t(i){if(!(this instanceof t))return e(i);if("function"!=typeof i)return new e(i);var r,o,s=new e((function(e,t){r=this,o=[function(t){return n(s,!1),e(t)},function(e){return n(s,!1),t(e)}]}));s.__proto__=t.prototype;try{i.apply(r,o)}catch(e){o[1](e)}return s}function n(e,t){(!e.__asl_wrapper||t)&&(e.__asl_wrapper=o(r))}function r(t,i,o,s){var a;try{return{returnVal:a=i.call(t,o),error:!1}}catch(e){return{errorVal:e,error:!0}}finally{a instanceof e?s.__asl_wrapper=function(){var e=a.__asl_wrapper||r;return e.apply(this,arguments)}:n(s,!0)}}function l(e){return function(){var t=this,n=e.apply(t,Array.prototype.map.call(arguments,i));return n.__asl_wrapper=function(e,i,o,s){return t.__asl_wrapper?(t.__asl_wrapper(e,(function(){}),null,n),n.__asl_wrapper(e,i,o,s)):r(e,i,o,s)},n;function i(e){return"function"!=typeof e?e:o((function(i){var o=(t.__asl_wrapper||r)(this,e,i,n);if(o.error)throw o.errorVal;return o.returnVal}))}}}s.inherits(t,e),i(e.prototype,"then",l),e.prototype.chain&&i(e.prototype,"chain",l),a?global.Promise=Ci()(e,n):(["all","race","reject","resolve","accept","defer"].forEach((function(n){"function"==typeof e[n]&&(t[n]=e[n])})),global.Promise=t)}()})),Ii=S(((e,t)=>{"use strict";var i=n(9491),r=ai(),o="cls@contexts",s="error@context";function a(e){this.name=e,this.active=null,this._set=[],this.id=null}function l(e){return process.namespaces[e]}function c(e){var t=l(e);i.ok(t,"can't delete nonexistent namespace!"),i.ok(t.id,"don't assign to process.namespaces directly!"),process.removeAsyncListener(t.id),process.namespaces[e]=null}function u(){process.namespaces&&Object.keys(process.namespaces).forEach((function(e){c(e)})),process.namespaces=Object.create(null)}process.addAsyncListener||bi(),a.prototype.set=function(e,t){if(!this.active)throw new Error("No context available. ns.run() or ns.bind() must be called first.");return this.active[e]=t,t},a.prototype.get=function(e){if(this.active)return this.active[e]},a.prototype.createContext=function(){return Object.create(this.active)},a.prototype.run=function(e){var t=this.createContext();this.enter(t);try{return e(t),t}catch(e){throw e&&(e[s]=t),e}finally{this.exit(t)}},a.prototype.runAndReturn=function(e){var t;return this.run((function(n){t=e(n)})),t},a.prototype.bind=function(e,t){t||(t=this.active?this.active:this.createContext());var n=this;return function(){n.enter(t);try{return e.apply(this,arguments)}catch(e){throw e&&(e[s]=t),e}finally{n.exit(t)}}},a.prototype.enter=function(e){i.ok(e,"context must be provided for entering"),this._set.push(this.active),this.active=e},a.prototype.exit=function(e){if(i.ok(e,"context must be provided for exiting"),this.active===e)return i.ok(this._set.length,"can't remove top context"),void(this.active=this._set.pop());var t=this._set.lastIndexOf(e);i.ok(t>=0,"context not currently entered; can't exit"),i.ok(t,"can't remove top context"),this._set.splice(t,1)},a.prototype.bindEmitter=function(e){i.ok(e.on&&e.addListener&&e.emit,"can only bind real EEs");var t=this,n="context@"+this.name;r(e,(function(e){!e||(e[o]||(e[o]=Object.create(null)),e[o][n]={namespace:t,context:t.active})}),(function(e){if(!e||!e[o])return e;var t=e,n=e[o];return Object.keys(n).forEach((function(e){var i=n[e];t=i.namespace.bind(t,i.context)})),t}))},a.prototype.fromException=function(e){return e[s]},process.namespaces||u(),t.exports={getNamespace:l,createNamespace:function(e){i.ok(e,"namespace must be given a name!");var t=new a(e);return t.id=process.addAsyncListener({create:function(){return t.active},before:function(e,n){n&&t.enter(n)},after:function(e,n){n&&t.exit(n)},error:function(e){e&&t.exit(e)}}),process.namespaces[e]=t,t},destroyNamespace:c,reset:u}})),Ri=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CorrelationContextManager=void 0;var t=w(),n=an(),i=dn(),r=pn(),o=ri(),s=function(){function e(){}return e.getCurrentContext=function(){if(!e.enabled)return null;var t=e.session.get(e.CONTEXT_NAME);return void 0===t?null:t},e.generateContextObject=function(e,t,n,i,r,o){return t=t||e,this.enabled?{operation:{name:n,id:e,parentId:t,traceparent:r,tracestate:o},customProperties:new a(i)}:null},e.spanToContextObject=function(t,n,r){var o=new i;return o.traceId=t.traceId,o.spanId=t.spanId,o.traceFlag=i.formatOpenTelemetryTraceFlags(t.traceFlags)||i.DEFAULT_TRACE_FLAG,o.parentId=n,e.generateContextObject(o.traceId,o.parentId,r,null,o)},e.runWithContext=function(t,n){var i;return e.enabled?e.session.bind(n,((i={})[e.CONTEXT_NAME]=t,i))():n()},e.wrapEmitter=function(t){e.enabled&&e.session.bindEmitter(t)},e.wrapCallback=function(t,n){var i;return e.enabled?e.session.bind(t,n?((i={})[e.CONTEXT_NAME]=n,i):void 0):t},e.enable=function(t){if(!this.enabled){if(!this.isNodeVersionCompatible())return void(this.enabled=!1);e.hasEverEnabled||(this.forceClsHooked=t,this.hasEverEnabled=!0,typeof this.cls>"u"&&(!0===e.forceClsHooked||void 0===e.forceClsHooked&&e.shouldUseClsHooked()?this.cls=Si():this.cls=Ii()),e.session=this.cls.createNamespace("AI-CLS-Session"),n.registerContextPreservation((function(t){return e.session.bind(t)}))),this.enabled=!0}},e.startOperation=function(n,s){var a=n&&n.traceContext||null,l=n&&n.traceId?n:null,c=n&&n.headers;if(l){var u=new i("00-"+l.traceId+"-"+l.spanId+"-01"),d=new r(l.traceState?l.traceState.serialize():null);return e.generateContextObject(l.traceId,"|"+l.traceId+"."+l.spanId+".","string"==typeof s?s:"",void 0,u,d)}if(a){u=new i(a.traceparent),d=new r(a.tracestate);var p="object"==typeof s?new o(s):null;return e.generateContextObject(u.traceId,u.parentId,"string"==typeof s?s:p.getOperationName({}),p&&p.getCorrelationContextHeader()||void 0,u,d)}return c?(u=new i(c.traceparent?c.traceparent.toString():null),d=new r(c.tracestate?c.tracestate.toString():null),p=new o(n),e.generateContextObject(u.traceId,u.parentId,p.getOperationName({}),p.getCorrelationContextHeader(),u,d)):(t.warn("startOperation was called with invalid arguments",arguments),null)},e.disable=function(){this.enabled=!1},e.reset=function(){e.hasEverEnabled&&(e.session=null,e.session=this.cls.createNamespace("AI-CLS-Session"))},e.isNodeVersionCompatible=function(){var e=process.versions.node.split(".");return parseInt(e[0])>3||parseInt(e[0])>2&&parseInt(e[1])>2},e.shouldUseClsHooked=function(){var e=process.versions.node.split(".");return parseInt(e[0])>8||parseInt(e[0])>=8&&parseInt(e[1])>=2},e.canUseClsHooked=function(){var e=process.versions.node.split("."),t=parseInt(e[0])>8||parseInt(e[0])>=8&&parseInt(e[1])>=0,n=parseInt(e[0])<8||parseInt(e[0])<=8&&parseInt(e[1])<2,i=parseInt(e[0])>4||parseInt(e[0])>=4&&parseInt(e[1])>=7;return!(t&&n)&&i},e.enabled=!1,e.hasEverEnabled=!1,e.forceClsHooked=void 0,e.CONTEXT_NAME="ApplicationInsights-Context",e}();e.CorrelationContextManager=s;var a=function(){function e(e){this.props=[],this.addHeaderData(e)}return e.prototype.addHeaderData=function(e){var t=e?e.split(", "):[];this.props=t.map((function(e){var t=e.split("=");return{key:t[0],value:t[1]}})).concat(this.props)},e.prototype.serializeToHeader=function(){return this.props.map((function(e){return e.key+"="+e.value})).join(", ")},e.prototype.getProperty=function(e){for(var t=0;t<this.props.length;++t){var n=this.props[t];if(n.key===e)return n.value}},e.prototype.setProperty=function(n,i){if(e.bannedCharacters.test(n)||e.bannedCharacters.test(i))t.warn("Correlation context property keys and values must not contain ',' or '='. setProperty was called with key: "+n+" and value: "+i);else{for(var r=0;r<this.props.length;++r){var o=this.props[r];if(o.key===n)return void(o.value=i)}this.props.push({key:n,value:i})}},e.bannedCharacters=/[,=]/,e}()})),Ai=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.dispose=e.enable=void 0;var t=ni(),n=M(),i=[],r=function(e){var n=e.data.message;i.forEach((function(i){n instanceof Error?i.trackException({exception:n}):(n.lastIndexOf("\n")==n.length-1&&(n=n.substring(0,n.length-1)),i.trackTrace({message:n,severity:e.data.stderr?t.SeverityLevel.Warning:t.SeverityLevel.Information}))}))};e.enable=function(e,t){e?(0===i.length&&n.channel.subscribe("console",r),i.push(t)):0===(i=i.filter((function(e){return e!=t}))).length&&n.channel.unsubscribe("console",r)},e.dispose=function(){n.channel.unsubscribe("console",r),i=[]}})),Oi=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.dispose=e.enable=void 0;var t=ni(),n=M(),i=[],r={10:t.SeverityLevel.Verbose,20:t.SeverityLevel.Verbose,30:t.SeverityLevel.Information,40:t.SeverityLevel.Warning,50:t.SeverityLevel.Error,60:t.SeverityLevel.Critical},o=function(e){var t=e.data.result;i.forEach((function(n){var i=r[e.data.level];t instanceof Error?n.trackException({exception:t}):n.trackTrace({message:t,severity:i})}))};e.enable=function(e,t){e?(0===i.length&&n.channel.subscribe("bunyan",o),i.push(t)):0===(i=i.filter((function(e){return e!=t}))).length&&n.channel.unsubscribe("bunyan",o)},e.dispose=function(){n.channel.unsubscribe("bunyan",o),i=[]}})),wi=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.dispose=e.enable=void 0;var t=ni(),n=M(),i=[],r={syslog:function(e){var n={emerg:t.SeverityLevel.Critical,alert:t.SeverityLevel.Critical,crit:t.SeverityLevel.Critical,error:t.SeverityLevel.Error,warning:t.SeverityLevel.Warning,notice:t.SeverityLevel.Information,info:t.SeverityLevel.Information,debug:t.SeverityLevel.Verbose};return void 0===n[e]?t.SeverityLevel.Information:n[e]},npm:function(e){var n={error:t.SeverityLevel.Error,warn:t.SeverityLevel.Warning,info:t.SeverityLevel.Information,verbose:t.SeverityLevel.Verbose,debug:t.SeverityLevel.Verbose,silly:t.SeverityLevel.Verbose};return void 0===n[e]?t.SeverityLevel.Information:n[e]},unknown:function(e){return t.SeverityLevel.Information}},o=function(e){var t=e.data.message;i.forEach((function(n){if(t instanceof Error)n.trackException({exception:t,properties:e.data.meta});else{var i=r[e.data.levelKind](e.data.level);n.trackTrace({message:t,severity:i,properties:e.data.meta})}}))};e.enable=function(e,t){e?(0===i.length&&n.channel.subscribe("winston",o),i.push(t)):0===(i=i.filter((function(e){return e!=t}))).length&&n.channel.unsubscribe("winston",o)},e.dispose=function(){n.channel.unsubscribe("winston",o),i=[]}})),xi=S(((e,t)=>{"use strict";var n=an(),i=function(){function e(t){if(e.INSTANCE)throw new Error("Console logging adapter tracking should be configured from the applicationInsights object");this._client=t,e.INSTANCE=this}return e.prototype.enable=function(e,t){n.IsInitialized&&(Ai().enable(e&&t,this._client),Oi().enable(e,this._client),wi().enable(e,this._client))},e.prototype.isInitialized=function(){return this._isInitialized},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1,!1)},e._methodNames=["debug","info","log","warn","error"],e}();t.exports=i})),Pi=S(((e,t)=>{"use strict";var n=function(){function e(t){if(e.INSTANCE)throw new Error("Exception tracking should be configured from the applicationInsights object");e.INSTANCE=this,this._client=t;var n=process.versions.node.split(".");e._canUseUncaughtExceptionMonitor=parseInt(n[0])>13||13===parseInt(n[0])&&parseInt(n[1])>=7}return e.prototype.isInitialized=function(){return this._isInitialized},e.prototype.enable=function(t){var n=this;if(t){if(this._isInitialized=!0,!this._exceptionListenerHandle){var i=function(t,i,r){void 0===r&&(r=new Error(e._FALLBACK_ERROR_MESSAGE)),n._client.trackException({exception:r}),n._client.flush({isAppCrashing:!0}),t&&i&&1===process.listeners(i).length&&(console.error(r),process.exit(1))};e._canUseUncaughtExceptionMonitor?(this._exceptionListenerHandle=i.bind(this,!1,void 0),process.on(e.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME,this._exceptionListenerHandle)):(this._exceptionListenerHandle=i.bind(this,!0,e.UNCAUGHT_EXCEPTION_HANDLER_NAME),this._rejectionListenerHandle=i.bind(this,!1,void 0),process.on(e.UNCAUGHT_EXCEPTION_HANDLER_NAME,this._exceptionListenerHandle),process.on(e.UNHANDLED_REJECTION_HANDLER_NAME,this._rejectionListenerHandle))}}else this._exceptionListenerHandle&&(e._canUseUncaughtExceptionMonitor?process.removeListener(e.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME,this._exceptionListenerHandle):(process.removeListener(e.UNCAUGHT_EXCEPTION_HANDLER_NAME,this._exceptionListenerHandle),process.removeListener(e.UNHANDLED_REJECTION_HANDLER_NAME,this._rejectionListenerHandle)),this._exceptionListenerHandle=void 0,this._rejectionListenerHandle=void 0,delete this._exceptionListenerHandle,delete this._rejectionListenerHandle)},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1},e.INSTANCE=null,e.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME="uncaughtExceptionMonitor",e.UNCAUGHT_EXCEPTION_HANDLER_NAME="uncaughtException",e.UNHANDLED_REJECTION_HANDLER_NAME="unhandledRejection",e._RETHROW_EXIT_MESSAGE="Application Insights Rethrow Exception Handler",e._FALLBACK_ERROR_MESSAGE="A promise was rejected without providing an error. Application Insights generated this error stack for you.",e._canUseUncaughtExceptionMonitor=!1,e}();t.exports=n})),Ni=S((e=>{"use strict";var t,n,i,r;Object.defineProperty(e,"__esModule",{value:!0}),e.HeartBeatMetricName=e.DependencyTypeName=e.SpanAttribute=e.TelemetryTypeStringToQuickPulseDocumentType=e.TelemetryTypeStringToQuickPulseType=e.QuickPulseType=e.QuickPulseDocumentType=e.PerformanceToQuickPulseCounter=e.MetricId=e.PerformanceCounter=e.QuickPulseCounter=e.DEFAULT_LIVEMETRICS_HOST=e.DEFAULT_LIVEMETRICS_ENDPOINT=e.DEFAULT_BREEZE_ENDPOINT=void 0,e.DEFAULT_BREEZE_ENDPOINT="https://dc.services.visualstudio.com",e.DEFAULT_LIVEMETRICS_ENDPOINT="https://rt.services.visualstudio.com",e.DEFAULT_LIVEMETRICS_HOST="rt.services.visualstudio.com",(i=n=e.QuickPulseCounter||(e.QuickPulseCounter={})).COMMITTED_BYTES="\\Memory\\Committed Bytes",i.PROCESSOR_TIME="\\Processor(_Total)\\% Processor Time",i.REQUEST_RATE="\\ApplicationInsights\\Requests/Sec",i.REQUEST_FAILURE_RATE="\\ApplicationInsights\\Requests Failed/Sec",i.REQUEST_DURATION="\\ApplicationInsights\\Request Duration",i.DEPENDENCY_RATE="\\ApplicationInsights\\Dependency Calls/Sec",i.DEPENDENCY_FAILURE_RATE="\\ApplicationInsights\\Dependency Calls Failed/Sec",i.DEPENDENCY_DURATION="\\ApplicationInsights\\Dependency Call Duration",i.EXCEPTION_RATE="\\ApplicationInsights\\Exceptions/Sec",function(e){e.PRIVATE_BYTES="\\Process(??APP_WIN32_PROC??)\\Private Bytes",e.AVAILABLE_BYTES="\\Memory\\Available Bytes",e.PROCESSOR_TIME="\\Processor(_Total)\\% Processor Time",e.PROCESS_TIME="\\Process(??APP_WIN32_PROC??)\\% Processor Time",e.REQUEST_RATE="\\ASP.NET Applications(??APP_W3SVC_PROC??)\\Requests/Sec",e.REQUEST_DURATION="\\ASP.NET Applications(??APP_W3SVC_PROC??)\\Request Execution Time"}(r=e.PerformanceCounter||(e.PerformanceCounter={})),function(e){e.REQUESTS_DURATION="requests/duration",e.DEPENDENCIES_DURATION="dependencies/duration",e.EXCEPTIONS_COUNT="exceptions/count",e.TRACES_COUNT="traces/count"}(e.MetricId||(e.MetricId={})),e.PerformanceToQuickPulseCounter=((t={})[r.PROCESSOR_TIME]=n.PROCESSOR_TIME,t[r.REQUEST_RATE]=n.REQUEST_RATE,t[r.REQUEST_DURATION]=n.REQUEST_DURATION,t[n.COMMITTED_BYTES]=n.COMMITTED_BYTES,t[n.REQUEST_FAILURE_RATE]=n.REQUEST_FAILURE_RATE,t[n.DEPENDENCY_RATE]=n.DEPENDENCY_RATE,t[n.DEPENDENCY_FAILURE_RATE]=n.DEPENDENCY_FAILURE_RATE,t[n.DEPENDENCY_DURATION]=n.DEPENDENCY_DURATION,t[n.EXCEPTION_RATE]=n.EXCEPTION_RATE,t),e.QuickPulseDocumentType={Event:"Event",Exception:"Exception",Trace:"Trace",Metric:"Metric",Request:"Request",Dependency:"RemoteDependency",Availability:"Availability",PageView:"PageView"},e.QuickPulseType={Event:"EventTelemetryDocument",Exception:"ExceptionTelemetryDocument",Trace:"TraceTelemetryDocument",Metric:"MetricTelemetryDocument",Request:"RequestTelemetryDocument",Dependency:"DependencyTelemetryDocument",Availability:"AvailabilityTelemetryDocument",PageView:"PageViewTelemetryDocument"},e.TelemetryTypeStringToQuickPulseType={EventData:e.QuickPulseType.Event,ExceptionData:e.QuickPulseType.Exception,MessageData:e.QuickPulseType.Trace,MetricData:e.QuickPulseType.Metric,RequestData:e.QuickPulseType.Request,RemoteDependencyData:e.QuickPulseType.Dependency,AvailabilityData:e.QuickPulseType.Availability,PageViewData:e.QuickPulseType.PageView},e.TelemetryTypeStringToQuickPulseDocumentType={EventData:e.QuickPulseDocumentType.Event,ExceptionData:e.QuickPulseDocumentType.Exception,MessageData:e.QuickPulseDocumentType.Trace,MetricData:e.QuickPulseDocumentType.Metric,RequestData:e.QuickPulseDocumentType.Request,RemoteDependencyData:e.QuickPulseDocumentType.Dependency,AvailabilityData:e.QuickPulseDocumentType.Availability,PageViewData:e.QuickPulseDocumentType.PageView},e.SpanAttribute={HttpHost:"http.host",HttpMethod:"http.method",HttpPort:"http.port",HttpStatusCode:"http.status_code",HttpUrl:"http.url",HttpUserAgent:"http.user_agent",GrpcMethod:"grpc.method",GrpcService:"rpc.service"},e.DependencyTypeName={Grpc:"GRPC",Http:"HTTP",InProc:"InProc"},e.HeartBeatMetricName="HeartBeat"})),Di=S(((e,t)=>{"use strict";var i=n(2037),r=Ni(),o=function(){function e(t,n,i){void 0===n&&(n=6e4),void 0===i&&(i=!1),this._lastIntervalRequestExecutionTime=0,this._lastIntervalDependencyExecutionTime=0,e.INSTANCE||(e.INSTANCE=this),this._isInitialized=!1,this._client=t,this._collectionInterval=n,this._enableLiveMetricsCounters=i}return e.prototype.enable=function(t,n){var r=this;this._isEnabled=t,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),t?this._handle||(this._lastCpus=i.cpus(),this._lastRequests={totalRequestCount:e._totalRequestCount,totalFailedRequestCount:e._totalFailedRequestCount,time:+new Date},this._lastDependencies={totalDependencyCount:e._totalDependencyCount,totalFailedDependencyCount:e._totalFailedDependencyCount,time:+new Date},this._lastExceptions={totalExceptionCount:e._totalExceptionCount,time:+new Date},"function"==typeof process.cpuUsage&&(this._lastAppCpuUsage=process.cpuUsage()),this._lastHrtime=process.hrtime(),this._collectionInterval=n||this._collectionInterval,this._handle=setInterval((function(){return r.trackPerformance()}),this._collectionInterval),this._handle.unref()):this._handle&&(clearInterval(this._handle),this._handle=void 0)},e.countRequest=function(t,n){var i;if(e.isEnabled()){if("string"==typeof t)i=+new Date("1970-01-01T"+t+"Z");else{if("number"!=typeof t)return;i=t}e._intervalRequestExecutionTime+=i,!1===n&&e._totalFailedRequestCount++,e._totalRequestCount++}},e.countException=function(){e._totalExceptionCount++},e.countDependency=function(t,n){var i;if(e.isEnabled()){if("string"==typeof t)i=+new Date("1970-01-01T"+t+"Z");else{if("number"!=typeof t)return;i=t}e._intervalDependencyExecutionTime+=i,!1===n&&e._totalFailedDependencyCount++,e._totalDependencyCount++}},e.prototype.isInitialized=function(){return this._isInitialized},e.isEnabled=function(){return e.INSTANCE&&e.INSTANCE._isEnabled},e.prototype.trackPerformance=function(){this._trackCpu(),this._trackMemory(),this._trackNetwork(),this._trackDependencyRate(),this._trackExceptionRate()},e.prototype._trackCpu=function(){var e=i.cpus();if(e&&e.length&&this._lastCpus&&e.length===this._lastCpus.length){for(var t=0,n=0,o=0,s=0,a=0,l=0;e&&l<e.length;l++){var c=e[l],u=this._lastCpus[l],d=(c.model,c.speed,c.times),p=u.times;t+=d.user-p.user||0,n+=d.sys-p.sys||0,o+=d.nice-p.nice||0,s+=d.idle-p.idle||0,a+=d.irq-p.irq||0}var h=void 0;if("function"==typeof process.cpuUsage){var m=process.cpuUsage(),f=process.hrtime(),g=m.user-this._lastAppCpuUsage.user+(m.system-this._lastAppCpuUsage.system)||0;typeof this._lastHrtime<"u"&&2===this._lastHrtime.length&&(h=100*g/((1e6*(f[0]-this._lastHrtime[0])+(f[1]-this._lastHrtime[1])/1e3||0)*e.length)),this._lastAppCpuUsage=m,this._lastHrtime=f}var v=t+n+o+s+a||1;this._client.trackMetric({name:r.PerformanceCounter.PROCESSOR_TIME,value:(v-s)/v*100}),this._client.trackMetric({name:r.PerformanceCounter.PROCESS_TIME,value:h||t/v*100})}this._lastCpus=e},e.prototype._trackMemory=function(){var e=i.freemem(),t=process.memoryUsage().rss,n=i.totalmem()-e;this._client.trackMetric({name:r.PerformanceCounter.PRIVATE_BYTES,value:t}),this._client.trackMetric({name:r.PerformanceCounter.AVAILABLE_BYTES,value:e}),this._enableLiveMetricsCounters&&this._client.trackMetric({name:r.QuickPulseCounter.COMMITTED_BYTES,value:n})},e.prototype._trackNetwork=function(){var t=this._lastRequests,n={totalRequestCount:e._totalRequestCount,totalFailedRequestCount:e._totalFailedRequestCount,time:+new Date},i=n.totalRequestCount-t.totalRequestCount||0,o=n.totalFailedRequestCount-t.totalFailedRequestCount||0,s=n.time-t.time,a=s/1e3,l=(e._intervalRequestExecutionTime-this._lastIntervalRequestExecutionTime)/i||0;if(this._lastIntervalRequestExecutionTime=e._intervalRequestExecutionTime,s>0){var c=i/a,u=o/a;this._client.trackMetric({name:r.PerformanceCounter.REQUEST_RATE,value:c}),(!this._enableLiveMetricsCounters||i>0)&&this._client.trackMetric({name:r.PerformanceCounter.REQUEST_DURATION,value:l}),this._enableLiveMetricsCounters&&this._client.trackMetric({name:r.QuickPulseCounter.REQUEST_FAILURE_RATE,value:u})}this._lastRequests=n},e.prototype._trackDependencyRate=function(){if(this._enableLiveMetricsCounters){var t=this._lastDependencies,n={totalDependencyCount:e._totalDependencyCount,totalFailedDependencyCount:e._totalFailedDependencyCount,time:+new Date},i=n.totalDependencyCount-t.totalDependencyCount||0,o=n.totalFailedDependencyCount-t.totalFailedDependencyCount||0,s=n.time-t.time,a=s/1e3,l=(e._intervalDependencyExecutionTime-this._lastIntervalDependencyExecutionTime)/i||0;if(this._lastIntervalDependencyExecutionTime=e._intervalDependencyExecutionTime,s>0){var c=i/a,u=o/a;this._client.trackMetric({name:r.QuickPulseCounter.DEPENDENCY_RATE,value:c}),this._client.trackMetric({name:r.QuickPulseCounter.DEPENDENCY_FAILURE_RATE,value:u}),(!this._enableLiveMetricsCounters||i>0)&&this._client.trackMetric({name:r.QuickPulseCounter.DEPENDENCY_DURATION,value:l})}this._lastDependencies=n}},e.prototype._trackExceptionRate=function(){if(this._enableLiveMetricsCounters){var t=this._lastExceptions,n={totalExceptionCount:e._totalExceptionCount,time:+new Date},i=n.totalExceptionCount-t.totalExceptionCount||0,o=n.time-t.time;if(o>0){var s=i/(o/1e3);this._client.trackMetric({name:r.QuickPulseCounter.EXCEPTION_RATE,value:s})}this._lastExceptions=n}},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1},e._totalRequestCount=0,e._totalFailedRequestCount=0,e._totalDependencyCount=0,e._totalFailedDependencyCount=0,e._totalExceptionCount=0,e._intervalDependencyExecutionTime=0,e._intervalRequestExecutionTime=0,e}();t.exports=o})),Mi=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AggregatedMetricCounter=void 0;e.AggregatedMetricCounter=function(e){this.dimensions=e,this.totalCount=0,this.lastTotalCount=0,this.intervalExecutionTime=0,this.lastTime=+new Date,this.lastIntervalExecutionTime=0}})),ki=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PreaggregatedMetricPropertyNames=void 0,e.PreaggregatedMetricPropertyNames={cloudRoleInstance:"cloud/roleInstance",cloudRoleName:"cloud/roleName",operationSynthetic:"operation/synthetic",requestSuccess:"Request.Success",requestResultCode:"request/resultCode",dependencyType:"Dependency.Type",dependencyTarget:"dependency/target",dependencySuccess:"Dependency.Success",dependencyResultCode:"dependency/resultCode",traceSeverityLevel:"trace/severityLevel"}})),Li=S(((e,t)=>{"use strict";var n=e&&e.__assign||function(){return n=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},n.apply(this,arguments)},i=Ni(),r=Mi(),o=ki(),s=function(){function e(t,n){void 0===n&&(n=6e4),e.INSTANCE||(e.INSTANCE=this),this._isInitialized=!1,e._dependencyCountersCollection=[],e._requestCountersCollection=[],e._exceptionCountersCollection=[],e._traceCountersCollection=[],this._client=t,this._collectionInterval=n}return e.prototype.enable=function(e,t){var n=this;this._isEnabled=e,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),e?this._handle||(this._collectionInterval=t||this._collectionInterval,this._handle=setInterval((function(){return n.trackPreAggregatedMetrics()}),this._collectionInterval),this._handle.unref()):this._handle&&(clearInterval(this._handle),this._handle=void 0)},e.countException=function(t){e.isEnabled()&&e._getAggregatedCounter(t,this._exceptionCountersCollection).totalCount++},e.countTrace=function(t){e.isEnabled()&&e._getAggregatedCounter(t,this._traceCountersCollection).totalCount++},e.countRequest=function(t,n){if(e.isEnabled()){var i,r=e._getAggregatedCounter(n,this._requestCountersCollection);if("string"==typeof t)i=+new Date("1970-01-01T"+t+"Z");else{if("number"!=typeof t)return;i=t}r.intervalExecutionTime+=i,r.totalCount++}},e.countDependency=function(t,n){if(e.isEnabled()){var i,r=e._getAggregatedCounter(n,this._dependencyCountersCollection);if("string"==typeof t)i=+new Date("1970-01-01T"+t+"Z");else{if("number"!=typeof t)return;i=t}r.intervalExecutionTime+=i,r.totalCount++}},e.prototype.isInitialized=function(){return this._isInitialized},e.isEnabled=function(){return e.INSTANCE&&e.INSTANCE._isEnabled},e.prototype.trackPreAggregatedMetrics=function(){this._trackRequestMetrics(),this._trackDependencyMetrics(),this._trackExceptionMetrics(),this._trackTraceMetrics()},e._getAggregatedCounter=function(e,t){for(var n=!1,i=0;i<t.length;i++){if(e===t[i].dimensions)return t[i];if(Object.keys(e).length===Object.keys(t[i].dimensions).length){for(var o in e)if(e[o]!=t[i].dimensions[o]){n=!0;break}if(!n)return t[i];n=!1}}var s=new r.AggregatedMetricCounter(e);return t.push(s),s},e.prototype._trackRequestMetrics=function(){for(var t=0;t<e._requestCountersCollection.length;t++){var n=e._requestCountersCollection[t];n.time=+new Date;var r=n.totalCount-n.lastTotalCount||0,o=n.time-n.lastTime,s=(n.intervalExecutionTime-n.lastIntervalExecutionTime)/r||0;n.lastIntervalExecutionTime=n.intervalExecutionTime,o>0&&r>0&&this._trackPreAggregatedMetric({name:"Server response time",dimensions:n.dimensions,value:s,count:r,aggregationInterval:o,metricType:i.MetricId.REQUESTS_DURATION}),n.lastTotalCount=n.totalCount,n.lastTime=n.time}},e.prototype._trackDependencyMetrics=function(){for(var t=0;t<e._dependencyCountersCollection.length;t++){var n=e._dependencyCountersCollection[t];n.time=+new Date;var r=n.totalCount-n.lastTotalCount||0,o=n.time-n.lastTime,s=(n.intervalExecutionTime-n.lastIntervalExecutionTime)/r||0;n.lastIntervalExecutionTime=n.intervalExecutionTime,o>0&&r>0&&this._trackPreAggregatedMetric({name:"Dependency duration",dimensions:n.dimensions,value:s,count:r,aggregationInterval:o,metricType:i.MetricId.DEPENDENCIES_DURATION}),n.lastTotalCount=n.totalCount,n.lastTime=n.time}},e.prototype._trackExceptionMetrics=function(){for(var t=0;t<e._exceptionCountersCollection.length;t++){var n=e._exceptionCountersCollection[t],r=n.totalCount-n.lastTotalCount||0,o=n.time-n.lastTime;this._trackPreAggregatedMetric({name:"Exceptions",dimensions:n.dimensions,value:r,count:r,aggregationInterval:o,metricType:i.MetricId.EXCEPTIONS_COUNT}),n.lastTotalCount=n.totalCount,n.lastTime=n.time}},e.prototype._trackTraceMetrics=function(){for(var t=0;t<e._traceCountersCollection.length;t++){var n=e._traceCountersCollection[t],r=n.totalCount-n.lastTotalCount||0,o=n.time-n.lastTime;this._trackPreAggregatedMetric({name:"Traces",dimensions:n.dimensions,value:r,count:r,aggregationInterval:o,metricType:i.MetricId.TRACES_COUNT}),n.lastTotalCount=n.totalCount,n.lastTime=n.time}},e.prototype._trackPreAggregatedMetric=function(e){var t={};for(var i in e.dimensions)t[o.PreaggregatedMetricPropertyNames[i]]=e.dimensions[i];t=n(n({},t),{"_MS.MetricId":e.metricType,"_MS.AggregationIntervalMs":String(e.aggregationInterval),"_MS.IsAutocollected":"True"});var r={name:e.name,value:e.value,count:e.count,properties:t,kind:"Aggregation"};this._client.trackMetric(r)},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1},e}();t.exports=s})),Bi=S(((e,t)=>{"use strict";var i=n(2037),r=n(7147),o=n(1017),s=ni(),a=w(),l=function(){function e(e){this.keys=new s.ContextTagKeys,this.tags={},this._loadApplicationContext(e),this._loadDeviceContext(),this._loadInternalContext()}return e.prototype._loadApplicationContext=function(t){if(t=t||o.resolve(__dirname,"../../../../package.json"),!e.appVersion[t]){e.appVersion[t]="unknown";try{var n=JSON.parse(r.readFileSync(t,"utf8"));n&&"string"==typeof n.version&&(e.appVersion[t]=n.version)}catch(e){a.info("unable to read app version: ",e)}}this.tags[this.keys.applicationVersion]=e.appVersion[t]},e.prototype._loadDeviceContext=function(){this.tags[this.keys.deviceId]="",this.tags[this.keys.cloudRoleInstance]=i&&i.hostname(),this.tags[this.keys.deviceOSVersion]=i&&i.type()+" "+i.release(),this.tags[this.keys.cloudRole]=e.DefaultRoleName,this.tags["ai.device.osArchitecture"]=i&&i.arch(),this.tags["ai.device.osPlatform"]=i&&i.platform()},e.prototype._loadInternalContext=function(){var t=o.resolve(__dirname,"../../package.json");if(!e.sdkVersion){e.sdkVersion="unknown";try{var n=JSON.parse(r.readFileSync(t,"utf8"));n&&"string"==typeof n.version&&(e.sdkVersion=n.version)}catch(e){a.info("unable to read app version: ",e)}}this.tags[this.keys.internalSdkVersion]="node:"+e.sdkVersion},e.DefaultRoleName="Web",e.appVersion={},e.sdkVersion=null,e}();t.exports=l})),qi=S(((e,t)=>{"use strict";var i,r=e&&e.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=n(7310),s=ni(),a=cn(),l=ln(),c=ii(),u=un(),d=function(e){function t(n,i){var r=e.call(this)||this;return i&&i.method&&n&&(r.method=i.method,r.url=t._getUrlFromRequestOptions(n,i),r.startTime=+new Date),r}return r(t,e),t.prototype.onError=function(e){this._setStatus(void 0,e)},t.prototype.onResponse=function(e){this._setStatus(e.statusCode,void 0),this.correlationId=a.getCorrelationContextTarget(e,l.requestContextTargetKey)},t.prototype.getDependencyTelemetry=function(e,t){var n=o.parse(this.url);n.search=void 0,n.hash=void 0;var i=this.method.toUpperCase()+" "+n.pathname,r=s.RemoteDependencyDataConstants.TYPE_HTTP,a=n.hostname;n.port&&(a+=":"+n.port),this.correlationId?(r=s.RemoteDependencyDataConstants.TYPE_AI,this.correlationId!==u.correlationIdPrefix&&(a+=" | "+this.correlationId)):r=s.RemoteDependencyDataConstants.TYPE_HTTP;var l={id:t,name:i,data:this.url,duration:this.duration,success:this._isSuccess(),resultCode:this.statusCode?this.statusCode.toString():null,properties:this.properties||{},dependencyTypeName:r,target:a};if(e&&e.time?l.time=e.time:this.startTime&&(l.time=new Date(this.startTime)),e){for(var c in e)l[c]||(l[c]=e[c]);if(e.properties)for(var c in e.properties)l.properties[c]=e.properties[c]}return l},t._getUrlFromRequestOptions=function(e,t){if("string"==typeof e)if(0===e.indexOf("http://")||0===e.indexOf("https://"))e=o.parse(e);else{var n=o.parse(e);e="443"===n.host?o.parse("https://"+e):o.parse("http://"+e)}else{if(e&&"function"==typeof o.URL&&e instanceof o.URL)return o.format(e);var i=e;e={},i&&Object.keys(i).forEach((function(t){e[t]=i[t]}))}if(e.path){var r=o.parse(e.path);e.pathname=r.pathname,e.search=r.search}return e.host&&e.port&&!o.parse("http://"+e.host).port&&e.port&&(e.hostname=e.host,delete e.host),e.protocol=e.protocol||t.agent&&t.agent.protocol||t.protocol||void 0,e.hostname=e.hostname||"localhost",o.format(e)},t}(c);t.exports=d})),Fi=S((e=>{"use strict";var t=e&&e.__assign||function(){return t=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},t.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.spanToTelemetryContract=void 0;var n=we(),i=Ni();function r(e){var n=t({},e);return Object.keys(i.SpanAttribute).forEach((function(e){delete n[e]})),n}e.spanToTelemetryContract=function(e){var o="|"+e.spanContext().traceId+"."+e.spanContext().spanId+".",s=Math.round(1e3*e._duration[0]+e._duration[1]/1e6),a=e.attributes["peer.address"]?e.attributes["peer.address"].toString():"",l=e.attributes.component?e.attributes.component.toString():"",c=l.toUpperCase()===i.DependencyTypeName.Http||!!e.attributes[i.SpanAttribute.HttpUrl],u=l.toLowerCase()===i.DependencyTypeName.Grpc;if(c){var d=e.attributes[i.SpanAttribute.HttpMethod]||"GET",p=new URL(e.attributes[i.SpanAttribute.HttpUrl].toString()),h=e.attributes[i.SpanAttribute.HttpHost]||p.host,m=e.attributes[i.SpanAttribute.HttpPort]||p.port||null,f=d+" "+(p.pathname||"/"),g=i.DependencyTypeName.Http,v=m?(h+":"+m).toString():h.toString(),_=p.toString(),y=e.attributes[i.SpanAttribute.HttpStatusCode]||e.status.code||0;return{id:o,name:f,dependencyTypeName:g,target:v,data:_,success:y<400,duration:s,url:_,resultCode:String(y),properties:r(e.attributes)}}if(u){d=e.attributes[i.SpanAttribute.GrpcMethod]||"rpc";var S=e.attributes[i.SpanAttribute.GrpcService],E=S?d+" "+S:e.name;return{id:o,duration:s,name:E,target:S.toString(),data:S.toString()||E,url:S.toString()||E,dependencyTypeName:i.DependencyTypeName.Grpc,resultCode:String(e.status.code||0),success:0===e.status.code,properties:r(e.attributes)}}var T=e.name,C=e.links&&e.links.map((function(e){return{operation_Id:e.context.traceId,id:e.context.spanId}}));return{id:o,duration:s,name:T,target:a,data:a||T,url:a||T,dependencyTypeName:e.kind===n.SpanKind.INTERNAL?i.DependencyTypeName.InProc:l||e.name,resultCode:String(e.status.code||0),success:0===e.status.code,properties:t(t({},r(e.attributes)),{"_MS.links":C||void 0})}}})),Ui=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.subscriber=void 0;var t=we(),n=M(),i=dn(),r=Fi(),o=x(),s=[];e.subscriber=function(e){var n=e.data,a=r.spanToTelemetryContract(n),l=n.spanContext(),c=new i;c.traceId=l.traceId,c.spanId=l.spanId,c.traceFlag=i.formatOpenTelemetryTraceFlags(l.traceFlags),c.parentId=n.parentSpanId?"|"+l.traceId+"."+n.parentSpanId+".":null,o.AsyncScopeManager.with(n,(function(){s.forEach((function(e){n.kind===t.SpanKind.SERVER?e.trackRequest(a):(n.kind===t.SpanKind.CLIENT||n.kind===t.SpanKind.INTERNAL)&&e.trackDependency(a)}))}))},e.enable=function(t,i){t?(0===s.length&&n.channel.subscribe("azure-coretracing",e.subscriber),s.push(i)):0===(s=s.filter((function(e){return e!=i}))).length&&n.channel.unsubscribe("azure-coretracing",e.subscriber)}})),ji=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.subscriber=void 0;var t=M(),n=[];e.subscriber=function(e){"ismaster"!==e.data.event.commandName&&n.forEach((function(t){var n=e.data.startedData&&e.data.startedData.databaseName||"Unknown database";t.trackDependency({target:n,data:e.data.event.commandName,name:e.data.event.commandName,duration:e.data.event.duration,success:e.data.succeeded,resultCode:e.data.succeeded?"0":"1",time:e.data.startedData.time,dependencyTypeName:"mongodb"})}))},e.enable=function(i,r){i?(0===n.length&&t.channel.subscribe("mongodb",e.subscriber),n.push(r)):0===(n=n.filter((function(e){return e!=r}))).length&&t.channel.unsubscribe("mongodb",e.subscriber)}})),zi=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.subscriber=void 0;var t=M(),n=[];e.subscriber=function(e){n.forEach((function(t){var n=e.data.query||{},i=n.sql||"Unknown query",r=!e.data.err,o=(n._connection||{}).config||{},s=o.socketPath?o.socketPath:(o.host||"localhost")+":"+o.port;t.trackDependency({target:s,data:i,name:i,duration:e.data.duration,success:r,resultCode:r?"0":"1",time:e.data.time,dependencyTypeName:"mysql"})}))},e.enable=function(i,r){i?(0===n.length&&t.channel.subscribe("mysql",e.subscriber),n.push(r)):0===(n=n.filter((function(e){return e!=r}))).length&&t.channel.unsubscribe("mysql",e.subscriber)}})),Hi=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.subscriber=void 0;var t=M(),n=[];e.subscriber=function(e){n.forEach((function(t){"info"!==e.data.commandObj.command&&t.trackDependency({target:e.data.address,name:e.data.commandObj.command,data:e.data.commandObj.command,duration:e.data.duration,success:!e.data.err,resultCode:e.data.err?"1":"0",time:e.data.time,dependencyTypeName:"redis"})}))},e.enable=function(i,r){i?(0===n.length&&t.channel.subscribe("redis",e.subscriber),n.push(r)):0===(n=n.filter((function(e){return e!=r}))).length&&t.channel.unsubscribe("redis",e.subscriber)}})),Vi=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.subscriber=void 0;var t=M(),n=[];e.subscriber=function(e){n.forEach((function(t){var n=e.data.query,i=n.preparable&&n.preparable.text||n.plan||n.text||"unknown query",r=!e.data.error,o=e.data.database.host+":"+e.data.database.port;t.trackDependency({target:o,data:i,name:i,duration:e.data.duration,success:r,resultCode:r?"0":"1",time:e.data.time,dependencyTypeName:"postgres"})}))},e.enable=function(i,r){i?(0===n.length&&t.channel.subscribe("postgres",e.subscriber),n.push(r)):0===(n=n.filter((function(e){return e!=r}))).length&&t.channel.unsubscribe("postgres",e.subscriber)}})),Gi=S(((e,t)=>{"use strict";var i=e&&e.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),r=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,r++)i[r]=o[s];return i},r=n(3685),o=n(5687),s=w(),a=cn(),l=ln(),c=qi(),u=Ri(),d=un(),p=dn(),h=an(),m=function(){function e(t){if(e.INSTANCE)throw new Error("Client request tracking should be configured from the applicationInsights object");e.INSTANCE=this,this._client=t}return e.prototype.enable=function(e){this._isEnabled=e,this._isEnabled&&!this._isInitialized&&this._initialize(),h.IsInitialized&&(Ui().enable(!0,this._client),ji().enable(e,this._client),zi().enable(e,this._client),Hi().enable(e,this._client),Vi().enable(e,this._client))},e.prototype.isInitialized=function(){return this._isInitialized},e.prototype._initialize=function(){var t=this;this._isInitialized=!0;var n=r.request,s=o.request,a=function(n,i){var r=!i[e.disableCollectionRequestOption]&&!n[e.alreadyAutoCollectedFlag];i.headers&&i.headers["user-agent"]&&-1!==i.headers["user-agent"].toString().indexOf("azsdk-js")&&(r=!1),n[e.alreadyAutoCollectedFlag]=!0,n&&i&&r&&(u.CorrelationContextManager.wrapEmitter(n),e.trackRequest(t._client,{options:i,request:n}))};r.request=function(e){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];var s=n.call.apply(n,i([r,e],t));return a(s,e),s},o.request=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=s.call.apply(s,i([o,e],t));return a(r,e),r},r.get=function(e){for(var t,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];var s=(t=r.request).call.apply(t,i([r,e],n));return s.end(),s},o.get=function(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var s=(t=o.request).call.apply(t,i([o,e],n));return s.end(),s}},e.trackRequest=function(t,n){if(n.options&&n.request&&t){var i,r,o=new c(n.options,n.request),h=u.CorrelationContextManager.getCurrentContext();if(h&&h.operation&&h.operation.traceparent&&p.isValidTraceId(h.operation.traceparent.traceId)?(h.operation.traceparent.updateSpanId(),i=h.operation.traceparent.getBackCompatRequestId()):d.w3cEnabled?(r=(f=new p).toString(),i=f.getBackCompatRequestId()):i=h&&h.operation&&h.operation.parentId+e.requestNumber+++".",a.canIncludeCorrelationHeader(t,o.getUrl())&&n.request.getHeader&&n.request.setHeader&&t.config&&t.config.correlationId){var m=n.request.getHeader(l.requestContextHeader);try{a.safeIncludeCorrelationHeader(t,n.request,m)}catch(e){s.warn("Request-Context header could not be set. Correlation of requests may be lost",e)}if(h&&h.operation)try{if(n.request.setHeader(l.requestIdHeader,i),t.config.ignoreLegacyHeaders||(n.request.setHeader(l.parentIdHeader,h.operation.id),n.request.setHeader(l.rootIdHeader,i)),r||h.operation.traceparent)n.request.setHeader(l.traceparentHeader,r||h.operation.traceparent.toString());else if(d.w3cEnabled){var f=(new p).toString();n.request.setHeader(l.traceparentHeader,f)}if(h.operation.tracestate){var g=h.operation.tracestate.toString();g&&n.request.setHeader(l.traceStateHeader,g)}var v=h.customProperties.serializeToHeader();v&&n.request.setHeader(l.correlationContextHeader,v)}catch(e){s.warn("Correlation headers could not be set. Correlation of requests may be lost.",e)}}n.request.on&&(n.request.on("response",(function(e){o.onResponse(e);var r=o.getDependencyTelemetry(n,i);r.contextObjects=r.contextObjects||{},r.contextObjects["http.RequestOptions"]=n.options,r.contextObjects["http.ClientRequest"]=n.request,r.contextObjects["http.ClientResponse"]=e,t.trackDependency(r)})),n.request.on("error",(function(e){o.onError(e);var r=o.getDependencyTelemetry(n,i);r.contextObjects=r.contextObjects||{},r.contextObjects["http.RequestOptions"]=n.options,r.contextObjects["http.ClientRequest"]=n.request,r.contextObjects.Error=e,t.trackDependency(r)})),n.request.on("abort",(function(){o.onError(new Error);var e=o.getDependencyTelemetry(n,i);e.contextObjects=e.contextObjects||{},e.contextObjects["http.RequestOptions"]=n.options,e.contextObjects["http.ClientRequest"]=n.request,t.trackDependency(e)})))}else s.info("AutoCollectHttpDependencies.trackRequest was called with invalid parameters: ",!n.options,!n.request,!t)},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1},e.disableCollectionRequestOption="disableAppInsightsAutoCollection",e.requestNumber=1,e.alreadyAutoCollectedFlag="_appInsightsAutoCollected",e}();t.exports=m})),Wi=S(((e,t)=>{"use strict";var i=n(2037),r=Ni(),o=cn(),s=Bi(),a=Gi(),l=function(){function e(t){this._collectionInterval=9e5,this._vmData={},this._azInst_vmId="",this._azInst_subscriptionId="",this._azInst_osType="",e.INSTANCE||(e.INSTANCE=this),this._isInitialized=!1,this._client=t}return e.prototype.enable=function(e,t){var n=this;this._isEnabled=e,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),e?this._handle||(this._handle=setInterval((function(){return n.trackHeartBeat(t,(function(){}))}),this._collectionInterval),this._handle.unref()):this._handle&&(clearInterval(this._handle),this._handle=null)},e.prototype.isInitialized=function(){return this._isInitialized},e.isEnabled=function(){return e.INSTANCE&&e.INSTANCE._isEnabled},e.prototype.trackHeartBeat=function(e,t){var n=this,o=!1,a={},l=s.sdkVersion;a.sdk=l,a.osType=i.type(),process.env.WEBSITE_SITE_NAME?(a.appSrv_SiteName=process.env.WEBSITE_SITE_NAME||"",a.appSrv_wsStamp=process.env.WEBSITE_HOME_STAMPNAME||"",a.appSrv_wsHost=process.env.WEBSITE_HOSTNAME||""):process.env.FUNCTIONS_WORKER_RUNTIME?a.azfunction_appId=process.env.WEBSITE_HOSTNAME:e&&(void 0===this._isVM?(o=!0,this._getAzureComputeMetadata(e,(function(){n._isVM&&Object.keys(n._vmData).length>0&&(a.azInst_vmId=n._vmData.vmId||"",a.azInst_subscriptionId=n._vmData.subscriptionId||"",a.azInst_osType=n._vmData.osType||"",n._azInst_vmId=n._vmData.vmId||"",n._azInst_subscriptionId=n._vmData.subscriptionId||"",n._azInst_osType=n._vmData.osType||""),n._client.trackMetric({name:r.HeartBeatMetricName,value:0,properties:a}),t()}))):this._isVM&&(a.azInst_vmId=this._azInst_vmId,a.azInst_subscriptionId=this._azInst_subscriptionId,a.azInst_osType=this._azInst_osType)),o||(this._client.trackMetric({name:r.HeartBeatMetricName,value:0,properties:a}),t())},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1},e.prototype._getAzureComputeMetadata=function(e,t){var n,i=this,r=((n={method:"GET"})[a.disableCollectionRequestOption]=!0,n.headers={Metadata:"True"},n),s=o.makeRequest(e,"http://169.254.169.254/metadata/instance/compute?api-version=2017-12-01&format=json",r,(function(e){if(200===e.statusCode){i._isVM=!0;var n="";e.on("data",(function(e){n+=e})),e.on("end",(function(){i._vmData=i._isJSON(n)?JSON.parse(n):{},t()}))}else t()}));s&&(s.on("error",(function(e){e&&e.message&&e.message.indexOf("ENETUNREACH")>-1&&(i._isVM=!1),t()})),s.end())},e.prototype._isJSON=function(e){try{return JSON.parse(e)&&!!e}catch{return!1}},e}();t.exports=l})),$i=S(((e,t)=>{"use strict";var i=n(3685),r=n(5687),o=w(),s=cn(),a=ln(),l=ri(),c=Ri(),u=Di(),d=function(){function e(t){if(e.INSTANCE)throw new Error("Server request tracking should be configured from the applicationInsights object");e.INSTANCE=this,this._client=t}return e.prototype.enable=function(e){this._isEnabled=e,(this._isAutoCorrelating||this._isEnabled||u.isEnabled())&&!this._isInitialized&&(this.useAutoCorrelation(this._isAutoCorrelating),this._initialize())},e.prototype.useAutoCorrelation=function(e,t){e&&!this._isAutoCorrelating?c.CorrelationContextManager.enable(t):!e&&this._isAutoCorrelating&&c.CorrelationContextManager.disable(),this._isAutoCorrelating=e},e.prototype.isInitialized=function(){return this._isInitialized},e.prototype.isAutoCorrelating=function(){return this._isAutoCorrelating},e.prototype._generateCorrelationContext=function(e){if(this._isAutoCorrelating)return c.CorrelationContextManager.generateContextObject(e.getOperationId(this._client.context.tags),e.getRequestId(),e.getOperationName(this._client.context.tags),e.getCorrelationContextHeader(),e.getTraceparent(),e.getTracestate())},e.prototype._initialize=function(){var t=this;this._isInitialized=!0;var n=function(n){if(n){if("function"!=typeof n)throw new Error("onRequest handler must be a function");return function(i,r){c.CorrelationContextManager.wrapEmitter(i),c.CorrelationContextManager.wrapEmitter(r);var o=i&&!i[e.alreadyAutoCollectedFlag];if(i&&o){var s=new l(i),a=t._generateCorrelationContext(s);c.CorrelationContextManager.runWithContext(a,(function(){t._isEnabled&&(i[e.alreadyAutoCollectedFlag]=!0,e.trackRequest(t._client,{request:i,response:r},s)),"function"==typeof n&&n(i,r)}))}else"function"==typeof n&&n(i,r)}}},o=function(e){var t=e.addListener.bind(e);e.addListener=function(e,i){switch(e){case"request":case"checkContinue":return t(e,n(i));default:return t(e,i)}},e.on=e.addListener},s=i.createServer;i.createServer=function(e,t){if(t&&"function"==typeof t){var i=s(e,n(t));return o(i),i}return i=s(n(e)),o(i),i};var a=r.createServer;r.createServer=function(e,t){var i=a(e,n(t));return o(i),i}},e.trackRequestSync=function(t,n){if(n.request&&n.response&&t){e.addResponseCorrelationIdHeader(t,n.response);var i=c.CorrelationContextManager.getCurrentContext(),r=new l(n.request,i&&i.operation.parentId);i&&(i.operation.id=r.getOperationId(t.context.tags)||i.operation.id,i.operation.name=r.getOperationName(t.context.tags)||i.operation.name,i.operation.parentId=r.getRequestId()||i.operation.parentId,i.customProperties.addHeaderData(r.getCorrelationContextHeader())),e.endRequest(t,r,n,n.duration,n.error)}else o.info("AutoCollectHttpRequests.trackRequestSync was called with invalid parameters: ",!n.request,!n.response,!t)},e.trackRequest=function(t,n,i){if(n.request&&n.response&&t){var r=c.CorrelationContextManager.getCurrentContext(),a=i||new l(n.request,r&&r.operation.parentId);s.canIncludeCorrelationHeader(t,a.getUrl())&&e.addResponseCorrelationIdHeader(t,n.response),r&&!i&&(r.operation.id=a.getOperationId(t.context.tags)||r.operation.id,r.operation.name=a.getOperationName(t.context.tags)||r.operation.name,r.operation.parentId=a.getOperationParentId(t.context.tags)||r.operation.parentId,r.customProperties.addHeaderData(a.getCorrelationContextHeader())),n.response.once&&n.response.once("finish",(function(){e.endRequest(t,a,n,null,null)})),n.request.on&&n.request.on("error",(function(i){e.endRequest(t,a,n,null,i)})),n.request.on&&n.request.on("aborted",(function(){e.endRequest(t,a,n,null,"The request has been aborted and the network socket has closed.")}))}else o.info("AutoCollectHttpRequests.trackRequest was called with invalid parameters: ",!n.request,!n.response,!t)},e.addResponseCorrelationIdHeader=function(e,t){if(e.config&&e.config.correlationId&&t.getHeader&&t.setHeader&&!t.headersSent){var n=t.getHeader(a.requestContextHeader);s.safeIncludeCorrelationHeader(e,t,n)}},e.endRequest=function(e,t,n,i,r){r?t.onError(r,i):t.onResponse(n.response,i);var o=t.getRequestTelemetry(n);if(o.tagOverrides=t.getRequestTags(e.context.tags),n.tagOverrides)for(var s in n.tagOverrides)o.tagOverrides[s]=n.tagOverrides[s];var a=t.getLegacyRootId();a&&(o.properties.ai_legacyRootId=a),o.contextObjects=o.contextObjects||{},o.contextObjects["http.ServerRequest"]=n.request,o.contextObjects["http.ServerResponse"]=n.response,e.trackRequest(o)},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1,c.CorrelationContextManager.disable(),this._isAutoCorrelating=!1},e.alreadyAutoCollectedFlag="_appInsightsAutoCollected",e}();t.exports=d})),Ki=S(((e,t)=>{"use strict";var i=e&&e.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},i.apply(this,arguments)},r=n(2037),o=ni(),s=Ni(),a=cn(),l=w(),c=a.w3cTraceId(),u=function(){function e(){}return e.createQuickPulseEnvelope=function(e,t,n,i){var o=r&&"function"==typeof r.hostname&&r.hostname()||"Unknown",s=i.tags&&i.keys&&i.keys.cloudRoleInstance&&i.tags[i.keys.cloudRoleInstance]||o,a=i.tags&&i.keys&&i.keys.cloudRole&&i.tags[i.keys.cloudRole]||null;return{Documents:t.length>0?t:null,InstrumentationKey:n.instrumentationKey||"",Metrics:e.length>0?e:null,InvariantVersion:1,Timestamp:"/Date("+Date.now()+")/",Version:i.tags[i.keys.internalSdkVersion],StreamId:c,MachineName:o,Instance:s,RoleName:a}},e.createQuickPulseMetric=function(e){return{Name:e.name,Value:e.value,Weight:e.count||1}},e.telemetryEnvelopeToQuickPulseDocument=function(t){switch(t.data.baseType){case o.TelemetryTypeString.Event:return e.createQuickPulseEventDocument(t);case o.TelemetryTypeString.Exception:return e.createQuickPulseExceptionDocument(t);case o.TelemetryTypeString.Trace:return e.createQuickPulseTraceDocument(t);case o.TelemetryTypeString.Dependency:return e.createQuickPulseDependencyDocument(t);case o.TelemetryTypeString.Request:return e.createQuickPulseRequestDocument(t)}return null},e.createQuickPulseEventDocument=function(t){var n=e.createQuickPulseDocument(t),r=t.data.baseData.name;return i(i({},n),{Name:r})},e.createQuickPulseTraceDocument=function(t){var n=e.createQuickPulseDocument(t),r=t.data.baseData.severityLevel||0;return i(i({},n),{Message:t.data.baseData.message,SeverityLevel:o.SeverityLevel[r]})},e.createQuickPulseExceptionDocument=function(t){var n=e.createQuickPulseDocument(t),r=t.data.baseData.exceptions,o="",s="",a="";return r&&r.length>0&&(r[0].parsedStack&&r[0].parsedStack.length>0?r[0].parsedStack.forEach((function(e){o+=e.assembly+"\n"})):r[0].stack&&r[0].stack.length>0&&(o=r[0].stack),s=r[0].message,a=r[0].typeName),i(i({},n),{Exception:o,ExceptionMessage:s,ExceptionType:a})},e.createQuickPulseRequestDocument=function(t){var n=e.createQuickPulseDocument(t),r=t.data.baseData;return i(i({},n),{Name:r.name,Success:r.success,Duration:r.duration,ResponseCode:r.responseCode,OperationName:r.name})},e.createQuickPulseDependencyDocument=function(t){var n=e.createQuickPulseDocument(t),r=t.data.baseData;return i(i({},n),{Name:r.name,Target:r.target,Success:r.success,Duration:r.duration,ResultCode:r.resultCode,CommandName:r.data,OperationName:n.OperationId,DependencyTypeName:r.type})},e.createQuickPulseDocument=function(t){var n,i;return t.data.baseType?(i=s.TelemetryTypeStringToQuickPulseType[t.data.baseType],n=s.TelemetryTypeStringToQuickPulseDocumentType[t.data.baseType]):l.warn("Document type invalid; not sending live metric document",t.data.baseType),{DocumentType:n,__type:i,OperationId:t.tags[e.keys.operationId],Version:"1.0",Properties:e.aggregateProperties(t)}},e.aggregateProperties=function(e){var t=[],n=e.data.baseData.measurements||{};for(var i in n)if(n.hasOwnProperty(i)){var r={key:i,value:n[i]};t.push(r)}var o=e.data.baseData.properties||{};for(var i in o)o.hasOwnProperty(i)&&(r={key:i,value:o[i]},t.push(r));return t},e.keys=new o.ContextTagKeys,e}();t.exports=u})),Xi=S(((e,t)=>{"use strict";t.exports={getTransmissionTime:function(){return 1e4*(Date.now()+621355968e5)}}})),Yi=S(((e,t)=>{"use strict";var i=e&&e.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){e.done?r(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(s,a)}l((i=i.apply(e,t||[])).next())}))},r=e&&e.__generator||function(e,t){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},o=n(5687),s=Gi(),a=w(),l=Xi(),c=cn(),u="x-ms-qps-service-polling-interval-hint",d="x-ms-qps-service-endpoint-redirect",p=function(){function e(e){this._config=e,this._consecutiveErrors=0}return e.prototype.ping=function(e,t,n){var i=[{name:"x-ms-qps-stream-id",value:e.StreamId},{name:"x-ms-qps-machine-name",value:e.MachineName},{name:"x-ms-qps-role-name",value:e.RoleName},{name:"x-ms-qps-instance-name",value:e.Instance},{name:"x-ms-qps-invariant-version",value:e.InvariantVersion.toString()}];this._submitData(e,t,n,"ping",i)},e.prototype.post=function(e,t,n){return i(this,void 0,void 0,(function(){return r(this,(function(i){switch(i.label){case 0:return[4,this._submitData([e],t,n,"post")];case 1:return i.sent(),[2]}}))}))},e.prototype._submitData=function(e,t,n,a,p){return i(this,void 0,void 0,(function(){var i,h,m,f,g,v=this;return r(this,(function(r){return i=JSON.stringify(e),(f={})[s.disableCollectionRequestOption]=!0,f.host=t&&t.length>0?t:this._config.quickPulseHost,f.method="POST",f.path="/QuickPulseService.svc/"+a+"?ikey="+this._config.instrumentationKey,f.headers=((g={Expect:"100-continue"})["x-ms-qps-transmission-time"]=l.getTransmissionTime(),g["Content-Type"]="application/json",g["Content-Length"]=Buffer.byteLength(i),g),h=f,p&&p.length>0&&p.forEach((function(e){return h.headers[e.name]=e.value})),this._config.httpsAgent?h.agent=this._config.httpsAgent:h.agent=c.tlsRestrictedAgent,(m=o.request(h,(function(e){if(200==e.statusCode){var t="true"===e.headers["x-ms-qps-subscribed"],i=e.headers[d]?e.headers[d].toString():null,r=e.headers[u]?parseInt(e.headers[u].toString()):null;v._consecutiveErrors=0,n(t,e,i,r)}else v._onError("StatusCode:"+e.statusCode+" StatusMessage:"+e.statusMessage),n()}))).on("error",(function(e){v._onError(e),n()})),m.write(i),m.end(),[2]}))}))},e.prototype._onError=function(t){this._consecutiveErrors++;var n="Transient error connecting to the Live Metrics endpoint. This packet will not appear in your Live Metrics Stream. Error:";this._consecutiveErrors%e.MAX_QPS_FAILURES_BEFORE_WARN==0?(n="Live Metrics endpoint could not be reached "+this._consecutiveErrors+" consecutive times. Most recent error:",a.warn(e.TAG,n,t)):a.info(e.TAG,n,t)},e.TAG="QuickPulseSender",e.MAX_QPS_FAILURES_BEFORE_WARN=25,e}();t.exports=p})),Qi=S(((e,t)=>{"use strict";var n=e&&e.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){e.done?r(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(s,a)}l((i=i.apply(e,t||[])).next())}))},i=e&&e.__generator||function(e,t){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},r=w(),o=Ki(),s=Yi(),a=Ni(),l=Bi(),c=function(){function e(e,t){this._isCollectingData=!1,this._lastSuccessTime=Date.now(),this._lastSendSucceeded=!0,this._metrics={},this._documents=[],this._collectors=[],this._redirectedHost=null,this._pollingIntervalHint=-1,this.config=e,this.context=t||new l,this._sender=new s(this.config),this._isEnabled=!1}return e.prototype.addCollector=function(e){this._collectors.push(e)},e.prototype.trackMetric=function(e){this._addMetric(e)},e.prototype.addDocument=function(e){var t=o.telemetryEnvelopeToQuickPulseDocument(e);t&&this._documents.push(t)},e.prototype.enable=function(e){e&&!this._isEnabled?(this._isEnabled=!0,this._goQuickPulse()):!e&&this._isEnabled&&(this._isEnabled=!1,clearTimeout(this._handle),this._handle=void 0)},e.prototype.enableCollectors=function(e){this._collectors.forEach((function(t){t.enable(e)}))},e.prototype._addMetric=function(e){var t=e.value,n=e.count||1,i=a.PerformanceToQuickPulseCounter[e.name];i&&(this._metrics[i]?(this._metrics[i].Value=(this._metrics[i].Value*this._metrics[i].Weight+t*n)/(this._metrics[i].Weight+n),this._metrics[i].Weight+=n):(this._metrics[i]=o.createQuickPulseMetric(e),this._metrics[i].Name=i,this._metrics[i].Weight=1))},e.prototype._resetQuickPulseBuffer=function(){delete this._metrics,this._metrics={},this._documents.length=0},e.prototype._goQuickPulse=function(){return n(this,void 0,void 0,(function(){var t,n,r,s,a=this;return i(this,(function(i){switch(i.label){case 0:return t=Object.keys(this._metrics).map((function(e){return a._metrics[e]})),n=o.createQuickPulseEnvelope(t,this._documents.slice(),this.config,this.context),this._resetQuickPulseBuffer(),this._isCollectingData?[4,this._post(n)]:[3,2];case 1:return i.sent(),[3,3];case 2:this._ping(n),i.label=3;case 3:return r=this._pollingIntervalHint>0?this._pollingIntervalHint:e.PING_INTERVAL,s=this._isCollectingData?e.POST_INTERVAL:r,this._isCollectingData&&Date.now()-this._lastSuccessTime>=e.MAX_POST_WAIT_TIME&&!this._lastSendSucceeded?(this._isCollectingData=!1,s=e.FALLBACK_INTERVAL):!this._isCollectingData&&Date.now()-this._lastSuccessTime>=e.MAX_PING_WAIT_TIME&&!this._lastSendSucceeded&&(s=e.FALLBACK_INTERVAL),this._lastSendSucceeded=null,this._handle=setTimeout(this._goQuickPulse.bind(this),s),this._handle.unref(),[2]}}))}))},e.prototype._ping=function(e){this._sender.ping(e,this._redirectedHost,this._quickPulseDone.bind(this))},e.prototype._post=function(e){return n(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return[4,this._sender.post(e,this._redirectedHost,this._quickPulseDone.bind(this))];case 1:return t.sent(),[2]}}))}))},e.prototype._quickPulseDone=function(e,t,n,i){null!=e?(this._isCollectingData!==e&&(r.info("Live Metrics sending data",e),this.enableCollectors(e)),this._isCollectingData=e,n&&n.length>0&&(this._redirectedHost=n,r.info("Redirecting endpoint to: ",n)),i&&i>0&&(this._pollingIntervalHint=i),t&&t.statusCode<300&&t.statusCode>=200?(this._lastSuccessTime=Date.now(),this._lastSendSucceeded=!0):this._lastSendSucceeded=!1):this._lastSendSucceeded=!1},e.MAX_POST_WAIT_TIME=2e4,e.MAX_PING_WAIT_TIME=6e4,e.FALLBACK_INTERVAL=6e4,e.PING_INTERVAL=5e3,e.POST_INTERVAL=1e3,e}();t.exports=c})),Ji=S(((e,t)=>{"use strict";var n=Ni(),i=function(){function e(){}return e.parse=function(t){if(!t)return{};var i=t.split(e._FIELDS_SEPARATOR).reduce((function(t,n){var i=n.split(e._FIELD_KEY_VALUE_SEPARATOR);if(2===i.length){var r=i[0].toLowerCase(),o=i[1];t[r]=o}return t}),{});if(Object.keys(i).length>0){if(i.endpointsuffix){var r=i.location?i.location+".":"";i.ingestionendpoint=i.ingestionendpoint||"https://"+r+"dc."+i.endpointsuffix,i.liveendpoint=i.liveendpoint||"https://"+r+"live."+i.endpointsuffix}i.ingestionendpoint=i.ingestionendpoint||n.DEFAULT_BREEZE_ENDPOINT,i.liveendpoint=i.liveendpoint||n.DEFAULT_LIVEMETRICS_ENDPOINT}return i},e._FIELDS_SEPARATOR=";",e._FIELD_KEY_VALUE_SEPARATOR="=",e}();t.exports=i})),Zi=S(((e,t)=>{"use strict";var i=un(),r=Ji(),o=(w(),Ni()),s=n(7310),a=function(){function e(t){var n=this;this.endpointBase=o.DEFAULT_BREEZE_ENDPOINT;var i=process.env[e.ENV_connectionString],a=r.parse(t),l=r.parse(i),c=!a.instrumentationkey&&Object.keys(a).length>0?null:t;this.instrumentationKey=a.instrumentationkey||c||l.instrumentationkey||e._getInstrumentationKey(),e._validateInstrumentationKey(this.instrumentationKey),this.endpointUrl=(a.ingestionendpoint||l.ingestionendpoint||this.endpointBase)+"/v2.1/track",this.maxBatchSize=250,this.maxBatchIntervalMs=15e3,this.disableAppInsights=!1,this.samplingPercentage=100,this.correlationIdRetryIntervalMs=3e4,this.correlationHeaderExcludedDomains=["*.core.windows.net","*.core.chinacloudapi.cn","*.core.cloudapi.de","*.core.usgovcloudapi.net","*.core.microsoft.scloud","*.core.eaglex.ic.gov"],this.setCorrelationId=function(e){return n.correlationId=e},this.proxyHttpUrl=process.env[e.ENV_http_proxy]||void 0,this.proxyHttpsUrl=process.env[e.ENV_https_proxy]||void 0,this.httpAgent=void 0,this.httpsAgent=void 0,this.profileQueryEndpoint=a.ingestionendpoint||l.ingestionendpoint||process.env[e.ENV_profileQueryEndpoint]||this.endpointBase,this._quickPulseHost=a.liveendpoint||l.liveendpoint||process.env[e.ENV_quickPulseHost]||o.DEFAULT_LIVEMETRICS_HOST,this._quickPulseHost.match(/^https?:\/\//)&&(this._quickPulseHost=s.parse(this._quickPulseHost).host)}return Object.defineProperty(e.prototype,"profileQueryEndpoint",{get:function(){return this._profileQueryEndpoint},set:function(e){i.cancelCorrelationIdQuery(this,this.setCorrelationId),this._profileQueryEndpoint=e,this.correlationId=i.correlationIdPrefix,i.queryCorrelationId(this,this.setCorrelationId)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quickPulseHost",{get:function(){return this._quickPulseHost},set:function(e){this._quickPulseHost=e},enumerable:!1,configurable:!0}),e._getInstrumentationKey=function(){var t=process.env[e.ENV_iKey]||process.env[e.ENV_azurePrefix+e.ENV_iKey]||process.env[e.legacy_ENV_iKey]||process.env[e.ENV_azurePrefix+e.legacy_ENV_iKey];if(!t||""==t)throw new Error("Instrumentation key not found, pass the key in the config to this method or set the key in the environment variable APPINSIGHTS_INSTRUMENTATIONKEY before starting the server");return t},e._validateInstrumentationKey=function(e){return new RegExp("^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$").test(e)},e.ENV_azurePrefix="APPSETTING_",e.ENV_iKey="APPINSIGHTS_INSTRUMENTATIONKEY",e.legacy_ENV_iKey="APPINSIGHTS_INSTRUMENTATION_KEY",e.ENV_profileQueryEndpoint="APPINSIGHTS_PROFILE_QUERY_ENDPOINT",e.ENV_quickPulseHost="APPINSIGHTS_QUICKPULSE_HOST",e.ENV_connectionString="APPLICATIONINSIGHTS_CONNECTION_STRING",e.ENV_nativeMetricsDisablers="APPLICATION_INSIGHTS_DISABLE_EXTENDED_METRIC",e.ENV_nativeMetricsDisableAll="APPLICATION_INSIGHTS_DISABLE_ALL_EXTENDED_METRICS",e.ENV_http_proxy="http_proxy",e.ENV_https_proxy="https_proxy",e}();t.exports=a})),er=S((e=>{"use strict";var t=e&&e.__assign||function(){return t=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},t.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.AutoCollectNativePerformance=void 0;var i=Zi(),r=Bi(),o=w(),s=function(){function e(t){this._disabledMetrics={},e.INSTANCE&&e.INSTANCE.dispose(),e.INSTANCE=this,this._client=t}return e.isNodeVersionCompatible=function(){var e=process.versions.node.split(".");return parseInt(e[0])>=6},e.prototype.enable=function(t,i,r){var s=this;if(void 0===i&&(i={}),void 0===r&&(r=6e4),e.isNodeVersionCompatible()){if(null==e._metricsAvailable&&t&&!this._isInitialized)try{var a=n(2114);e._emitter=new a,e._metricsAvailable=!0,o.info("Native metrics module successfully loaded!")}catch{return void(e._metricsAvailable=!1)}this._isEnabled=t,this._disabledMetrics=i,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),this._isEnabled&&e._emitter?(e._emitter.enable(!0,r),this._handle||(this._handle=setInterval((function(){return s._trackNativeMetrics()}),r),this._handle.unref())):e._emitter&&(e._emitter.enable(!1),this._handle&&(clearInterval(this._handle),this._handle=void 0))}},e.prototype.dispose=function(){this.enable(!1)},e.parseEnabled=function(e){var n=process.env[i.ENV_nativeMetricsDisableAll],r=process.env[i.ENV_nativeMetricsDisablers];if(n)return{isEnabled:!1,disabledMetrics:{}};if(r){var o=r.split(","),s={};if(o.length>0)for(var a=0,l=o;a<l.length;a++)s[l[a]]=!0;return"object"==typeof e?{isEnabled:!0,disabledMetrics:t(t({},e),s)}:{isEnabled:e,disabledMetrics:s}}return"boolean"==typeof e?{isEnabled:e,disabledMetrics:{}}:{isEnabled:!0,disabledMetrics:e}},e.prototype._trackNativeMetrics=function(){var e=!0;"object"!=typeof this._isEnabled&&(e=this._isEnabled),e&&(this._trackGarbageCollection(),this._trackEventLoop(),this._trackHeapUsage())},e.prototype._trackGarbageCollection=function(){var t;if(!this._disabledMetrics.gc){var n=e._emitter.getGCData();for(var i in n){var o=n[i].metrics,s=i+" Garbage Collection Duration",a=Math.sqrt(o.sumSquares/o.count-Math.pow(o.total/o.count,2))||0;this._client.trackMetric({name:s,value:o.total,count:o.count,max:o.max,min:o.min,stdDev:a,tagOverrides:(t={},t[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+r.sdkVersion,t)})}}},e.prototype._trackEventLoop=function(){var t;if(!this._disabledMetrics.loop){var n=e._emitter.getLoopData().loopUsage;if(0!=n.count){var i=Math.sqrt(n.sumSquares/n.count-Math.pow(n.total/n.count,2))||0;this._client.trackMetric({name:"Event Loop CPU Time",value:n.total,count:n.count,min:n.min,max:n.max,stdDev:i,tagOverrides:(t={},t[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+r.sdkVersion,t)})}}},e.prototype._trackHeapUsage=function(){var e,t,n;if(!this._disabledMetrics.heap){var i=process.memoryUsage(),o=i.heapUsed,s=i.heapTotal,a=i.rss;this._client.trackMetric({name:"Memory Usage (Heap)",value:o,count:1,tagOverrides:(e={},e[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+r.sdkVersion,e)}),this._client.trackMetric({name:"Memory Total (Heap)",value:s,count:1,tagOverrides:(t={},t[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+r.sdkVersion,t)}),this._client.trackMetric({name:"Memory Usage (Non-Heap)",value:a-s,count:1,tagOverrides:(n={},n[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+r.sdkVersion,n)})}},e}();e.AutoCollectNativePerformance=s})),tr=S(((e,t)=>{"use strict";var n=w(),i=function(){function e(e,t,n,i){this._buffer=[],this._lastSend=0,this._isDisabled=e,this._getBatchSize=t,this._getBatchIntervalMs=n,this._sender=i}return e.prototype.setUseDiskRetryCaching=function(e,t,n){this._sender.setDiskRetryMode(e,t,n)},e.prototype.send=function(e){var t=this;if(!this._isDisabled()){if(!e)return void n.warn("Cannot send null/undefined telemetry");if(this._buffer.push(e),this._buffer.length>=this._getBatchSize())return void this.triggerSend(!1);!this._timeoutHandle&&this._buffer.length>0&&(this._timeoutHandle=setTimeout((function(){t._timeoutHandle=null,t.triggerSend(!1)}),this._getBatchIntervalMs()))}},e.prototype.triggerSend=function(e,t){var n=this._buffer.length<1;n||(e?(this._sender.saveOnCrash(this._buffer),"function"==typeof t&&t("data saved on crash")):this._sender.send(this._buffer,t)),this._lastSend=+new Date,this._buffer=[],clearTimeout(this._timeoutHandle),this._timeoutHandle=null,n&&"function"==typeof t&&t("no data to send")},e}();t.exports=i})),nr=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.azureRoleEnvironmentTelemetryProcessor=void 0,e.azureRoleEnvironmentTelemetryProcessor=function(e,t){process.env.WEBSITE_SITE_NAME&&(e.tags[t.keys.cloudRole]=process.env.WEBSITE_SITE_NAME)}})),ir=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSamplingHashCode=e.samplingTelemetryProcessor=void 0;var t=ni();function n(e){var t=2147483647,n=5381;if(!e)return 0;for(;e.length<8;)e+=e;for(var i=0;i<e.length;i++)n=((n<<5)+n|0)+e.charCodeAt(i)|0;return(n=n<=-2147483648?t:Math.abs(n))/t*100}e.samplingTelemetryProcessor=function(e,i){var r=e.sampleRate;return!!(null==r||r>=100||e.data&&t.TelemetryType.Metric===t.baseTypeToTelemetryType(e.data.baseType))||(i.correlationContext&&i.correlationContext.operation?n(i.correlationContext.operation.id)<r:100*Math.random()<r)},e.getSamplingHashCode=n})),rr=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.performanceMetricsTelemetryProcessor=void 0;var t=Di(),n=ni();e.performanceMetricsTelemetryProcessor=function(e,i){switch(i&&i.addDocument(e),e.data.baseType){case n.TelemetryTypeString.Exception:t.countException();break;case n.TelemetryTypeString.Request:var r=e.data.baseData;t.countRequest(r.duration,r.success);break;case n.TelemetryTypeString.Dependency:var o=e.data.baseData;t.countDependency(o.duration,o.success)}return!0}})),or=S((e=>{"use strict";var t=e&&e.__assign||function(){return t=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},t.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.preAggregatedMetricsTelemetryProcessor=void 0;var n=ni(),i=Li(),r=ni();e.preAggregatedMetricsTelemetryProcessor=function(e,o){if(i.isEnabled())switch(e.data.baseType){case r.TelemetryTypeString.Exception:var s=e.data.baseData;s.properties=t(t({},s.properties),{"_MS.ProcessedByMetricExtractors":"(Name:'Exceptions', Ver:'1.1')"});var a={cloudRoleInstance:e.tags[o.keys.cloudRoleInstance],cloudRoleName:e.tags[o.keys.cloudRole]};i.countException(a);break;case r.TelemetryTypeString.Trace:var l=e.data.baseData;l.properties=t(t({},l.properties),{"_MS.ProcessedByMetricExtractors":"(Name:'Traces', Ver:'1.1')"});var c={cloudRoleInstance:e.tags[o.keys.cloudRoleInstance],cloudRoleName:e.tags[o.keys.cloudRole],traceSeverityLevel:n.SeverityLevel[l.severity]};i.countTrace(c);break;case r.TelemetryTypeString.Request:var u=e.data.baseData;u.properties=t(t({},u.properties),{"_MS.ProcessedByMetricExtractors":"(Name:'Requests', Ver:'1.1')"});var d={cloudRoleInstance:e.tags[o.keys.cloudRoleInstance],cloudRoleName:e.tags[o.keys.cloudRole],operationSynthetic:e.tags[o.keys.operationSyntheticSource],requestSuccess:u.success,requestResultCode:u.responseCode};i.countRequest(u.duration,d);break;case r.TelemetryTypeString.Dependency:var p=e.data.baseData;p.properties=t(t({},p.properties),{"_MS.ProcessedByMetricExtractors":"(Name:'Dependencies', Ver:'1.1')"});var h={cloudRoleInstance:e.tags[o.keys.cloudRoleInstance],cloudRoleName:e.tags[o.keys.cloudRole],operationSynthetic:e.tags[o.keys.operationSyntheticSource],dependencySuccess:p.success,dependencyType:p.type,dependencyTarget:p.target,dependencyResultCode:p.resultCode};i.countDependency(p.duration,h)}return!0}})),sr=S((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),n=e&&e.__exportStar||function(e,n){for(var i in e)"default"!==i&&!Object.prototype.hasOwnProperty.call(n,i)&&t(n,e,i)};Object.defineProperty(e,"__esModule",{value:!0}),n(nr(),e),n(ir(),e),n(rr(),e),n(or(),e)})),ar=S(((e,t)=>{"use strict";var i=e&&e.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){e.done?r(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(s,a)}l((i=i.apply(e,t||[])).next())}))},r=e&&e.__generator||function(e,t){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},o=n(7147),s=n(2037),a=n(1017),l=n(9796),c=n(2081),u=w(),d=Gi(),p=cn(),h=function(){function e(t,n,i){if(this._redirectedHost=null,this._config=t,this._onSuccess=n,this._onError=i,this._enableDiskRetryMode=!1,this._resendInterval=e.WAIT_BETWEEN_RESEND,this._maxBytesOnDisk=e.MAX_BYTES_ON_DISK,this._numConsecutiveFailures=0,this._numConsecutiveRedirects=0,this._resendTimer=null,this._fileCleanupTimer=null,this._tempDir=a.join(s.tmpdir(),e.TEMPDIR_PREFIX+this._config.instrumentationKey),!e.OS_PROVIDES_FILE_PROTECTION)if(e.USE_ICACLS){try{e.OS_PROVIDES_FILE_PROTECTION=o.existsSync(e.ICACLS_PATH)}catch{}e.OS_PROVIDES_FILE_PROTECTION||u.warn(e.TAG,"Could not find ICACLS in expected location! This is necessary to use disk retry mode on Windows.")}else e.OS_PROVIDES_FILE_PROTECTION=!0}return e.prototype.setDiskRetryMode=function(t,n,i){var r=this;this._enableDiskRetryMode=e.OS_PROVIDES_FILE_PROTECTION&&t,"number"==typeof n&&n>=0&&(this._resendInterval=Math.floor(n)),"number"==typeof i&&i>=0&&(this._maxBytesOnDisk=Math.floor(i)),t&&!e.OS_PROVIDES_FILE_PROTECTION&&(this._enableDiskRetryMode=!1,u.warn(e.TAG,"Ignoring request to enable disk retry mode. Sufficient file protection capabilities were not detected.")),this._enableDiskRetryMode?this._fileCleanupTimer||(this._fileCleanupTimer=setTimeout((function(){r._fileCleanupTask()}),e.CLEANUP_TIMEOUT),this._fileCleanupTimer.unref()):this._fileCleanupTimer&&clearTimeout(this._fileCleanupTimer)},e.prototype.send=function(t,n){return i(this,void 0,void 0,(function(){var i,o,s,a,c=this;return r(this,(function(r){return t&&(i=this._redirectedHost||this._config.endpointUrl,o={method:"POST",withCredentials:!1,headers:{"Content-Type":"application/x-json-stream"}},s="",t.forEach((function(e){var t=c._stringify(e);"string"==typeof t&&(s+=t+"\n")})),s.length>0&&(s=s.substring(0,s.length-1)),a=Buffer.from?Buffer.from(s):new Buffer(s),l.gzip(a,(function(r,s){var l=s;r?(u.warn(r),l=a,o.headers["Content-Length"]=a.length.toString()):(o.headers["Content-Encoding"]="gzip",o.headers["Content-Length"]=s.length.toString()),u.info(e.TAG,o),o[d.disableCollectionRequestOption]=!0;var h=p.makeRequest(c._config,i,o,(function(i){i.setEncoding("utf-8");var r="";i.on("data",(function(e){r+=e})),i.on("end",(function(){if(c._numConsecutiveFailures=0,c._enableDiskRetryMode)if(200===i.statusCode)c._resendTimer||(c._resendTimer=setTimeout((function(){c._resendTimer=null,c._sendFirstFileOnDisk()}),c._resendInterval),c._resendTimer.unref());else if(c._isRetriable(i.statusCode))try{var o=JSON.parse(r),s=[];o.errors.forEach((function(e){c._isRetriable(e.statusCode)&&s.push(t[e.index])})),s.length>0&&c._storeToDisk(s)}catch{c._storeToDisk(t)}if(307===i.statusCode||308===i.statusCode)if(c._numConsecutiveRedirects++,c._numConsecutiveRedirects<10){var a=i.headers.location?i.headers.location.toString():null;a&&(c._redirectedHost=a,c.send(t,n))}else"function"==typeof n&&n("Error sending telemetry because of circular redirects.");else c._numConsecutiveRedirects=0,"function"==typeof n&&n(r),u.info(e.TAG,r),"function"==typeof c._onSuccess&&c._onSuccess(r)}))}));h.on("error",(function(i){if(c._numConsecutiveFailures++,!c._enableDiskRetryMode||c._numConsecutiveFailures>0&&c._numConsecutiveFailures%e.MAX_CONNECTION_FAILURES_BEFORE_WARN==0){var r="Ingestion endpoint could not be reached. This batch of telemetry items has been lost. Use Disk Retry Caching to enable resending of failed telemetry. Error:";c._enableDiskRetryMode&&(r="Ingestion endpoint could not be reached "+c._numConsecutiveFailures+" consecutive times. There may be resulting telemetry loss. Most recent error:"),u.warn(e.TAG,r,p.dumpObj(i))}else r="Transient failure to reach ingestion endpoint. This batch of telemetry items will be retried. Error:",u.info(e.TAG,r,p.dumpObj(i));c._onErrorHelper(i),"function"==typeof n&&(i&&n(p.dumpObj(i)),n("Error sending telemetry")),c._enableDiskRetryMode&&c._storeToDisk(t)})),h.write(l),h.end()}))),[2]}))}))},e.prototype.saveOnCrash=function(e){this._enableDiskRetryMode&&this._storeToDiskSync(this._stringify(e))},e.prototype._isRetriable=function(e){return 206===e||408===e||429===e||439===e||500===e||503===e},e.prototype._runICACLS=function(t,n){var i=c.spawn(e.ICACLS_PATH,t,{windowsHide:!0});i.on("error",(function(e){return n(e)})),i.on("close",(function(e,t){return n(0===e?null:new Error("Setting ACL restrictions did not succeed (ICACLS returned code "+e+")"))}))},e.prototype._runICACLSSync=function(t){if(!c.spawnSync)throw new Error("Could not synchronously call ICACLS under current version of Node.js");var n=c.spawnSync(e.ICACLS_PATH,t,{windowsHide:!0});if(n.error)throw n.error;if(0!==n.status)throw new Error("Setting ACL restrictions did not succeed (ICACLS returned code "+n.status+")")},e.prototype._getACLIdentity=function(t){if(e.ACL_IDENTITY)return t(null,e.ACL_IDENTITY);var n=c.spawn(e.POWERSHELL_PATH,["-Command","[System.Security.Principal.WindowsIdentity]::GetCurrent().Name"],{windowsHide:!0,stdio:["ignore","pipe","pipe"]}),i="";n.stdout.on("data",(function(e){return i+=e})),n.on("error",(function(e){return t(e,null)})),n.on("close",(function(n,r){return e.ACL_IDENTITY=i&&i.trim(),t(0===n?null:new Error("Getting ACL identity did not succeed (PS returned code "+n+")"),e.ACL_IDENTITY)}))},e.prototype._getACLIdentitySync=function(){if(e.ACL_IDENTITY)return e.ACL_IDENTITY;if(c.spawnSync){var t=c.spawnSync(e.POWERSHELL_PATH,["-Command","[System.Security.Principal.WindowsIdentity]::GetCurrent().Name"],{windowsHide:!0,stdio:["ignore","pipe","pipe"]});if(t.error)throw t.error;if(0!==t.status)throw new Error("Getting ACL identity did not succeed (PS returned code "+t.status+")");return e.ACL_IDENTITY=t.stdout&&t.stdout.toString().trim(),e.ACL_IDENTITY}throw new Error("Could not synchronously get ACL identity under current version of Node.js")},e.prototype._getACLArguments=function(e,t){return[e,"/grant","*S-1-5-32-544:(OI)(CI)F","/grant",t+":(OI)(CI)F","/inheritance:r"]},e.prototype._applyACLRules=function(t,n){var i=this;return e.USE_ICACLS?void 0!==e.ACLED_DIRECTORIES[t]?n(e.ACLED_DIRECTORIES[t]?null:new Error("Setting ACL restrictions did not succeed (cached result)")):(e.ACLED_DIRECTORIES[t]=!1,void this._getACLIdentity((function(r,o){if(r)return e.ACLED_DIRECTORIES[t]=!1,n(r);i._runICACLS(i._getACLArguments(t,o),(function(i){return e.ACLED_DIRECTORIES[t]=!i,n(i)}))}))):n(null)},e.prototype._applyACLRulesSync=function(t){if(e.USE_ICACLS){if(void 0===e.ACLED_DIRECTORIES[t])return this._runICACLSSync(this._getACLArguments(t,this._getACLIdentitySync())),void(e.ACLED_DIRECTORIES[t]=!0);if(!e.ACLED_DIRECTORIES[t])throw new Error("Setting ACL restrictions did not succeed (cached result)")}},e.prototype._confirmDirExists=function(e,t){var n=this;o.lstat(e,(function(i,r){i&&"ENOENT"===i.code?o.mkdir(e,(function(i){i&&"EEXIST"!==i.code?t(i):n._applyACLRules(e,t)})):!i&&r.isDirectory()?n._applyACLRules(e,t):t(i||new Error("Path existed but was not a directory"))}))},e.prototype._getShallowDirectorySize=function(e,t){o.readdir(e,(function(n,i){if(n)return t(n,-1);var r=null,s=0,l=0;if(0!==i.length)for(var c=0;c<i.length;c++)o.stat(a.join(e,i[c]),(function(e,n){l++,e?r=e:n.isFile()&&(s+=n.size),l===i.length&&t(r,r?-1:s)}));else t(null,0)}))},e.prototype._getShallowDirectorySizeSync=function(e){for(var t=o.readdirSync(e),n=0,i=0;i<t.length;i++)n+=o.statSync(a.join(e,t[i])).size;return n},e.prototype._storeToDisk=function(t){var n=this;u.info(e.TAG,"Checking existence of data storage directory: "+this._tempDir),this._confirmDirExists(this._tempDir,(function(i){if(i)return u.warn(e.TAG,"Error while checking/creating directory: "+(i&&i.message)),void n._onErrorHelper(i);n._getShallowDirectorySize(n._tempDir,(function(i,r){if(i||r<0)return u.warn(e.TAG,"Error while checking directory size: "+(i&&i.message)),void n._onErrorHelper(i);if(r>n._maxBytesOnDisk)u.warn(e.TAG,"Not saving data due to max size limit being met. Directory size in bytes is: "+r);else{var s=(new Date).getTime()+".ai.json",l=a.join(n._tempDir,s);u.info(e.TAG,"saving data to disk at: "+l),o.writeFile(l,n._stringify(t),{mode:384},(function(e){return n._onErrorHelper(e)}))}}))}))},e.prototype._storeToDiskSync=function(t){try{u.info(e.TAG,"Checking existence of data storage directory: "+this._tempDir),o.existsSync(this._tempDir)||o.mkdirSync(this._tempDir),this._applyACLRulesSync(this._tempDir);var n=this._getShallowDirectorySizeSync(this._tempDir);if(n>this._maxBytesOnDisk)return void u.info(e.TAG,"Not saving data due to max size limit being met. Directory size in bytes is: "+n);var i=(new Date).getTime()+".ai.json",r=a.join(this._tempDir,i);u.info(e.TAG,"saving data before crash to disk at: "+r),o.writeFileSync(r,t,{mode:384})}catch(t){u.warn(e.TAG,"Error while saving data to disk: "+(t&&t.message)),this._onErrorHelper(t)}},e.prototype._sendFirstFileOnDisk=function(){var e=this;o.exists(this._tempDir,(function(t){t&&o.readdir(e._tempDir,(function(t,n){if(t)e._onErrorHelper(t);else if((n=n.filter((function(e){return a.basename(e).indexOf(".ai.json")>-1}))).length>0){var i=n[0],r=a.join(e._tempDir,i);o.readFile(r,(function(t,n){t?e._onErrorHelper(t):o.unlink(r,(function(t){if(t)e._onErrorHelper(t);else try{var i=JSON.parse(n.toString());e.send(i)}catch(e){u.warn("Failed to read persisted file",e)}}))}))}}))}))},e.prototype._onErrorHelper=function(e){"function"==typeof this._onError&&this._onError(e)},e.prototype._stringify=function(e){try{return JSON.stringify(e)}catch(t){u.warn("Failed to serialize payload",t,e)}},e.prototype._fileCleanupTask=function(){var t=this;o.exists(this._tempDir,(function(n){n&&o.readdir(t._tempDir,(function(n,i){n?t._onErrorHelper(n):(i=i.filter((function(e){return a.basename(e).indexOf(".ai.json")>-1}))).length>0&&i.forEach((function(n){var i=new Date(parseInt(n.split(".ai.json")[0]));if(new Date(+new Date-e.FILE_RETEMPTION_PERIOD)>i){var r=a.join(t._tempDir,n);o.unlink(r,(function(e){e&&t._onErrorHelper(e)}))}}))}))}))},e.TAG="Sender",e.ICACLS_PATH=process.env.systemdrive+"/windows/system32/icacls.exe",e.POWERSHELL_PATH=process.env.systemdrive+"/windows/system32/windowspowershell/v1.0/powershell.exe",e.ACLED_DIRECTORIES={},e.ACL_IDENTITY=null,e.WAIT_BETWEEN_RESEND=6e4,e.MAX_BYTES_ON_DISK=52428800,e.MAX_CONNECTION_FAILURES_BEFORE_WARN=5,e.CLEANUP_TIMEOUT=36e5,e.FILE_RETEMPTION_PERIOD=6048e5,e.TEMPDIR_PREFIX="appInsights-node",e.OS_PROVIDES_FILE_PROTECTION=!1,e.USE_ICACLS="Windows_NT"===s.type(),e}();t.exports=h})),lr=S(((e,t)=>{"use strict";var n=ni(),i=cn(),r=Ri(),o=function(){function e(){}return e.createEnvelope=function(t,r,o,s,a){var l=null;switch(r){case n.TelemetryType.Trace:l=e.createTraceData(t);break;case n.TelemetryType.Dependency:l=e.createDependencyData(t);break;case n.TelemetryType.Event:l=e.createEventData(t);break;case n.TelemetryType.Exception:l=e.createExceptionData(t);break;case n.TelemetryType.Request:l=e.createRequestData(t);break;case n.TelemetryType.Metric:l=e.createMetricData(t);break;case n.TelemetryType.Availability:l=e.createAvailabilityData(t);break;case n.TelemetryType.PageView:l=e.createPageViewData(t)}if(o&&n.domainSupportsProperties(l.baseData)){if(l&&l.baseData)if(l.baseData.properties)for(var c in o)l.baseData.properties[c]||(l.baseData.properties[c]=o[c]);else l.baseData.properties=o;l.baseData.properties=i.validateStringMap(l.baseData.properties)}var u=a&&a.instrumentationKey||"",d=new n.Envelope;return d.data=l,d.iKey=u,d.name="Microsoft.ApplicationInsights."+u.replace(/-/g,"")+"."+l.baseType.substr(0,l.baseType.length-4),d.tags=this.getTags(s,t.tagOverrides),d.time=(new Date).toISOString(),d.ver=1,d.sampleRate=a?a.samplingPercentage:100,r===n.TelemetryType.Metric&&(d.sampleRate=100),d},e.createTraceData=function(e){var t=new n.MessageData;t.message=e.message,t.properties=e.properties,isNaN(e.severity)?t.severityLevel=n.SeverityLevel.Information:t.severityLevel=e.severity;var i=new n.Data;return i.baseType=n.telemetryTypeToBaseType(n.TelemetryType.Trace),i.baseData=t,i},e.createDependencyData=function(e){var t=new n.RemoteDependencyData;"string"==typeof e.name&&(t.name=e.name.length>1024?e.name.slice(0,1021)+"...":e.name),t.data=e.data,t.target=e.target,t.duration=i.msToTimeSpan(e.duration),t.success=e.success,t.type=e.dependencyTypeName,t.properties=e.properties,t.resultCode=e.resultCode?e.resultCode+"":"",e.id?t.id=e.id:t.id=i.w3cTraceId();var r=new n.Data;return r.baseType=n.telemetryTypeToBaseType(n.TelemetryType.Dependency),r.baseData=t,r},e.createEventData=function(e){var t=new n.EventData;t.name=e.name,t.properties=e.properties,t.measurements=e.measurements;var i=new n.Data;return i.baseType=n.telemetryTypeToBaseType(n.TelemetryType.Event),i.baseData=t,i},e.createExceptionData=function(e){var t=new n.ExceptionData;t.properties=e.properties,isNaN(e.severity)?t.severityLevel=n.SeverityLevel.Error:t.severityLevel=e.severity,t.measurements=e.measurements,t.exceptions=[];var r=e.exception.stack,o=new n.ExceptionDetails;o.message=e.exception.message,o.typeName=e.exception.name,o.parsedStack=this.parseStack(r),o.hasFullStack=i.isArray(o.parsedStack)&&o.parsedStack.length>0,t.exceptions.push(o);var s=new n.Data;return s.baseType=n.telemetryTypeToBaseType(n.TelemetryType.Exception),s.baseData=t,s},e.createRequestData=function(e){var t=new n.RequestData;e.id?t.id=e.id:t.id=i.w3cTraceId(),t.name=e.name,t.url=e.url,t.source=e.source,t.duration=i.msToTimeSpan(e.duration),t.responseCode=e.resultCode?e.resultCode+"":"",t.success=e.success,t.properties=e.properties;var r=new n.Data;return r.baseType=n.telemetryTypeToBaseType(n.TelemetryType.Request),r.baseData=t,r},e.createMetricData=function(e){var t=new n.MetricData;t.metrics=[];var i=new n.DataPoint;i.count=isNaN(e.count)?1:e.count,i.kind=n.DataPointType.Aggregation,i.max=isNaN(e.max)?e.value:e.max,i.min=isNaN(e.min)?e.value:e.min,i.name=e.name,i.stdDev=isNaN(e.stdDev)?0:e.stdDev,i.value=e.value,t.metrics.push(i),t.properties=e.properties;var r=new n.Data;return r.baseType=n.telemetryTypeToBaseType(n.TelemetryType.Metric),r.baseData=t,r},e.createAvailabilityData=function(e){var t=new n.AvailabilityData;e.id?t.id=e.id:t.id=i.w3cTraceId(),t.name=e.name,t.duration=i.msToTimeSpan(e.duration),t.success=e.success,t.runLocation=e.runLocation,t.message=e.message,t.measurements=e.measurements,t.properties=e.properties;var r=new n.Data;return r.baseType=n.telemetryTypeToBaseType(n.TelemetryType.Availability),r.baseData=t,r},e.createPageViewData=function(e){var t=new n.PageViewData;t.name=e.name,t.duration=i.msToTimeSpan(e.duration),t.url=e.url,t.measurements=e.measurements,t.properties=e.properties;var r=new n.Data;return r.baseType=n.telemetryTypeToBaseType(n.TelemetryType.PageView),r.baseData=t,r},e.getTags=function(e,t){var n=r.CorrelationContextManager.getCurrentContext(),i={};if(e&&e.tags)for(var o in e.tags)i[o]=e.tags[o];if(t)for(var o in t)i[o]=t[o];return n&&(i[e.keys.operationId]=i[e.keys.operationId]||n.operation.id,i[e.keys.operationName]=i[e.keys.operationName]||n.operation.name,i[e.keys.operationParentId]=i[e.keys.operationParentId]||n.operation.parentId),i},e.parseStack=function(e){var t=void 0;if("string"==typeof e){var n=e.split("\n");t=[];for(var i=0,r=0,o=0;o<=n.length;o++){var a=n[o];if(s.regex.test(a)){var l=new s(n[o],i++);r+=l.sizeInBytes,t.push(l)}}if(r>32768)for(var c=0,u=t.length-1,d=0,p=c,h=u;c<u;){if((d+=t[c].sizeInBytes+t[u].sizeInBytes)>32768){var m=h-p+1;t.splice(p,m);break}p=c,h=u,c++,u--}}return t},e}(),s=function(){function e(t,n){this.sizeInBytes=0,this.level=n,this.method="<no_method>",this.assembly=i.trim(t);var r=t.match(e.regex);r&&r.length>=5&&(this.method=i.trim(r[2])||this.method,this.fileName=i.trim(r[4])||"<no_filename>",this.line=parseInt(r[5])||0),this.sizeInBytes+=this.method.length,this.sizeInBytes+=this.fileName.length,this.sizeInBytes+=this.assembly.length,this.sizeInBytes+=e.baseSize,this.sizeInBytes+=this.level.toString().length,this.sizeInBytes+=this.line.toString().length}return e.regex=/^(\s+at)?(.*?)(\@|\s\(|\s)([^\(\n]+):(\d+):(\d+)(\)?)$/,e.baseSize=58,e}();t.exports=o})),cr=S(((e,t)=>{"use strict";var i=n(7310),r=Zi(),o=Bi(),s=ni(),a=tr(),l=sr(),c=Ri(),u=ar(),d=cn(),p=w(),h=lr(),m=function(){function e(e){this._telemetryProcessors=[],this._enableAzureProperties=!1;var t=new r(e);this.config=t,this.context=new o,this.commonProperties={};var n=new u(this.config);this.channel=new a((function(){return t.disableAppInsights}),(function(){return t.maxBatchSize}),(function(){return t.maxBatchIntervalMs}),n)}return e.prototype.trackAvailability=function(e){this.track(e,s.TelemetryType.Availability)},e.prototype.trackPageView=function(e){this.track(e,s.TelemetryType.PageView)},e.prototype.trackTrace=function(e){this.track(e,s.TelemetryType.Trace)},e.prototype.trackMetric=function(e){this.track(e,s.TelemetryType.Metric)},e.prototype.trackException=function(e){e&&e.exception&&!d.isError(e.exception)&&(e.exception=new Error(e.exception.toString())),this.track(e,s.TelemetryType.Exception)},e.prototype.trackEvent=function(e){this.track(e,s.TelemetryType.Event)},e.prototype.trackRequest=function(e){this.track(e,s.TelemetryType.Request)},e.prototype.trackDependency=function(e){e&&!e.target&&e.data&&(e.target=i.parse(e.data).host),this.track(e,s.TelemetryType.Dependency)},e.prototype.flush=function(e){this.channel.triggerSend(!!e&&!!e.isAppCrashing,e?e.callback:void 0)},e.prototype.track=function(e,t){if(e&&s.telemetryTypeToBaseType(t)){var n=h.createEnvelope(e,t,this.commonProperties,this.context,this.config);e.time&&(n.time=e.time.toISOString()),this._enableAzureProperties&&l.azureRoleEnvironmentTelemetryProcessor(n,this.context);var i=this.runTelemetryProcessors(n,e.contextObjects);i=i&&l.samplingTelemetryProcessor(n,{correlationContext:c.CorrelationContextManager.getCurrentContext()}),l.preAggregatedMetricsTelemetryProcessor(n,this.context),i&&(l.performanceMetricsTelemetryProcessor(n,this.quickPulseClient),this.channel.send(n))}else p.warn("track() requires telemetry object and telemetryType to be specified.")},e.prototype.setAutoPopulateAzureProperties=function(e){this._enableAzureProperties=e},e.prototype.addTelemetryProcessor=function(e){this._telemetryProcessors.push(e)},e.prototype.clearTelemetryProcessors=function(){this._telemetryProcessors=[]},e.prototype.runTelemetryProcessors=function(e,t){var n=!0,i=this._telemetryProcessors.length;if(0===i)return n;(t=t||{}).correlationContext=c.CorrelationContextManager.getCurrentContext();for(var r=0;r<i;++r)try{var o=this._telemetryProcessors[r];if(o&&!1===o.apply(null,[e,t])){n=!1;break}}catch(t){n=!0,p.warn("One of telemetry processors failed, telemetry item will be sent.",t,e)}return n&&(e&&e.tags&&(e.tags=d.validateStringMap(e.tags)),e&&e.data&&e.data.baseData&&e.data.baseData.properties&&(e.data.baseData.properties=d.validateStringMap(e.data.baseData.properties))),n},e}();t.exports=m})),ur=S(((e,t)=>{"use strict";var n,i=e&&e.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),r=cr(),o=$i(),s=Gi(),a=w(),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.trackNodeHttpRequestSync=function(e){e&&e.request&&e.response&&e.duration?o.trackRequestSync(this,e):a.warn("trackNodeHttpRequestSync requires NodeHttpRequestTelemetry object with request, response and duration specified.")},t.prototype.trackNodeHttpRequest=function(e){(e.duration||e.error)&&a.warn("trackNodeHttpRequest will ignore supplied duration and error parameters. These values are collected from the request and response objects."),e&&e.request&&e.response?o.trackRequest(this,e):a.warn("trackNodeHttpRequest requires NodeHttpRequestTelemetry object with request and response specified.")},t.prototype.trackNodeHttpDependency=function(e){e&&e.request?s.trackRequest(this,e):a.warn("trackNodeHttpDependency requires NodeHttpDependencyTelemetry object with request specified.")},t}(r);t.exports=l})),dr=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),pr=S((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.dispose=e.Configuration=e.wrapWithCorrelationContext=e.startOperation=e.getCorrelationContext=e.start=e.setup=e.liveMetricsClient=e.defaultClient=e.DistributedTracingModes=void 0;var t,n,i=Ri(),r=xi(),o=Pi(),s=Di(),a=Li(),l=Wi(),c=Gi(),u=$i(),d=un(),p=w(),h=Qi(),m=er();e.TelemetryClient=ur(),e.Contracts=ni(),e.azureFunctionsTypes=dr(),(n=t=e.DistributedTracingModes||(e.DistributedTracingModes={}))[n.AI=0]="AI",n[n.AI_AND_W3C=1]="AI_AND_W3C";var f,g,v,_,y,S,E,T,C,b,I,R=!0,A=!1,O=!0,x=!0,P=!0,N=!1,D=!0,M=!0,k=!0,L=!0,B=!1,q=!0,F=void 0,U=void 0,j=!1;function z(){return e.defaultClient?(j=!0,v.enable(R,A),_.enable(O),y.enable(x),S.enable(P),E.enable(N,e.defaultClient.config),T.enable(q,g),C.useAutoCorrelation(L,f),C.enable(D),b.enable(M),e.liveMetricsClient&&B&&e.liveMetricsClient.enable(B)):p.warn("Start cannot be called before setup"),H}e.setup=function(t){return e.defaultClient?p.info("The default client is already setup"):(e.defaultClient=new e.TelemetryClient(t),v=new r(e.defaultClient),_=new o(e.defaultClient),y=new s(e.defaultClient),S=new a(e.defaultClient),E=new l(e.defaultClient),C=new u(e.defaultClient),b=new c(e.defaultClient),T||(T=new m.AutoCollectNativePerformance(e.defaultClient))),e.defaultClient&&e.defaultClient.channel&&e.defaultClient.channel.setUseDiskRetryCaching(k,F,U),H},e.start=z,e.getCorrelationContext=function(){return L?i.CorrelationContextManager.getCurrentContext():null},e.startOperation=function(e,t){return i.CorrelationContextManager.startOperation(e,t)},e.wrapWithCorrelationContext=function(e,t){return i.CorrelationContextManager.wrapCallback(e,t)};var H=function(){function n(){}return n.setDistributedTracingMode=function(e){return d.w3cEnabled=e===t.AI_AND_W3C,n},n.setAutoCollectConsole=function(e,t){return void 0===t&&(t=!1),R=e,A=t,j&&v.enable(e,t),n},n.setAutoCollectExceptions=function(e){return O=e,j&&_.enable(e),n},n.setAutoCollectPerformance=function(e,t){void 0===t&&(t=!0),x=e;var i=m.AutoCollectNativePerformance.parseEnabled(t);return q=i.isEnabled,g=i.disabledMetrics,j&&(y.enable(e),T.enable(i.isEnabled,i.disabledMetrics)),n},n.setAutoCollectPreAggregatedMetrics=function(e){return P=e,j&&S.enable(e),n},n.setAutoCollectHeartbeat=function(t){return N=t,j&&E.enable(t,e.defaultClient.config),n},n.setAutoCollectRequests=function(e){return D=e,j&&C.enable(e),n},n.setAutoCollectDependencies=function(e){return M=e,j&&b.enable(e),n},n.setAutoDependencyCorrelation=function(e,t){return L=e,f=t,j&&C.useAutoCorrelation(e,t),n},n.setUseDiskRetryCaching=function(t,i,r){return k=t,F=i,U=r,e.defaultClient&&e.defaultClient.channel&&e.defaultClient.channel.setUseDiskRetryCaching(t,i,r),n},n.setInternalLogging=function(e,t){return void 0===e&&(e=!1),void 0===t&&(t=!0),p.enableDebug=e,p.disableWarnings=!t,n},n.setSendLiveMetrics=function(t){return void 0===t&&(t=!1),e.defaultClient?(!e.liveMetricsClient&&t?(e.liveMetricsClient=new h(e.defaultClient.config,null),I=new s(e.liveMetricsClient,1e3,!0),e.liveMetricsClient.addCollector(I),e.defaultClient.quickPulseClient=e.liveMetricsClient):e.liveMetricsClient&&e.liveMetricsClient.enable(t),B=t,n):(p.warn("Live metrics client cannot be setup without the default client"),n)},n.start=z,n}();e.Configuration=H,e.dispose=function(){d.w3cEnabled=!0,e.defaultClient=null,j=!1,v&&v.dispose(),_&&_.dispose(),y&&y.dispose(),S&&S.dispose(),E&&E.dispose(),T&&T.dispose(),C&&C.dispose(),b&&b.dispose(),e.liveMetricsClient&&(e.liveMetricsClient.enable(!1),B=!1,e.liveMetricsClient=void 0)}})),hr={};((e,t)=>{for(var n in t)l(e,n,{get:t[n],enumerable:!0})})(hr,{default:()=>yr}),e.exports=(s=hr,E(l({},"__esModule",{value:!0}),s));var mr=T(n(2037)),fr=T(n(4665)),gr=T(n(5687)),vr=class{constructor(e){this.vscodeAPI=e}getTelemetryLevel(){try{let e=this.vscodeAPI.env.telemetryConfiguration;return e.isUsageEnabled&&e.isErrorsEnabled&&e.isCrashEnabled?"on":e.isErrorsEnabled&&e.isCrashEnabled?"error":"off"}catch{return void 0!==this.vscodeAPI.env.isTelemetryEnabled?this.vscodeAPI.env.isTelemetryEnabled?"on":"off":this.vscodeAPI.workspace.getConfiguration("telemetry").get("enableTelemetry")?"on":"off"}}static applyReplacements(e,t){for(let n of Object.keys(e))for(let i of t)i.lookup.test(n)&&(void 0!==i.replacementString?e[n]=i.replacementString:delete e[n])}static shouldUseOneDataSystemSDK(e){return 74===e.length&&"-"===e[32]&&"-"===e[41]&&"-"===e[46]&&"-"===e[51]&&"-"===e[56]&&"-"===e[69]}static getInstance(e){return vr._instance||(vr._instance=new vr(e)),vr._instance}},_r=class{constructor(e,t,n,i,r,o){this.extensionId=e,this.extensionVersion=t,this.telemetryAppender=n,this.osShim=i,this.vscodeAPI=r,this.firstParty=!1,this.userOptIn=!1,this.errorOptIn=!1,this.disposables=[],this.firstParty=!!o,this.updateUserOptStatus(),void 0!==r.env.onDidChangeTelemetryEnabled?(this.disposables.push(r.env.onDidChangeTelemetryEnabled((()=>this.updateUserOptStatus()))),this.disposables.push(r.workspace.onDidChangeConfiguration((()=>this.updateUserOptStatus())))):this.disposables.push(r.workspace.onDidChangeConfiguration((()=>this.updateUserOptStatus())))}updateUserOptStatus(){let e=vr.getInstance(this.vscodeAPI).getTelemetryLevel();this.userOptIn="on"===e,this.errorOptIn="error"===e||this.userOptIn,(this.userOptIn||this.errorOptIn)&&this.telemetryAppender.instantiateAppender()}cleanRemoteName(e){if(!e)return"none";let t="other";return["ssh-remote","dev-container","attached-container","wsl","codespaces"].forEach((n=>{0===e.indexOf(`${n}`)&&(t=n)})),t}get extension(){return void 0===this._extension&&(this._extension=this.vscodeAPI.extensions.getExtension(this.extensionId)),this._extension}cloneAndChange(e,t){if(null===e||"object"!=typeof e||"function"!=typeof t)return e;let n={};for(let i in e)n[i]=t(i,e[i]);return n}shouldSendErrorTelemetry(){return!(!1===this.errorOptIn||this.firstParty&&this.vscodeAPI.env.remoteName&&"other"===this.cleanRemoteName(this.vscodeAPI.env.remoteName))}getCommonProperties(){let e={};if(e["common.os"]=this.osShim.platform,e["common.nodeArch"]=this.osShim.architecture,e["common.platformversion"]=(this.osShim.release||"").replace(/^(\d+)(\.\d+)?(\.\d+)?(.*)/,"$1$2$3"),e["common.extname"]=this.extensionId,e["common.extversion"]=this.extensionVersion,this.vscodeAPI&&this.vscodeAPI.env){switch(e["common.vscodemachineid"]=this.vscodeAPI.env.machineId,e["common.vscodesessionid"]=this.vscodeAPI.env.sessionId,e["common.vscodeversion"]=this.vscodeAPI.version,e["common.isnewappinstall"]=this.vscodeAPI.env.isNewAppInstall?this.vscodeAPI.env.isNewAppInstall.toString():"false",e["common.product"]=this.vscodeAPI.env.appHost,this.vscodeAPI.env.uiKind){case this.vscodeAPI.UIKind.Web:e["common.uikind"]="web";break;case this.vscodeAPI.UIKind.Desktop:e["common.uikind"]="desktop";break;default:e["common.uikind"]="unknown"}e["common.remotename"]=this.cleanRemoteName(this.vscodeAPI.env.remoteName)}return e}anonymizeFilePaths(e,t){let n;if(null==e)return"";let i=[];""!==this.vscodeAPI.env.appRoot&&i.push(new RegExp(this.vscodeAPI.env.appRoot.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi")),this.extension&&i.push(new RegExp(this.extension.extensionPath.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi"));let r=e;if(t){let t=[];for(let r of i)for(;(n=r.exec(e))&&n;)t.push([n.index,r.lastIndex]);let o=/^[\\/]?(node_modules|node_modules\.asar)[\\/]/,s=/(file:\/\/)?([a-zA-Z]:(\\\\|\\|\/)|(\\\\|\\|\/))?([\w-._]+(\\\\|\\|\/))+[\w-._]*/g,a=0;for(r="";(n=s.exec(e))&&n;)n[0]&&!o.test(n[0])&&t.every((([e,t])=>n.index<e||n.index>=t))&&(r+=e.substring(a,n.index)+"<REDACTED: user-file-path>",a=s.lastIndex);a<e.length&&(r+=e.substr(a))}for(let e of i)r=r.replace(e,"");return r}removePropertiesWithPossibleUserInfo(e){if("object"!=typeof e)return;let t={};for(let n of Object.keys(e)){let i=e[n];if(!i)continue;let r=/@[a-zA-Z0-9-.]+/,o=/xox[pbaors]-[a-zA-Z0-9]+-[a-zA-Z0-9-]+?/;/(key|token|sig|signature|password|passwd|pwd|android:value)[^a-zA-Z0-9]/.test(i.toLowerCase())?t[n]="<REDACTED: secret>":r.test(i)?t[n]="<REDACTED: email>":o.test(i)?t[n]="<REDACTED: token>":t[n]=i}return t}get telemetryLevel(){switch(vr.getInstance(this.vscodeAPI).getTelemetryLevel()){case"on":return"all";case"error":return"error";case"off":return"off"}}internalSendTelemetryEvent(e,t,n,i,r){if((this.userOptIn||r)&&""!==e){if(t=_(_({},t),this.getCommonProperties()),i){let e=this.cloneAndChange(t,((e,t)=>this.anonymizeFilePaths(t,this.firstParty)));t=this.removePropertiesWithPossibleUserInfo(e)}t=t??{},n=n??{},e=`${this.extensionId}/${e}`,this.telemetryAppender.logEvent(e,{properties:t,measurements:n})}}sendTelemetryEvent(e,t,n){this.internalSendTelemetryEvent(e,t,n,!0,!1)}sendRawTelemetryEvent(e,t,n){this.internalSendTelemetryEvent(e,t,n,!1,!1)}sendDangerousTelemetryEvent(e,t,n,i=!0){this.telemetryAppender.instantiateAppender(),this.internalSendTelemetryEvent(e,t,n,i,!0)}internalSendTelemetryErrorEvent(e,t,n,i,r){if((this.shouldSendErrorTelemetry()||r)&&""!==e){if(t=_(_({},t),this.getCommonProperties()),i){let e=this.cloneAndChange(t,((e,t)=>this.anonymizeFilePaths(t,this.firstParty)));t=this.removePropertiesWithPossibleUserInfo(e)}t=t??{},n=n??{},e=`${this.extensionId}/${e}`,this.telemetryAppender.logEvent(e,{properties:t,measurements:n})}}sendTelemetryErrorEvent(e,t,n){this.internalSendTelemetryErrorEvent(e,t,n,!0,!1)}sendDangerousTelemetryErrorEvent(e,t,n,i=!0){this.telemetryAppender.instantiateAppender(),this.internalSendTelemetryErrorEvent(e,t,n,i,!0)}internalSendTelemetryException(e,t,n,i,r){if((this.shouldSendErrorTelemetry()||r)&&e){if(t=_(_({},t),this.getCommonProperties()),i){let n=this.cloneAndChange(t,((e,t)=>this.anonymizeFilePaths(t,this.firstParty)));e.stack&&(e.stack=this.anonymizeFilePaths(e.stack,this.firstParty)),t=this.removePropertiesWithPossibleUserInfo(n)}t=t??{},n=n??{},this.telemetryAppender.logException(e,{properties:t,measurements:n})}}sendTelemetryException(e,t,n){this.internalSendTelemetryException(e,t,n,!0,!1)}sendDangerousTelemetryException(e,t,n,i=!0){this.telemetryAppender.instantiateAppender(),this.internalSendTelemetryException(e,t,n,i,!0)}dispose(){return this.telemetryAppender.flush(),Promise.all(this.disposables.map((e=>e.dispose())))}},yr=class extends _r{constructor(e,t,n,i,r){let o=e=>(async(e,t)=>{let n;try{process.env.APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL="1";let t=await Promise.resolve().then((()=>T(pr())));t.defaultClient?(n=new t.TelemetryClient(e),n.channel.setUseDiskRetryCaching(!0)):(t.setup(e).setAutoCollectRequests(!1).setAutoCollectPerformance(!1).setAutoCollectExceptions(!1).setAutoCollectDependencies(!1).setAutoDependencyCorrelation(!1).setAutoCollectConsole(!1).setAutoCollectHeartbeat(!1).setUseDiskRetryCaching(!0).start(),n=t.defaultClient),fr&&fr.env&&(n.context.tags[n.context.keys.userId]=fr.env.machineId,n.context.tags[n.context.keys.sessionId]=fr.env.sessionId,n.context.tags[n.context.keys.cloudRole]=fr.env.appName,n.context.tags[n.context.keys.cloudRoleInstance]=fr.env.appName),e&&0===e.indexOf("AIF-")&&(n.config.endpointUrl="https://mobile.events.data.microsoft.com/collect/v1")}catch(e){return Promise.reject("Failed to initialize app insights!\n"+e.message)}return null!=t&&t.length&&function(e,t){e.addTelemetryProcessor((e=>(Array.isArray(e.tags)?e.tags.forEach((e=>vr.applyReplacements(e,t))):e.tags&&vr.applyReplacements(e.tags,t),e.data.baseData&&vr.applyReplacements(e.data.baseData,t),!0)))}(n,t),{logEvent:(e,t)=>{try{null==n||n.trackEvent({name:e,properties:null==t?void 0:t.properties,measurements:null==t?void 0:t.measurements})}catch(e){throw new Error("Failed to log event to app insights!\n"+e.message)}},logException:(e,t)=>{try{null==n||n.trackException({exception:e,properties:null==t?void 0:t.properties,measurements:null==t?void 0:t.measurements})}catch(e){throw new Error("Failed to log exception to app insights!\n"+e.message)}},flush:async()=>{try{null==n||n.flush()}catch(e){throw new Error("Failed to flush app insights!\n"+e.message)}}}})(e,r);vr.shouldUseOneDataSystemSDK(n)&&(o=e=>(async(e,t,n)=>{let i=await(async(e,t,n)=>{let i=await Promise.resolve().then((()=>T(R()))),r=await Promise.resolve().then((()=>T(O()))),o=new i.AppInsightsCore,s=new r.PostChannel,a={instrumentationKey:e,endpointUrl:"https://mobile.events.data.microsoft.com/OneCollector/1.0",loggingLevelTelemetry:0,loggingLevelConsole:0,disableCookiesUsage:!0,disableDbgExt:!0,disableInstrumentationKeyValidation:!0,channels:[[s]]};if(n){a.extensionConfig={};let e={alwaysUseXhrOverride:!0,httpXHROverride:n};a.extensionConfig[s.identifier]=e}let l=t.workspace.getConfiguration("telemetry").get("internalTesting");return o.initialize(a,[]),o.addTelemetryInitializer((e=>{!l||(e.ext=e.ext??{},e.ext.utc=e.ext.utc??{},e.ext.utc.flags=8462029)})),o})(e,t,n);return{logEvent:(e,t)=>{try{null==i||i.track({name:e,baseData:{name:e,properties:null==t?void 0:t.properties,measurements:null==t?void 0:t.measurements}})}catch(e){throw new Error("Failed to log event to app insights!\n"+e.message)}},logException:(e,t)=>{throw new Error("1DS SDK does not support logging exceptions, please use logEvent for exception tracking")},flush:async()=>{try{null==i||i.unload()}catch(e){throw new Error("Failed to flush app insights!\n"+e.message)}}}})(e,fr,{sendPOST:(e,t)=>{let n={method:"POST",headers:y(_({},e.headers),{"Content-Type":"application/json","Content-Length":Buffer.byteLength(e.data)})};try{let i=gr.request(e.urlString,n,(e=>{e.on("data",(function(n){t(e.statusCode??200,e.headers,n.toString())})),e.on("error",(function(){t(0,{})}))}));i.write(e.data),i.end()}catch{t(0,{})}}}));let s=new class{constructor(e,t){this._instantiationStatus=0,this._eventQueue=[],this._exceptionQueue=[],this._clientFactory=t,this._key=e}logEvent(e,t){this._telemetryClient?this._telemetryClient.logEvent(e,t):2!==this._instantiationStatus&&this._eventQueue.push({eventName:e,data:t})}logException(e,t){this._telemetryClient?this._telemetryClient.logException(e,t):2!==this._instantiationStatus&&this._exceptionQueue.push({exception:e,data:t})}async flush(){this._telemetryClient&&(await this._telemetryClient.flush(),this._telemetryClient=void 0)}_flushQueues(){this._eventQueue.forEach((({eventName:e,data:t})=>this.logEvent(e,t))),this._eventQueue=[],this._exceptionQueue.forEach((({exception:e,data:t})=>this.logException(e,t))),this._exceptionQueue=[]}instantiateAppender(){0===this._instantiationStatus&&(this._instantiationStatus=1,this._clientFactory(this._key).then((e=>{this._telemetryClient=e,this._instantiationStatus=2,this._flushQueues()})).catch((e=>{console.error(e),this._instantiationStatus=2})))}}(n,o);n&&(0===n.indexOf("AIF-")||vr.shouldUseOneDataSystemSDK(n))&&(i=!0),super(e,t,s,{release:mr.release(),platform:mr.platform(),architecture:mr.arch()},fr,i)}}},5029:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=5029,e.exports=t},3437:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=3437,e.exports=t},452:function(e,t,n){var i;e.exports=(i=n(8249),n(8269),n(8214),n(888),n(5109),function(){var e=i,t=e.lib.BlockCipher,n=e.algo,r=[],o=[],s=[],a=[],l=[],c=[],u=[],d=[],p=[],h=[];!function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;var n=0,i=0;for(t=0;t<256;t++){var m=i^i<<1^i<<2^i<<3^i<<4;m=m>>>8^255&m^99,r[n]=m,o[m]=n;var f=e[n],g=e[f],v=e[g],_=257*e[m]^16843008*m;s[n]=_<<24|_>>>8,a[n]=_<<16|_>>>16,l[n]=_<<8|_>>>24,c[n]=_,_=16843009*v^65537*g^257*f^16843008*n,u[m]=_<<24|_>>>8,d[m]=_<<16|_>>>16,p[m]=_<<8|_>>>24,h[m]=_,n?(n=f^e[e[e[v^f]]],i^=e[e[i]]):n=i=1}}();var m=[0,1,2,4,8,16,32,64,128,27,54],f=n.AES=t.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,t=e.words,n=e.sigBytes/4,i=4*((this._nRounds=n+6)+1),o=this._keySchedule=[],s=0;s<i;s++)s<n?o[s]=t[s]:(c=o[s-1],s%n?n>6&&s%n==4&&(c=r[c>>>24]<<24|r[c>>>16&255]<<16|r[c>>>8&255]<<8|r[255&c]):(c=r[(c=c<<8|c>>>24)>>>24]<<24|r[c>>>16&255]<<16|r[c>>>8&255]<<8|r[255&c],c^=m[s/n|0]<<24),o[s]=o[s-n]^c);for(var a=this._invKeySchedule=[],l=0;l<i;l++){if(s=i-l,l%4)var c=o[s];else c=o[s-4];a[l]=l<4||s<=4?c:u[r[c>>>24]]^d[r[c>>>16&255]]^p[r[c>>>8&255]]^h[r[255&c]]}}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,s,a,l,c,r)},decryptBlock:function(e,t){var n=e[t+1];e[t+1]=e[t+3],e[t+3]=n,this._doCryptBlock(e,t,this._invKeySchedule,u,d,p,h,o),n=e[t+1],e[t+1]=e[t+3],e[t+3]=n},_doCryptBlock:function(e,t,n,i,r,o,s,a){for(var l=this._nRounds,c=e[t]^n[0],u=e[t+1]^n[1],d=e[t+2]^n[2],p=e[t+3]^n[3],h=4,m=1;m<l;m++){var f=i[c>>>24]^r[u>>>16&255]^o[d>>>8&255]^s[255&p]^n[h++],g=i[u>>>24]^r[d>>>16&255]^o[p>>>8&255]^s[255&c]^n[h++],v=i[d>>>24]^r[p>>>16&255]^o[c>>>8&255]^s[255&u]^n[h++],_=i[p>>>24]^r[c>>>16&255]^o[u>>>8&255]^s[255&d]^n[h++];c=f,u=g,d=v,p=_}f=(a[c>>>24]<<24|a[u>>>16&255]<<16|a[d>>>8&255]<<8|a[255&p])^n[h++],g=(a[u>>>24]<<24|a[d>>>16&255]<<16|a[p>>>8&255]<<8|a[255&c])^n[h++],v=(a[d>>>24]<<24|a[p>>>16&255]<<16|a[c>>>8&255]<<8|a[255&u])^n[h++],_=(a[p>>>24]<<24|a[c>>>16&255]<<16|a[u>>>8&255]<<8|a[255&d])^n[h++],e[t]=f,e[t+1]=g,e[t+2]=v,e[t+3]=_},keySize:8});e.AES=t._createHelper(f)}(),i.AES)},5109:function(e,t,n){var i,r,o,s,a,l,c,u,d,p,h,m,f,g,v,_,y,S,E;e.exports=(i=n(8249),n(888),void(i.lib.Cipher||(r=i,o=r.lib,s=o.Base,a=o.WordArray,l=o.BufferedBlockAlgorithm,c=r.enc,c.Utf8,u=c.Base64,d=r.algo.EvpKDF,p=o.Cipher=l.extend({cfg:s.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,n){this.cfg=this.cfg.extend(n),this._xformMode=e,this._key=t,this.reset()},reset:function(){l.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return"string"==typeof e?E:y}return function(t){return{encrypt:function(n,i,r){return e(i).encrypt(t,n,i,r)},decrypt:function(n,i,r){return e(i).decrypt(t,n,i,r)}}}}()}),o.StreamCipher=p.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),h=r.mode={},m=o.BlockCipherMode=s.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),f=h.CBC=function(){var e=m.extend();function t(e,t,n){var i,r=this._iv;r?(i=r,this._iv=void 0):i=this._prevBlock;for(var o=0;o<n;o++)e[t+o]^=i[o]}return e.Encryptor=e.extend({processBlock:function(e,n){var i=this._cipher,r=i.blockSize;t.call(this,e,n,r),i.encryptBlock(e,n),this._prevBlock=e.slice(n,n+r)}}),e.Decryptor=e.extend({processBlock:function(e,n){var i=this._cipher,r=i.blockSize,o=e.slice(n,n+r);i.decryptBlock(e,n),t.call(this,e,n,r),this._prevBlock=o}}),e}(),g=(r.pad={}).Pkcs7={pad:function(e,t){for(var n=4*t,i=n-e.sigBytes%n,r=i<<24|i<<16|i<<8|i,o=[],s=0;s<i;s+=4)o.push(r);var l=a.create(o,i);e.concat(l)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},o.BlockCipher=p.extend({cfg:p.cfg.extend({mode:f,padding:g}),reset:function(){var e;p.reset.call(this);var t=this.cfg,n=t.iv,i=t.mode;this._xformMode==this._ENC_XFORM_MODE?e=i.createEncryptor:(e=i.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==e?this._mode.init(this,n&&n.words):(this._mode=e.call(i,this,n&&n.words),this._mode.__creator=e)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e,t=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(t.pad(this._data,this.blockSize),e=this._process(!0)):(e=this._process(!0),t.unpad(e)),e},blockSize:4}),v=o.CipherParams=s.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),_=(r.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext,n=e.salt;return(n?a.create([1398893684,1701076831]).concat(n).concat(t):t).toString(u)},parse:function(e){var t,n=u.parse(e),i=n.words;return 1398893684==i[0]&&1701076831==i[1]&&(t=a.create(i.slice(2,4)),i.splice(0,4),n.sigBytes-=16),v.create({ciphertext:n,salt:t})}},y=o.SerializableCipher=s.extend({cfg:s.extend({format:_}),encrypt:function(e,t,n,i){i=this.cfg.extend(i);var r=e.createEncryptor(n,i),o=r.finalize(t),s=r.cfg;return v.create({ciphertext:o,key:n,iv:s.iv,algorithm:e,mode:s.mode,padding:s.padding,blockSize:e.blockSize,formatter:i.format})},decrypt:function(e,t,n,i){return i=this.cfg.extend(i),t=this._parse(t,i.format),e.createDecryptor(n,i).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),S=(r.kdf={}).OpenSSL={execute:function(e,t,n,i){i||(i=a.random(8));var r=d.create({keySize:t+n}).compute(e,i),o=a.create(r.words.slice(t),4*n);return r.sigBytes=4*t,v.create({key:r,iv:o,salt:i})}},E=o.PasswordBasedCipher=y.extend({cfg:y.cfg.extend({kdf:S}),encrypt:function(e,t,n,i){var r=(i=this.cfg.extend(i)).kdf.execute(n,e.keySize,e.ivSize);i.iv=r.iv;var o=y.encrypt.call(this,e,t,r.key,i);return o.mixIn(r),o},decrypt:function(e,t,n,i){i=this.cfg.extend(i),t=this._parse(t,i.format);var r=i.kdf.execute(n,e.keySize,e.ivSize,t.salt);return i.iv=r.iv,y.decrypt.call(this,e,t,r.key,i)}}))))},8249:function(e,t,n){var i;e.exports=(i=i||function(e,t){var i;if("undefined"!=typeof window&&window.crypto&&(i=window.crypto),"undefined"!=typeof self&&self.crypto&&(i=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(i=globalThis.crypto),!i&&"undefined"!=typeof window&&window.msCrypto&&(i=window.msCrypto),!i&&"undefined"!=typeof global&&global.crypto&&(i=global.crypto),!i)try{i=n(6113)}catch(e){}var r=function(){if(i){if("function"==typeof i.getRandomValues)try{return i.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof i.randomBytes)try{return i.randomBytes(4).readInt32LE()}catch(e){}}throw new Error("Native crypto module could not be used to get secure random number.")},o=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),s={},a=s.lib={},l=a.Base={extend:function(e){var t=o(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},c=a.WordArray=l.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||d).stringify(this)},concat:function(e){var t=this.words,n=e.words,i=this.sigBytes,r=e.sigBytes;if(this.clamp(),i%4)for(var o=0;o<r;o++){var s=n[o>>>2]>>>24-o%4*8&255;t[i+o>>>2]|=s<<24-(i+o)%4*8}else for(var a=0;a<r;a+=4)t[i+a>>>2]=n[a>>>2];return this.sigBytes+=r,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=l.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],n=0;n<e;n+=4)t.push(r());return new c.init(t,e)}}),u=s.enc={},d=u.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,i=[],r=0;r<n;r++){var o=t[r>>>2]>>>24-r%4*8&255;i.push((o>>>4).toString(16)),i.push((15&o).toString(16))}return i.join("")},parse:function(e){for(var t=e.length,n=[],i=0;i<t;i+=2)n[i>>>3]|=parseInt(e.substr(i,2),16)<<24-i%8*4;return new c.init(n,t/2)}},p=u.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,i=[],r=0;r<n;r++){var o=t[r>>>2]>>>24-r%4*8&255;i.push(String.fromCharCode(o))}return i.join("")},parse:function(e){for(var t=e.length,n=[],i=0;i<t;i++)n[i>>>2]|=(255&e.charCodeAt(i))<<24-i%4*8;return new c.init(n,t)}},h=u.Utf8={stringify:function(e){try{return decodeURIComponent(escape(p.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return p.parse(unescape(encodeURIComponent(e)))}},m=a.BufferedBlockAlgorithm=l.extend({reset:function(){this._data=new c.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=h.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n,i=this._data,r=i.words,o=i.sigBytes,s=this.blockSize,a=o/(4*s),l=(a=t?e.ceil(a):e.max((0|a)-this._minBufferSize,0))*s,u=e.min(4*l,o);if(l){for(var d=0;d<l;d+=s)this._doProcessBlock(r,d);n=r.splice(0,l),i.sigBytes-=u}return new c.init(n,u)},clone:function(){var e=l.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),f=(a.Hasher=m.extend({cfg:l.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){m.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new f.HMAC.init(e,n).finalize(t)}}}),s.algo={});return s}(Math),i)},8269:function(e,t,n){var i,r,o;e.exports=(i=n(8249),o=(r=i).lib.WordArray,r.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,i=this._map;e.clamp();for(var r=[],o=0;o<n;o+=3)for(var s=(t[o>>>2]>>>24-o%4*8&255)<<16|(t[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|t[o+2>>>2]>>>24-(o+2)%4*8&255,a=0;a<4&&o+.75*a<n;a++)r.push(i.charAt(s>>>6*(3-a)&63));var l=i.charAt(64);if(l)for(;r.length%4;)r.push(l);return r.join("")},parse:function(e){var t=e.length,n=this._map,i=this._reverseMap;if(!i){i=this._reverseMap=[];for(var r=0;r<n.length;r++)i[n.charCodeAt(r)]=r}var s=n.charAt(64);if(s){var a=e.indexOf(s);-1!==a&&(t=a)}return function(e,t,n){for(var i=[],r=0,s=0;s<t;s++)if(s%4){var a=n[e.charCodeAt(s-1)]<<s%4*2|n[e.charCodeAt(s)]>>>6-s%4*2;i[r>>>2]|=a<<24-r%4*8,r++}return o.create(i,r)}(e,t,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},i.enc.Base64)},3786:function(e,t,n){var i,r,o;e.exports=(i=n(8249),o=(r=i).lib.WordArray,r.enc.Base64url={stringify:function(e,t=!0){var n=e.words,i=e.sigBytes,r=t?this._safe_map:this._map;e.clamp();for(var o=[],s=0;s<i;s+=3)for(var a=(n[s>>>2]>>>24-s%4*8&255)<<16|(n[s+1>>>2]>>>24-(s+1)%4*8&255)<<8|n[s+2>>>2]>>>24-(s+2)%4*8&255,l=0;l<4&&s+.75*l<i;l++)o.push(r.charAt(a>>>6*(3-l)&63));var c=r.charAt(64);if(c)for(;o.length%4;)o.push(c);return o.join("")},parse:function(e,t=!0){var n=e.length,i=t?this._safe_map:this._map,r=this._reverseMap;if(!r){r=this._reverseMap=[];for(var s=0;s<i.length;s++)r[i.charCodeAt(s)]=s}var a=i.charAt(64);if(a){var l=e.indexOf(a);-1!==l&&(n=l)}return function(e,t,n){for(var i=[],r=0,s=0;s<t;s++)if(s%4){var a=n[e.charCodeAt(s-1)]<<s%4*2|n[e.charCodeAt(s)]>>>6-s%4*2;i[r>>>2]|=a<<24-r%4*8,r++}return o.create(i,r)}(e,n,r)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"},i.enc.Base64url)},298:function(e,t,n){var i;e.exports=(i=n(8249),function(){var e=i,t=e.lib.WordArray,n=e.enc;function r(e){return e<<8&4278255360|e>>>8&16711935}n.Utf16=n.Utf16BE={stringify:function(e){for(var t=e.words,n=e.sigBytes,i=[],r=0;r<n;r+=2){var o=t[r>>>2]>>>16-r%4*8&65535;i.push(String.fromCharCode(o))}return i.join("")},parse:function(e){for(var n=e.length,i=[],r=0;r<n;r++)i[r>>>1]|=e.charCodeAt(r)<<16-r%2*16;return t.create(i,2*n)}},n.Utf16LE={stringify:function(e){for(var t=e.words,n=e.sigBytes,i=[],o=0;o<n;o+=2){var s=r(t[o>>>2]>>>16-o%4*8&65535);i.push(String.fromCharCode(s))}return i.join("")},parse:function(e){for(var n=e.length,i=[],o=0;o<n;o++)i[o>>>1]|=r(e.charCodeAt(o)<<16-o%2*16);return t.create(i,2*n)}}}(),i.enc.Utf16)},888:function(e,t,n){var i,r,o,s,a,l,c,u;e.exports=(u=n(8249),n(2783),n(9824),o=(r=(i=u).lib).Base,s=r.WordArray,l=(a=i.algo).MD5,c=a.EvpKDF=o.extend({cfg:o.extend({keySize:4,hasher:l,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n,i=this.cfg,r=i.hasher.create(),o=s.create(),a=o.words,l=i.keySize,c=i.iterations;a.length<l;){n&&r.update(n),n=r.update(e).finalize(t),r.reset();for(var u=1;u<c;u++)n=r.finalize(n),r.reset();o.concat(n)}return o.sigBytes=4*l,o}}),i.EvpKDF=function(e,t,n){return c.create(n).compute(e,t)},u.EvpKDF)},2209:function(e,t,n){var i,r,o,s;e.exports=(s=n(8249),n(5109),r=(i=s).lib.CipherParams,o=i.enc.Hex,i.format.Hex={stringify:function(e){return e.ciphertext.toString(o)},parse:function(e){var t=o.parse(e);return r.create({ciphertext:t})}},s.format.Hex)},9824:function(e,t,n){var i,r,o;e.exports=(r=(i=n(8249)).lib.Base,o=i.enc.Utf8,void(i.algo.HMAC=r.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=o.parse(t));var n=e.blockSize,i=4*n;t.sigBytes>i&&(t=e.finalize(t)),t.clamp();for(var r=this._oKey=t.clone(),s=this._iKey=t.clone(),a=r.words,l=s.words,c=0;c<n;c++)a[c]^=1549556828,l[c]^=909522486;r.sigBytes=s.sigBytes=i,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,n=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(n))}})))},1354:function(e,t,n){var i;e.exports=(i=n(8249),n(4938),n(4433),n(298),n(8269),n(3786),n(8214),n(2783),n(2153),n(7792),n(34),n(7460),n(3327),n(706),n(9824),n(2112),n(888),n(5109),n(8568),n(4242),n(9968),n(7660),n(1148),n(3615),n(2807),n(1077),n(6475),n(6991),n(2209),n(452),n(4253),n(1857),n(4454),n(3974),i)},4433:function(e,t,n){var i;e.exports=(i=n(8249),function(){if("function"==typeof ArrayBuffer){var e=i.lib.WordArray,t=e.init,n=e.init=function(e){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),(e instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)&&(e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e instanceof Uint8Array){for(var n=e.byteLength,i=[],r=0;r<n;r++)i[r>>>2]|=e[r]<<24-r%4*8;t.call(this,i,n)}else t.apply(this,arguments)};n.prototype=e}}(),i.lib.WordArray)},8214:function(e,t,n){var i;e.exports=(i=n(8249),function(e){var t=i,n=t.lib,r=n.WordArray,o=n.Hasher,s=t.algo,a=[];!function(){for(var t=0;t<64;t++)a[t]=4294967296*e.abs(e.sin(t+1))|0}();var l=s.MD5=o.extend({_doReset:function(){this._hash=new r.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var i=t+n,r=e[i];e[i]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8)}var o=this._hash.words,s=e[t+0],l=e[t+1],h=e[t+2],m=e[t+3],f=e[t+4],g=e[t+5],v=e[t+6],_=e[t+7],y=e[t+8],S=e[t+9],E=e[t+10],T=e[t+11],C=e[t+12],b=e[t+13],I=e[t+14],R=e[t+15],A=o[0],O=o[1],w=o[2],x=o[3];A=c(A,O,w,x,s,7,a[0]),x=c(x,A,O,w,l,12,a[1]),w=c(w,x,A,O,h,17,a[2]),O=c(O,w,x,A,m,22,a[3]),A=c(A,O,w,x,f,7,a[4]),x=c(x,A,O,w,g,12,a[5]),w=c(w,x,A,O,v,17,a[6]),O=c(O,w,x,A,_,22,a[7]),A=c(A,O,w,x,y,7,a[8]),x=c(x,A,O,w,S,12,a[9]),w=c(w,x,A,O,E,17,a[10]),O=c(O,w,x,A,T,22,a[11]),A=c(A,O,w,x,C,7,a[12]),x=c(x,A,O,w,b,12,a[13]),w=c(w,x,A,O,I,17,a[14]),A=u(A,O=c(O,w,x,A,R,22,a[15]),w,x,l,5,a[16]),x=u(x,A,O,w,v,9,a[17]),w=u(w,x,A,O,T,14,a[18]),O=u(O,w,x,A,s,20,a[19]),A=u(A,O,w,x,g,5,a[20]),x=u(x,A,O,w,E,9,a[21]),w=u(w,x,A,O,R,14,a[22]),O=u(O,w,x,A,f,20,a[23]),A=u(A,O,w,x,S,5,a[24]),x=u(x,A,O,w,I,9,a[25]),w=u(w,x,A,O,m,14,a[26]),O=u(O,w,x,A,y,20,a[27]),A=u(A,O,w,x,b,5,a[28]),x=u(x,A,O,w,h,9,a[29]),w=u(w,x,A,O,_,14,a[30]),A=d(A,O=u(O,w,x,A,C,20,a[31]),w,x,g,4,a[32]),x=d(x,A,O,w,y,11,a[33]),w=d(w,x,A,O,T,16,a[34]),O=d(O,w,x,A,I,23,a[35]),A=d(A,O,w,x,l,4,a[36]),x=d(x,A,O,w,f,11,a[37]),w=d(w,x,A,O,_,16,a[38]),O=d(O,w,x,A,E,23,a[39]),A=d(A,O,w,x,b,4,a[40]),x=d(x,A,O,w,s,11,a[41]),w=d(w,x,A,O,m,16,a[42]),O=d(O,w,x,A,v,23,a[43]),A=d(A,O,w,x,S,4,a[44]),x=d(x,A,O,w,C,11,a[45]),w=d(w,x,A,O,R,16,a[46]),A=p(A,O=d(O,w,x,A,h,23,a[47]),w,x,s,6,a[48]),x=p(x,A,O,w,_,10,a[49]),w=p(w,x,A,O,I,15,a[50]),O=p(O,w,x,A,g,21,a[51]),A=p(A,O,w,x,C,6,a[52]),x=p(x,A,O,w,m,10,a[53]),w=p(w,x,A,O,E,15,a[54]),O=p(O,w,x,A,l,21,a[55]),A=p(A,O,w,x,y,6,a[56]),x=p(x,A,O,w,R,10,a[57]),w=p(w,x,A,O,v,15,a[58]),O=p(O,w,x,A,b,21,a[59]),A=p(A,O,w,x,f,6,a[60]),x=p(x,A,O,w,T,10,a[61]),w=p(w,x,A,O,h,15,a[62]),O=p(O,w,x,A,S,21,a[63]),o[0]=o[0]+A|0,o[1]=o[1]+O|0,o[2]=o[2]+w|0,o[3]=o[3]+x|0},_doFinalize:function(){var t=this._data,n=t.words,i=8*this._nDataBytes,r=8*t.sigBytes;n[r>>>5]|=128<<24-r%32;var o=e.floor(i/4294967296),s=i;n[15+(r+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),n[14+(r+64>>>9<<4)]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),t.sigBytes=4*(n.length+1),this._process();for(var a=this._hash,l=a.words,c=0;c<4;c++){var u=l[c];l[c]=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8)}return a},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});function c(e,t,n,i,r,o,s){var a=e+(t&n|~t&i)+r+s;return(a<<o|a>>>32-o)+t}function u(e,t,n,i,r,o,s){var a=e+(t&i|n&~i)+r+s;return(a<<o|a>>>32-o)+t}function d(e,t,n,i,r,o,s){var a=e+(t^n^i)+r+s;return(a<<o|a>>>32-o)+t}function p(e,t,n,i,r,o,s){var a=e+(n^(t|~i))+r+s;return(a<<o|a>>>32-o)+t}t.MD5=o._createHelper(l),t.HmacMD5=o._createHmacHelper(l)}(Math),i.MD5)},8568:function(e,t,n){var i;e.exports=(i=n(8249),n(5109),i.mode.CFB=function(){var e=i.lib.BlockCipherMode.extend();function t(e,t,n,i){var r,o=this._iv;o?(r=o.slice(0),this._iv=void 0):r=this._prevBlock,i.encryptBlock(r,0);for(var s=0;s<n;s++)e[t+s]^=r[s]}return e.Encryptor=e.extend({processBlock:function(e,n){var i=this._cipher,r=i.blockSize;t.call(this,e,n,r,i),this._prevBlock=e.slice(n,n+r)}}),e.Decryptor=e.extend({processBlock:function(e,n){var i=this._cipher,r=i.blockSize,o=e.slice(n,n+r);t.call(this,e,n,r,i),this._prevBlock=o}}),e}(),i.mode.CFB)},9968:function(e,t,n){var i;e.exports=(i=n(8249),n(5109),i.mode.CTRGladman=function(){var e=i.lib.BlockCipherMode.extend();function t(e){if(255==(e>>24&255)){var t=e>>16&255,n=e>>8&255,i=255&e;255===t?(t=0,255===n?(n=0,255===i?i=0:++i):++n):++t,e=0,e+=t<<16,e+=n<<8,e+=i}else e+=1<<24;return e}var n=e.Encryptor=e.extend({processBlock:function(e,n){var i=this._cipher,r=i.blockSize,o=this._iv,s=this._counter;o&&(s=this._counter=o.slice(0),this._iv=void 0),function(e){0===(e[0]=t(e[0]))&&(e[1]=t(e[1]))}(s);var a=s.slice(0);i.encryptBlock(a,0);for(var l=0;l<r;l++)e[n+l]^=a[l]}});return e.Decryptor=n,e}(),i.mode.CTRGladman)},4242:function(e,t,n){var i,r,o;e.exports=(o=n(8249),n(5109),o.mode.CTR=(r=(i=o.lib.BlockCipherMode.extend()).Encryptor=i.extend({processBlock:function(e,t){var n=this._cipher,i=n.blockSize,r=this._iv,o=this._counter;r&&(o=this._counter=r.slice(0),this._iv=void 0);var s=o.slice(0);n.encryptBlock(s,0),o[i-1]=o[i-1]+1|0;for(var a=0;a<i;a++)e[t+a]^=s[a]}}),i.Decryptor=r,i),o.mode.CTR)},1148:function(e,t,n){var i,r;e.exports=(r=n(8249),n(5109),r.mode.ECB=((i=r.lib.BlockCipherMode.extend()).Encryptor=i.extend({processBlock:function(e,t){this._cipher.encryptBlock(e,t)}}),i.Decryptor=i.extend({processBlock:function(e,t){this._cipher.decryptBlock(e,t)}}),i),r.mode.ECB)},7660:function(e,t,n){var i,r,o;e.exports=(o=n(8249),n(5109),o.mode.OFB=(r=(i=o.lib.BlockCipherMode.extend()).Encryptor=i.extend({processBlock:function(e,t){var n=this._cipher,i=n.blockSize,r=this._iv,o=this._keystream;r&&(o=this._keystream=r.slice(0),this._iv=void 0),n.encryptBlock(o,0);for(var s=0;s<i;s++)e[t+s]^=o[s]}}),i.Decryptor=r,i),o.mode.OFB)},3615:function(e,t,n){var i;e.exports=(i=n(8249),n(5109),i.pad.AnsiX923={pad:function(e,t){var n=e.sigBytes,i=4*t,r=i-n%i,o=n+r-1;e.clamp(),e.words[o>>>2]|=r<<24-o%4*8,e.sigBytes+=r},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},i.pad.Ansix923)},2807:function(e,t,n){var i;e.exports=(i=n(8249),n(5109),i.pad.Iso10126={pad:function(e,t){var n=4*t,r=n-e.sigBytes%n;e.concat(i.lib.WordArray.random(r-1)).concat(i.lib.WordArray.create([r<<24],1))},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},i.pad.Iso10126)},1077:function(e,t,n){var i;e.exports=(i=n(8249),n(5109),i.pad.Iso97971={pad:function(e,t){e.concat(i.lib.WordArray.create([2147483648],1)),i.pad.ZeroPadding.pad(e,t)},unpad:function(e){i.pad.ZeroPadding.unpad(e),e.sigBytes--}},i.pad.Iso97971)},6991:function(e,t,n){var i;e.exports=(i=n(8249),n(5109),i.pad.NoPadding={pad:function(){},unpad:function(){}},i.pad.NoPadding)},6475:function(e,t,n){var i;e.exports=(i=n(8249),n(5109),i.pad.ZeroPadding={pad:function(e,t){var n=4*t;e.clamp(),e.sigBytes+=n-(e.sigBytes%n||n)},unpad:function(e){var t=e.words,n=e.sigBytes-1;for(n=e.sigBytes-1;n>=0;n--)if(t[n>>>2]>>>24-n%4*8&255){e.sigBytes=n+1;break}}},i.pad.ZeroPadding)},2112:function(e,t,n){var i,r,o,s,a,l,c,u,d;e.exports=(d=n(8249),n(2783),n(9824),o=(r=(i=d).lib).Base,s=r.WordArray,l=(a=i.algo).SHA1,c=a.HMAC,u=a.PBKDF2=o.extend({cfg:o.extend({keySize:4,hasher:l,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n=this.cfg,i=c.create(n.hasher,e),r=s.create(),o=s.create([1]),a=r.words,l=o.words,u=n.keySize,d=n.iterations;a.length<u;){var p=i.update(t).finalize(o);i.reset();for(var h=p.words,m=h.length,f=p,g=1;g<d;g++){f=i.finalize(f),i.reset();for(var v=f.words,_=0;_<m;_++)h[_]^=v[_]}r.concat(p),l[0]++}return r.sigBytes=4*u,r}}),i.PBKDF2=function(e,t,n){return u.create(n).compute(e,t)},d.PBKDF2)},3974:function(e,t,n){var i;e.exports=(i=n(8249),n(8269),n(8214),n(888),n(5109),function(){var e=i,t=e.lib.StreamCipher,n=e.algo,r=[],o=[],s=[],a=n.RabbitLegacy=t.extend({_doReset:function(){var e=this._key.words,t=this.cfg.iv,n=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],i=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];this._b=0;for(var r=0;r<4;r++)l.call(this);for(r=0;r<8;r++)i[r]^=n[r+4&7];if(t){var o=t.words,s=o[0],a=o[1],c=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),u=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),d=c>>>16|4294901760&u,p=u<<16|65535&c;for(i[0]^=c,i[1]^=d,i[2]^=u,i[3]^=p,i[4]^=c,i[5]^=d,i[6]^=u,i[7]^=p,r=0;r<4;r++)l.call(this)}},_doProcessBlock:function(e,t){var n=this._X;l.call(this),r[0]=n[0]^n[5]>>>16^n[3]<<16,r[1]=n[2]^n[7]>>>16^n[5]<<16,r[2]=n[4]^n[1]>>>16^n[7]<<16,r[3]=n[6]^n[3]>>>16^n[1]<<16;for(var i=0;i<4;i++)r[i]=16711935&(r[i]<<8|r[i]>>>24)|4278255360&(r[i]<<24|r[i]>>>8),e[t+i]^=r[i]},blockSize:4,ivSize:2});function l(){for(var e=this._X,t=this._C,n=0;n<8;n++)o[n]=t[n];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<o[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<o[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<o[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<o[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<o[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<o[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<o[6]>>>0?1:0)|0,this._b=t[7]>>>0<o[7]>>>0?1:0,n=0;n<8;n++){var i=e[n]+t[n],r=65535&i,a=i>>>16,l=((r*r>>>17)+r*a>>>15)+a*a,c=((4294901760&i)*i|0)+((65535&i)*i|0);s[n]=l^c}e[0]=s[0]+(s[7]<<16|s[7]>>>16)+(s[6]<<16|s[6]>>>16)|0,e[1]=s[1]+(s[0]<<8|s[0]>>>24)+s[7]|0,e[2]=s[2]+(s[1]<<16|s[1]>>>16)+(s[0]<<16|s[0]>>>16)|0,e[3]=s[3]+(s[2]<<8|s[2]>>>24)+s[1]|0,e[4]=s[4]+(s[3]<<16|s[3]>>>16)+(s[2]<<16|s[2]>>>16)|0,e[5]=s[5]+(s[4]<<8|s[4]>>>24)+s[3]|0,e[6]=s[6]+(s[5]<<16|s[5]>>>16)+(s[4]<<16|s[4]>>>16)|0,e[7]=s[7]+(s[6]<<8|s[6]>>>24)+s[5]|0}e.RabbitLegacy=t._createHelper(a)}(),i.RabbitLegacy)},4454:function(e,t,n){var i;e.exports=(i=n(8249),n(8269),n(8214),n(888),n(5109),function(){var e=i,t=e.lib.StreamCipher,n=e.algo,r=[],o=[],s=[],a=n.Rabbit=t.extend({_doReset:function(){for(var e=this._key.words,t=this.cfg.iv,n=0;n<4;n++)e[n]=16711935&(e[n]<<8|e[n]>>>24)|4278255360&(e[n]<<24|e[n]>>>8);var i=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],r=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];for(this._b=0,n=0;n<4;n++)l.call(this);for(n=0;n<8;n++)r[n]^=i[n+4&7];if(t){var o=t.words,s=o[0],a=o[1],c=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),u=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),d=c>>>16|4294901760&u,p=u<<16|65535&c;for(r[0]^=c,r[1]^=d,r[2]^=u,r[3]^=p,r[4]^=c,r[5]^=d,r[6]^=u,r[7]^=p,n=0;n<4;n++)l.call(this)}},_doProcessBlock:function(e,t){var n=this._X;l.call(this),r[0]=n[0]^n[5]>>>16^n[3]<<16,r[1]=n[2]^n[7]>>>16^n[5]<<16,r[2]=n[4]^n[1]>>>16^n[7]<<16,r[3]=n[6]^n[3]>>>16^n[1]<<16;for(var i=0;i<4;i++)r[i]=16711935&(r[i]<<8|r[i]>>>24)|4278255360&(r[i]<<24|r[i]>>>8),e[t+i]^=r[i]},blockSize:4,ivSize:2});function l(){for(var e=this._X,t=this._C,n=0;n<8;n++)o[n]=t[n];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<o[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<o[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<o[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<o[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<o[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<o[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<o[6]>>>0?1:0)|0,this._b=t[7]>>>0<o[7]>>>0?1:0,n=0;n<8;n++){var i=e[n]+t[n],r=65535&i,a=i>>>16,l=((r*r>>>17)+r*a>>>15)+a*a,c=((4294901760&i)*i|0)+((65535&i)*i|0);s[n]=l^c}e[0]=s[0]+(s[7]<<16|s[7]>>>16)+(s[6]<<16|s[6]>>>16)|0,e[1]=s[1]+(s[0]<<8|s[0]>>>24)+s[7]|0,e[2]=s[2]+(s[1]<<16|s[1]>>>16)+(s[0]<<16|s[0]>>>16)|0,e[3]=s[3]+(s[2]<<8|s[2]>>>24)+s[1]|0,e[4]=s[4]+(s[3]<<16|s[3]>>>16)+(s[2]<<16|s[2]>>>16)|0,e[5]=s[5]+(s[4]<<8|s[4]>>>24)+s[3]|0,e[6]=s[6]+(s[5]<<16|s[5]>>>16)+(s[4]<<16|s[4]>>>16)|0,e[7]=s[7]+(s[6]<<8|s[6]>>>24)+s[5]|0}e.Rabbit=t._createHelper(a)}(),i.Rabbit)},1857:function(e,t,n){var i;e.exports=(i=n(8249),n(8269),n(8214),n(888),n(5109),function(){var e=i,t=e.lib.StreamCipher,n=e.algo,r=n.RC4=t.extend({_doReset:function(){for(var e=this._key,t=e.words,n=e.sigBytes,i=this._S=[],r=0;r<256;r++)i[r]=r;r=0;for(var o=0;r<256;r++){var s=r%n,a=t[s>>>2]>>>24-s%4*8&255;o=(o+i[r]+a)%256;var l=i[r];i[r]=i[o],i[o]=l}this._i=this._j=0},_doProcessBlock:function(e,t){e[t]^=o.call(this)},keySize:8,ivSize:0});function o(){for(var e=this._S,t=this._i,n=this._j,i=0,r=0;r<4;r++){n=(n+e[t=(t+1)%256])%256;var o=e[t];e[t]=e[n],e[n]=o,i|=e[(e[t]+e[n])%256]<<24-8*r}return this._i=t,this._j=n,i}e.RC4=t._createHelper(r);var s=n.RC4Drop=r.extend({cfg:r.cfg.extend({drop:192}),_doReset:function(){r._doReset.call(this);for(var e=this.cfg.drop;e>0;e--)o.call(this)}});e.RC4Drop=t._createHelper(s)}(),i.RC4)},706:function(e,t,n){var i;e.exports=(i=n(8249),function(e){var t=i,n=t.lib,r=n.WordArray,o=n.Hasher,s=t.algo,a=r.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),l=r.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),c=r.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),u=r.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),d=r.create([0,1518500249,1859775393,2400959708,2840853838]),p=r.create([1352829926,1548603684,1836072691,2053994217,0]),h=s.RIPEMD160=o.extend({_doReset:function(){this._hash=r.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var i=t+n,r=e[i];e[i]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8)}var o,s,h,S,E,T,C,b,I,R,A,O=this._hash.words,w=d.words,x=p.words,P=a.words,N=l.words,D=c.words,M=u.words;for(T=o=O[0],C=s=O[1],b=h=O[2],I=S=O[3],R=E=O[4],n=0;n<80;n+=1)A=o+e[t+P[n]]|0,A+=n<16?m(s,h,S)+w[0]:n<32?f(s,h,S)+w[1]:n<48?g(s,h,S)+w[2]:n<64?v(s,h,S)+w[3]:_(s,h,S)+w[4],A=(A=y(A|=0,D[n]))+E|0,o=E,E=S,S=y(h,10),h=s,s=A,A=T+e[t+N[n]]|0,A+=n<16?_(C,b,I)+x[0]:n<32?v(C,b,I)+x[1]:n<48?g(C,b,I)+x[2]:n<64?f(C,b,I)+x[3]:m(C,b,I)+x[4],A=(A=y(A|=0,M[n]))+R|0,T=R,R=I,I=y(b,10),b=C,C=A;A=O[1]+h+I|0,O[1]=O[2]+S+R|0,O[2]=O[3]+E+T|0,O[3]=O[4]+o+C|0,O[4]=O[0]+s+b|0,O[0]=A},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,i=8*e.sigBytes;t[i>>>5]|=128<<24-i%32,t[14+(i+64>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),e.sigBytes=4*(t.length+1),this._process();for(var r=this._hash,o=r.words,s=0;s<5;s++){var a=o[s];o[s]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8)}return r},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});function m(e,t,n){return e^t^n}function f(e,t,n){return e&t|~e&n}function g(e,t,n){return(e|~t)^n}function v(e,t,n){return e&n|t&~n}function _(e,t,n){return e^(t|~n)}function y(e,t){return e<<t|e>>>32-t}t.RIPEMD160=o._createHelper(h),t.HmacRIPEMD160=o._createHmacHelper(h)}(Math),i.RIPEMD160)},2783:function(e,t,n){var i,r,o,s,a,l,c,u;e.exports=(r=(i=u=n(8249)).lib,o=r.WordArray,s=r.Hasher,a=i.algo,l=[],c=a.SHA1=s.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=this._hash.words,i=n[0],r=n[1],o=n[2],s=n[3],a=n[4],c=0;c<80;c++){if(c<16)l[c]=0|e[t+c];else{var u=l[c-3]^l[c-8]^l[c-14]^l[c-16];l[c]=u<<1|u>>>31}var d=(i<<5|i>>>27)+a+l[c];d+=c<20?1518500249+(r&o|~r&s):c<40?1859775393+(r^o^s):c<60?(r&o|r&s|o&s)-1894007588:(r^o^s)-899497514,a=s,s=o,o=r<<30|r>>>2,r=i,i=d}n[0]=n[0]+i|0,n[1]=n[1]+r|0,n[2]=n[2]+o|0,n[3]=n[3]+s|0,n[4]=n[4]+a|0},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,i=8*e.sigBytes;return t[i>>>5]|=128<<24-i%32,t[14+(i+64>>>9<<4)]=Math.floor(n/4294967296),t[15+(i+64>>>9<<4)]=n,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=s.clone.call(this);return e._hash=this._hash.clone(),e}}),i.SHA1=s._createHelper(c),i.HmacSHA1=s._createHmacHelper(c),u.SHA1)},7792:function(e,t,n){var i,r,o,s,a,l;e.exports=(l=n(8249),n(2153),r=(i=l).lib.WordArray,o=i.algo,s=o.SHA256,a=o.SHA224=s.extend({_doReset:function(){this._hash=new r.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var e=s._doFinalize.call(this);return e.sigBytes-=4,e}}),i.SHA224=s._createHelper(a),i.HmacSHA224=s._createHmacHelper(a),l.SHA224)},2153:function(e,t,n){var i;e.exports=(i=n(8249),function(e){var t=i,n=t.lib,r=n.WordArray,o=n.Hasher,s=t.algo,a=[],l=[];!function(){function t(t){for(var n=e.sqrt(t),i=2;i<=n;i++)if(!(t%i))return!1;return!0}function n(e){return 4294967296*(e-(0|e))|0}for(var i=2,r=0;r<64;)t(i)&&(r<8&&(a[r]=n(e.pow(i,.5))),l[r]=n(e.pow(i,1/3)),r++),i++}();var c=[],u=s.SHA256=o.extend({_doReset:function(){this._hash=new r.init(a.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,i=n[0],r=n[1],o=n[2],s=n[3],a=n[4],u=n[5],d=n[6],p=n[7],h=0;h<64;h++){if(h<16)c[h]=0|e[t+h];else{var m=c[h-15],f=(m<<25|m>>>7)^(m<<14|m>>>18)^m>>>3,g=c[h-2],v=(g<<15|g>>>17)^(g<<13|g>>>19)^g>>>10;c[h]=f+c[h-7]+v+c[h-16]}var _=i&r^i&o^r&o,y=(i<<30|i>>>2)^(i<<19|i>>>13)^(i<<10|i>>>22),S=p+((a<<26|a>>>6)^(a<<21|a>>>11)^(a<<7|a>>>25))+(a&u^~a&d)+l[h]+c[h];p=d,d=u,u=a,a=s+S|0,s=o,o=r,r=i,i=S+(y+_)|0}n[0]=n[0]+i|0,n[1]=n[1]+r|0,n[2]=n[2]+o|0,n[3]=n[3]+s|0,n[4]=n[4]+a|0,n[5]=n[5]+u|0,n[6]=n[6]+d|0,n[7]=n[7]+p|0},_doFinalize:function(){var t=this._data,n=t.words,i=8*this._nDataBytes,r=8*t.sigBytes;return n[r>>>5]|=128<<24-r%32,n[14+(r+64>>>9<<4)]=e.floor(i/4294967296),n[15+(r+64>>>9<<4)]=i,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=o._createHelper(u),t.HmacSHA256=o._createHmacHelper(u)}(Math),i.SHA256)},3327:function(e,t,n){var i;e.exports=(i=n(8249),n(4938),function(e){var t=i,n=t.lib,r=n.WordArray,o=n.Hasher,s=t.x64.Word,a=t.algo,l=[],c=[],u=[];!function(){for(var e=1,t=0,n=0;n<24;n++){l[e+5*t]=(n+1)*(n+2)/2%64;var i=(2*e+3*t)%5;e=t%5,t=i}for(e=0;e<5;e++)for(t=0;t<5;t++)c[e+5*t]=t+(2*e+3*t)%5*5;for(var r=1,o=0;o<24;o++){for(var a=0,d=0,p=0;p<7;p++){if(1&r){var h=(1<<p)-1;h<32?d^=1<<h:a^=1<<h-32}128&r?r=r<<1^113:r<<=1}u[o]=s.create(a,d)}}();var d=[];!function(){for(var e=0;e<25;e++)d[e]=s.create()}();var p=a.SHA3=o.extend({cfg:o.cfg.extend({outputLength:512}),_doReset:function(){for(var e=this._state=[],t=0;t<25;t++)e[t]=new s.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(e,t){for(var n=this._state,i=this.blockSize/2,r=0;r<i;r++){var o=e[t+2*r],s=e[t+2*r+1];o=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),s=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),(O=n[r]).high^=s,O.low^=o}for(var a=0;a<24;a++){for(var p=0;p<5;p++){for(var h=0,m=0,f=0;f<5;f++)h^=(O=n[p+5*f]).high,m^=O.low;var g=d[p];g.high=h,g.low=m}for(p=0;p<5;p++){var v=d[(p+4)%5],_=d[(p+1)%5],y=_.high,S=_.low;for(h=v.high^(y<<1|S>>>31),m=v.low^(S<<1|y>>>31),f=0;f<5;f++)(O=n[p+5*f]).high^=h,O.low^=m}for(var E=1;E<25;E++){var T=(O=n[E]).high,C=O.low,b=l[E];b<32?(h=T<<b|C>>>32-b,m=C<<b|T>>>32-b):(h=C<<b-32|T>>>64-b,m=T<<b-32|C>>>64-b);var I=d[c[E]];I.high=h,I.low=m}var R=d[0],A=n[0];for(R.high=A.high,R.low=A.low,p=0;p<5;p++)for(f=0;f<5;f++){var O=n[E=p+5*f],w=d[E],x=d[(p+1)%5+5*f],P=d[(p+2)%5+5*f];O.high=w.high^~x.high&P.high,O.low=w.low^~x.low&P.low}O=n[0];var N=u[a];O.high^=N.high,O.low^=N.low}},_doFinalize:function(){var t=this._data,n=t.words,i=(this._nDataBytes,8*t.sigBytes),o=32*this.blockSize;n[i>>>5]|=1<<24-i%32,n[(e.ceil((i+1)/o)*o>>>5)-1]|=128,t.sigBytes=4*n.length,this._process();for(var s=this._state,a=this.cfg.outputLength/8,l=a/8,c=[],u=0;u<l;u++){var d=s[u],p=d.high,h=d.low;p=16711935&(p<<8|p>>>24)|4278255360&(p<<24|p>>>8),h=16711935&(h<<8|h>>>24)|4278255360&(h<<24|h>>>8),c.push(h),c.push(p)}return new r.init(c,a)},clone:function(){for(var e=o.clone.call(this),t=e._state=this._state.slice(0),n=0;n<25;n++)t[n]=t[n].clone();return e}});t.SHA3=o._createHelper(p),t.HmacSHA3=o._createHmacHelper(p)}(Math),i.SHA3)},7460:function(e,t,n){var i,r,o,s,a,l,c,u;e.exports=(u=n(8249),n(4938),n(34),r=(i=u).x64,o=r.Word,s=r.WordArray,a=i.algo,l=a.SHA512,c=a.SHA384=l.extend({_doReset:function(){this._hash=new s.init([new o.init(3418070365,3238371032),new o.init(1654270250,914150663),new o.init(2438529370,812702999),new o.init(355462360,4144912697),new o.init(1731405415,4290775857),new o.init(2394180231,1750603025),new o.init(3675008525,1694076839),new o.init(1203062813,3204075428)])},_doFinalize:function(){var e=l._doFinalize.call(this);return e.sigBytes-=16,e}}),i.SHA384=l._createHelper(c),i.HmacSHA384=l._createHmacHelper(c),u.SHA384)},34:function(e,t,n){var i;e.exports=(i=n(8249),n(4938),function(){var e=i,t=e.lib.Hasher,n=e.x64,r=n.Word,o=n.WordArray,s=e.algo;function a(){return r.create.apply(r,arguments)}var l=[a(1116352408,3609767458),a(1899447441,602891725),a(3049323471,3964484399),a(3921009573,2173295548),a(961987163,4081628472),a(1508970993,3053834265),a(2453635748,2937671579),a(2870763221,3664609560),a(3624381080,2734883394),a(310598401,1164996542),a(607225278,1323610764),a(1426881987,3590304994),a(1925078388,4068182383),a(2162078206,991336113),a(2614888103,633803317),a(3248222580,3479774868),a(3835390401,2666613458),a(4022224774,944711139),a(264347078,2341262773),a(604807628,2007800933),a(770255983,1495990901),a(1249150122,1856431235),a(1555081692,3175218132),a(1996064986,2198950837),a(2554220882,3999719339),a(2821834349,766784016),a(2952996808,2566594879),a(3210313671,3203337956),a(3336571891,1034457026),a(3584528711,2466948901),a(113926993,3758326383),a(338241895,168717936),a(666307205,1188179964),a(773529912,1546045734),a(1294757372,1522805485),a(1396182291,2643833823),a(1695183700,2343527390),a(1986661051,1014477480),a(2177026350,1206759142),a(2456956037,344077627),a(2730485921,1290863460),a(2820302411,3158454273),a(3259730800,3505952657),a(3345764771,106217008),a(3516065817,3606008344),a(3600352804,1432725776),a(4094571909,1467031594),a(275423344,851169720),a(430227734,3100823752),a(506948616,1363258195),a(659060556,3750685593),a(883997877,3785050280),a(958139571,3318307427),a(1322822218,3812723403),a(1537002063,2003034995),a(1747873779,3602036899),a(1955562222,1575990012),a(2024104815,1125592928),a(2227730452,2716904306),a(2361852424,442776044),a(2428436474,593698344),a(2756734187,3733110249),a(3204031479,2999351573),a(3329325298,3815920427),a(3391569614,3928383900),a(3515267271,566280711),a(3940187606,3454069534),a(4118630271,4000239992),a(116418474,1914138554),a(174292421,2731055270),a(289380356,3203993006),a(460393269,320620315),a(685471733,587496836),a(852142971,1086792851),a(1017036298,365543100),a(1126000580,2618297676),a(1288033470,3409855158),a(1501505948,4234509866),a(1607167915,987167468),a(1816402316,1246189591)],c=[];!function(){for(var e=0;e<80;e++)c[e]=a()}();var u=s.SHA512=t.extend({_doReset:function(){this._hash=new o.init([new r.init(1779033703,4089235720),new r.init(3144134277,2227873595),new r.init(1013904242,4271175723),new r.init(2773480762,1595750129),new r.init(1359893119,2917565137),new r.init(2600822924,725511199),new r.init(528734635,4215389547),new r.init(1541459225,327033209)])},_doProcessBlock:function(e,t){for(var n=this._hash.words,i=n[0],r=n[1],o=n[2],s=n[3],a=n[4],u=n[5],d=n[6],p=n[7],h=i.high,m=i.low,f=r.high,g=r.low,v=o.high,_=o.low,y=s.high,S=s.low,E=a.high,T=a.low,C=u.high,b=u.low,I=d.high,R=d.low,A=p.high,O=p.low,w=h,x=m,P=f,N=g,D=v,M=_,k=y,L=S,B=E,q=T,F=C,U=b,j=I,z=R,H=A,V=O,G=0;G<80;G++){var W,$,K=c[G];if(G<16)$=K.high=0|e[t+2*G],W=K.low=0|e[t+2*G+1];else{var X=c[G-15],Y=X.high,Q=X.low,J=(Y>>>1|Q<<31)^(Y>>>8|Q<<24)^Y>>>7,Z=(Q>>>1|Y<<31)^(Q>>>8|Y<<24)^(Q>>>7|Y<<25),ee=c[G-2],te=ee.high,ne=ee.low,ie=(te>>>19|ne<<13)^(te<<3|ne>>>29)^te>>>6,re=(ne>>>19|te<<13)^(ne<<3|te>>>29)^(ne>>>6|te<<26),oe=c[G-7],se=oe.high,ae=oe.low,le=c[G-16],ce=le.high,ue=le.low;$=($=($=J+se+((W=Z+ae)>>>0<Z>>>0?1:0))+ie+((W+=re)>>>0<re>>>0?1:0))+ce+((W+=ue)>>>0<ue>>>0?1:0),K.high=$,K.low=W}var de,pe=B&F^~B&j,he=q&U^~q&z,me=w&P^w&D^P&D,fe=x&N^x&M^N&M,ge=(w>>>28|x<<4)^(w<<30|x>>>2)^(w<<25|x>>>7),ve=(x>>>28|w<<4)^(x<<30|w>>>2)^(x<<25|w>>>7),_e=(B>>>14|q<<18)^(B>>>18|q<<14)^(B<<23|q>>>9),ye=(q>>>14|B<<18)^(q>>>18|B<<14)^(q<<23|B>>>9),Se=l[G],Ee=Se.high,Te=Se.low,Ce=H+_e+((de=V+ye)>>>0<V>>>0?1:0),be=ve+fe;H=j,V=z,j=F,z=U,F=B,U=q,B=k+(Ce=(Ce=(Ce=Ce+pe+((de+=he)>>>0<he>>>0?1:0))+Ee+((de+=Te)>>>0<Te>>>0?1:0))+$+((de+=W)>>>0<W>>>0?1:0))+((q=L+de|0)>>>0<L>>>0?1:0)|0,k=D,L=M,D=P,M=N,P=w,N=x,w=Ce+(ge+me+(be>>>0<ve>>>0?1:0))+((x=de+be|0)>>>0<de>>>0?1:0)|0}m=i.low=m+x,i.high=h+w+(m>>>0<x>>>0?1:0),g=r.low=g+N,r.high=f+P+(g>>>0<N>>>0?1:0),_=o.low=_+M,o.high=v+D+(_>>>0<M>>>0?1:0),S=s.low=S+L,s.high=y+k+(S>>>0<L>>>0?1:0),T=a.low=T+q,a.high=E+B+(T>>>0<q>>>0?1:0),b=u.low=b+U,u.high=C+F+(b>>>0<U>>>0?1:0),R=d.low=R+z,d.high=I+j+(R>>>0<z>>>0?1:0),O=p.low=O+V,p.high=A+H+(O>>>0<V>>>0?1:0)},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,i=8*e.sigBytes;return t[i>>>5]|=128<<24-i%32,t[30+(i+128>>>10<<5)]=Math.floor(n/4294967296),t[31+(i+128>>>10<<5)]=n,e.sigBytes=4*t.length,this._process(),this._hash.toX32()},clone:function(){var e=t.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:32});e.SHA512=t._createHelper(u),e.HmacSHA512=t._createHmacHelper(u)}(),i.SHA512)},4253:function(e,t,n){var i;e.exports=(i=n(8249),n(8269),n(8214),n(888),n(5109),function(){var e=i,t=e.lib,n=t.WordArray,r=t.BlockCipher,o=e.algo,s=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],a=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],l=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],c=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],u=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],d=o.DES=r.extend({_doReset:function(){for(var e=this._key.words,t=[],n=0;n<56;n++){var i=s[n]-1;t[n]=e[i>>>5]>>>31-i%32&1}for(var r=this._subKeys=[],o=0;o<16;o++){var c=r[o]=[],u=l[o];for(n=0;n<24;n++)c[n/6|0]|=t[(a[n]-1+u)%28]<<31-n%6,c[4+(n/6|0)]|=t[28+(a[n+24]-1+u)%28]<<31-n%6;for(c[0]=c[0]<<1|c[0]>>>31,n=1;n<7;n++)c[n]=c[n]>>>4*(n-1)+3;c[7]=c[7]<<5|c[7]>>>27}var d=this._invSubKeys=[];for(n=0;n<16;n++)d[n]=r[15-n]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._subKeys)},decryptBlock:function(e,t){this._doCryptBlock(e,t,this._invSubKeys)},_doCryptBlock:function(e,t,n){this._lBlock=e[t],this._rBlock=e[t+1],p.call(this,4,252645135),p.call(this,16,65535),h.call(this,2,858993459),h.call(this,8,16711935),p.call(this,1,1431655765);for(var i=0;i<16;i++){for(var r=n[i],o=this._lBlock,s=this._rBlock,a=0,l=0;l<8;l++)a|=c[l][((s^r[l])&u[l])>>>0];this._lBlock=s,this._rBlock=o^a}var d=this._lBlock;this._lBlock=this._rBlock,this._rBlock=d,p.call(this,1,1431655765),h.call(this,8,16711935),h.call(this,2,858993459),p.call(this,16,65535),p.call(this,4,252645135),e[t]=this._lBlock,e[t+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function p(e,t){var n=(this._lBlock>>>e^this._rBlock)&t;this._rBlock^=n,this._lBlock^=n<<e}function h(e,t){var n=(this._rBlock>>>e^this._lBlock)&t;this._lBlock^=n,this._rBlock^=n<<e}e.DES=r._createHelper(d);var m=o.TripleDES=r.extend({_doReset:function(){var e=this._key.words;if(2!==e.length&&4!==e.length&&e.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var t=e.slice(0,2),i=e.length<4?e.slice(0,2):e.slice(2,4),r=e.length<6?e.slice(0,2):e.slice(4,6);this._des1=d.createEncryptor(n.create(t)),this._des2=d.createEncryptor(n.create(i)),this._des3=d.createEncryptor(n.create(r))},encryptBlock:function(e,t){this._des1.encryptBlock(e,t),this._des2.decryptBlock(e,t),this._des3.encryptBlock(e,t)},decryptBlock:function(e,t){this._des3.decryptBlock(e,t),this._des2.encryptBlock(e,t),this._des1.decryptBlock(e,t)},keySize:6,ivSize:2,blockSize:2});e.TripleDES=r._createHelper(m)}(),i.TripleDES)},4938:function(e,t,n){var i,r,o,s,a,l;e.exports=(i=n(8249),o=(r=i).lib,s=o.Base,a=o.WordArray,(l=r.x64={}).Word=s.extend({init:function(e,t){this.high=e,this.low=t}}),l.WordArray=s.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:8*e.length},toX32:function(){for(var e=this.words,t=e.length,n=[],i=0;i<t;i++){var r=e[i];n.push(r.high),n.push(r.low)}return a.create(n,this.sigBytes)},clone:function(){for(var e=s.clone.call(this),t=e.words=this.words.slice(0),n=t.length,i=0;i<n;i++)t[i]=t[i].clone();return e}}),i)},9293:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.c2p=void 0;const i=n(9690);t.c2p={asConnectionParams:function(e,t){return{ownerUri:e,connection:{options:t.options}}},asExecutionPlanOptions:function(e){return{includeEstimatedExecutionPlanXml:e?e.displayEstimatedQueryPlan:void 0,includeActualExecutionPlanXml:e?e.displayActualQueryPlan:void 0}},asScriptingParams:function(e,t,n,r){let o={type:n.metadataTypeName,schema:n.schema,name:n.name},s=r.targetDatabaseEngineEdition,a=r.targetDatabaseEngineType,l=r.scriptCompatibilityOption,c={scriptCreateDrop:t===i.ScriptOperation.Delete?"ScriptDrop":t===i.ScriptOperation.Select?"ScriptSelect":"ScriptCreate",typeOfDataToScript:"SchemaOnly",scriptStatistics:"ScriptStatsNone",targetDatabaseEngineEdition:s||"SqlServerEnterpriseEdition",targetDatabaseEngineType:a||"SingleInstance",scriptCompatibilityOption:l||"Script140Compat"};return{connectionString:null,filePath:r.filePath,scriptingObjects:[o],scriptDestination:"ToEditor",includeObjectCriteria:null,excludeObjectCriteria:null,includeSchemas:null,excludeSchemas:null,includeTypes:null,excludeTypes:null,scriptOptions:c,connectionDetails:null,selectScript:null,ownerURI:e,operation:t}}}},5868:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SqlOpsDataClient=t.FileBrowserFeature=t.TaskServicesFeature=t.ScriptingFeature=t.ObjectExplorerFeature=t.RestoreFeature=t.BackupFeature=t.AdminServicesFeature=t.MetadataFeature=t.QueryFeature=t.ConnectionFeature=t.CapabilitiesFeature=t.SqlOpsFeature=void 0;const i=n(3056),r=n(2097),o=n(2884),s=n(9690),a=n(9293),l=n(632),c=n(4003);function u(e,t){return void 0===e[t]&&(e[t]={}),e[t]}class d{constructor(e,t){this._client=e,this._message=t,this._providers=new Map}get messages(){return this._message}register(e,t){if(r.array(this.messages)&&r.array(e)){if(!e.every((e=>!!this.messages.find((t=>t.method===e.method)))))throw new Error("Register called on wrong feature.")}else if(r.array(this.messages)&&!r.array(e)){if(!this.messages.find((t=>t.method===e.method)))throw new Error("Register called on wrong feature.")}else if(!r.array(this.messages)&&!r.array(e)&&this.messages.method!==e.method)throw new Error(`Register called on wrong feature. Requested ${e.method} but reached feature ${this.messages.method}`);let n=this.registerProvider(t.registerOptions);n&&this._providers.set(t.id,n)}unregister(e){let t=this._providers.get(e);t&&t.dispose()}dispose(){this._providers.forEach((e=>{e.dispose()}))}}t.SqlOpsFeature=d;class p extends d{constructor(e){super(e,p.messagesTypes)}fillClientCapabilities(e){u(u(e,"connection"),"capabilities").dynamicRegistration=!0}initialize(e){this.register(this.messages,{id:o.generateUuid(),registerOptions:void 0})}registerProvider(e){const t=this._client;return s.dataprotocol.registerCapabilitiesServiceProvider({providerId:t.providerId,getServerCapabilities:e=>t.sendRequest(l.CapabiltiesDiscoveryRequest.type,e).then(t.sqlp2c.asServerCapabilities,(e=>(t.logFailedRequest(l.CapabiltiesDiscoveryRequest.type,e),Promise.resolve(void 0))))})}}t.CapabilitiesFeature=p,p.messagesTypes=[l.CapabiltiesDiscoveryRequest.type];class h extends d{constructor(e){super(e,h.messagesTypes)}fillClientCapabilities(e){u(u(e,"connection"),"connection").dynamicRegistration=!0}initialize(e){this.register(this.messages,{id:o.generateUuid(),registerOptions:void 0})}registerProvider(e){const t=this._client;return s.dataprotocol.onDidChangeLanguageFlavor((e=>{t.sendNotification(l.LanguageFlavorChangedNotification.type,e)})),s.dataprotocol.registerConnectionProvider({providerId:t.providerId,connect:(e,n)=>t.sendRequest(l.ConnectionRequest.type,t.sqlc2p.asConnectionParams(e,n)).then((e=>e),(e=>(t.logFailedRequest(l.ConnectionRequest.type,e),Promise.resolve(!1)))),disconnect:e=>{let n={ownerUri:e};return t.sendRequest(l.DisconnectRequest.type,n).then((e=>e),(e=>(t.logFailedRequest(l.DisconnectRequest.type,e),Promise.resolve(!1))))},cancelConnect:e=>{let n={ownerUri:e};return t.sendRequest(l.CancelConnectRequest.type,n).then((e=>e),(e=>(t.logFailedRequest(l.CancelConnectRequest.type,e),Promise.resolve(!1))))},changeDatabase:(e,n)=>{let i={ownerUri:e,newDatabase:n};return t.sendRequest(l.ChangeDatabaseRequest.type,i).then((e=>e),(e=>(t.logFailedRequest(l.ChangeDatabaseRequest.type,e),Promise.resolve(!1))))},listDatabases:e=>{let n={ownerUri:e};return t.sendRequest(l.ListDatabasesRequest.type,n).then((e=>e),(e=>(t.logFailedRequest(l.ListDatabasesRequest.type,e),Promise.resolve(void 0))))},getConnectionString:(e,n)=>{let i={ownerUri:e,includePassword:n};return t.sendRequest(l.GetConnectionStringRequest.type,i).then((e=>e),(e=>(t.logFailedRequest(l.GetConnectionStringRequest.type,e),Promise.resolve(void 0))))},buildConnectionInfo:e=>t.sendRequest(l.BuildConnectionInfoRequest.type,e).then((e=>e),(e=>(t.logFailedRequest(l.BuildConnectionInfoRequest.type,e),Promise.resolve(e)))),rebuildIntelliSenseCache:e=>{let n={ownerUri:e};return t.sendNotification(l.RebuildIntelliSenseNotification.type,n),Promise.resolve()},registerOnConnectionChanged:e=>{t.onNotification(l.ConnectionChangedNotification.type,(t=>{e({connectionUri:t.ownerUri,connection:t.connection})}))},registerOnIntelliSenseCacheComplete:e=>{t.onNotification(l.IntelliSenseReadyNotification.type,(t=>{e(t.ownerUri)}))},registerOnConnectionComplete:e=>{t.onNotification(l.ConnectionCompleteNotification.type,e)}})}}t.ConnectionFeature=h,h.messagesTypes=[l.ConnectionRequest.type,l.ConnectionCompleteNotification.type,l.ConnectionChangedNotification.type,l.DisconnectRequest.type,l.CancelConnectRequest.type,l.ChangeDatabaseRequest.type,l.ListDatabasesRequest.type,l.GetConnectionStringRequest.type,l.LanguageFlavorChangedNotification.type];class m extends d{constructor(e){super(e,m.messagesTypes)}fillClientCapabilities(e){u(u(e,"connection"),"query").dynamicRegistration=!0}initialize(e){this.register(this.messages,{id:o.generateUuid(),registerOptions:void 0})}registerProvider(e){const t=this._client;return s.dataprotocol.registerQueryProvider({providerId:t.providerId,cancelQuery:e=>{let n={ownerUri:e};return t.sendRequest(l.QueryCancelRequest.type,n).then((e=>e),(e=>(t.logFailedRequest(l.QueryCancelRequest.type,e),Promise.reject(e))))},commitEdit:e=>{let n={ownerUri:e};return t.sendRequest(l.EditCommitRequest.type,n).then((e=>{}),(e=>(t.logFailedRequest(l.EditCommitRequest.type,e),Promise.reject(e))))},createRow:e=>{let n={ownerUri:e};return t.sendRequest(l.EditCreateRowRequest.type,n).then((e=>e),(e=>(t.logFailedRequest(l.EditCreateRowRequest.type,e),Promise.reject(e))))},deleteRow:(e,n)=>{let i={ownerUri:e,rowId:n};return t.sendRequest(l.EditDeleteRowRequest.type,i).then((e=>{}),(e=>(t.logFailedRequest(l.EditDeleteRowRequest.type,e),Promise.reject(e))))},disposeEdit:e=>{let n={ownerUri:e};return t.sendRequest(l.EditDisposeRequest.type,n).then((e=>{}),(e=>(t.logFailedRequest(l.EditDisposeRequest.type,e),Promise.reject(e))))},disposeQuery:e=>{let n={ownerUri:e};return t.sendRequest(l.QueryDisposeRequest.type,n).then((e=>{}),(e=>(t.logFailedRequest(l.QueryDisposeRequest.type,e),Promise.reject(e))))},getEditRows:e=>t.sendRequest(l.EditSubsetRequest.type,e).then((e=>e),(e=>(t.logFailedRequest(l.EditSubsetRequest.type,e),Promise.reject(e)))),getQueryRows:e=>t.sendRequest(l.QueryExecuteSubsetRequest.type,e).then((e=>e),(e=>(t.logFailedRequest(l.QueryExecuteSubsetRequest.type,e),Promise.reject(e)))),setQueryExecutionOptions:(e,n)=>{let i={ownerUri:e,options:n};return t.sendRequest(l.QueryExecutionOptionsRequest.type,i).then((e=>{}),(e=>(t.logFailedRequest(l.QueryExecutionOptionsRequest.type,e),Promise.reject(e))))},initializeEdit:(e,n,i,r,o,s)=>{let a={ownerUri:e,schemaName:n,objectName:i,objectType:r,filters:{LimitResults:o},queryString:s};return t.sendRequest(l.EditInitializeRequest.type,a).then((e=>{}),(e=>(t.logFailedRequest(l.EditInitializeRequest.type,e),Promise.reject(e))))},registerOnBatchComplete:e=>{t.onNotification(l.QueryExecuteBatchCompleteNotification.type,e)},registerOnBatchStart:e=>{t.onNotification(l.QueryExecuteBatchStartNotification.type,e)},registerOnEditSessionReady:e=>{t.onNotification(l.EditSessionReadyNotification.type,(t=>{e(t.ownerUri,t.success,t.message)}))},registerOnMessage:e=>{t.onNotification(l.QueryExecuteMessageNotification.type,e)},registerOnQueryComplete:e=>{t.onNotification(l.QueryExecuteCompleteNotification.type,e)},registerOnResultSetAvailable:e=>{t.onNotification(l.QueryExecuteResultSetAvailableNotification.type,e)},registerOnResultSetUpdated:e=>{t.onNotification(l.QueryExecuteResultSetUpdatedNotification.type,e)},revertCell:(e,n,i)=>{let r={ownerUri:e,rowId:n,columnId:i};return t.sendRequest(l.EditRevertCellRequest.type,r).then((e=>e),(e=>(t.logFailedRequest(l.EditRevertCellRequest.type,e),Promise.reject(e))))},revertRow:(e,n)=>{let i={ownerUri:e,rowId:n};return t.sendRequest(l.EditRevertRowRequest.type,i).then((e=>{}),(e=>(t.logFailedRequest(l.EditRevertRowRequest.type,e),Promise.reject(e))))},runQuery:(e,n,i)=>{let r={ownerUri:e,querySelection:n,executionPlanOptions:t.sqlc2p.asExecutionPlanOptions(i)};return t.sendRequest(l.QueryExecuteRequest.type,r).then((e=>{}),(e=>(t.logFailedRequest(l.QueryExecuteRequest.type,e),Promise.reject(e))))},runQueryAndReturn:(e,n)=>{let i={ownerUri:e,queryString:n};return t.sendRequest(l.SimpleExecuteRequest.type,i).then((e=>e),(e=>(t.logFailedRequest(l.SimpleExecuteRequest.type,e),Promise.reject(e))))},parseSyntax:(e,n)=>{let i={ownerUri:e,query:n};return t.sendRequest(l.SyntaxParseRequest.type,i).then((e=>e),(e=>(t.logFailedRequest(l.SyntaxParseRequest.type,e),Promise.reject(e))))},runQueryStatement:(e,n,i)=>{let r={ownerUri:e,line:n,column:i};return t.sendRequest(l.QueryExecuteStatementRequest.type,r).then((e=>{}),(e=>(t.logFailedRequest(l.QueryExecuteStatementRequest.type,e),Promise.reject(e))))},runQueryString:(e,n)=>{let i={ownerUri:e,query:n};return t.sendRequest(l.QueryExecuteStringRequest.type,i).then((e=>{}),(e=>(t.logFailedRequest(l.QueryExecuteStringRequest.type,e),Promise.reject(e))))},saveResults:e=>{switch(e.resultFormat){case"csv":return t.sendRequest(l.SaveResultsAsCsvRequest.type,e).then(void 0,(e=>(t.logFailedRequest(l.SaveResultsAsCsvRequest.type,e),Promise.reject(e))));case"json":return t.sendRequest(l.SaveResultsAsJsonRequest.type,e).then(void 0,(e=>(t.logFailedRequest(l.SaveResultsAsJsonRequest.type,e),Promise.reject(e))));case"excel":return t.sendRequest(l.SaveResultsAsExcelRequest.type,e).then(void 0,(e=>(t.logFailedRequest(l.SaveResultsAsExcelRequest.type,e),Promise.reject(e))));case"xml":return t.sendRequest(l.SaveResultsAsXmlRequest.type,e).then(void 0,(e=>(t.logFailedRequest(l.SaveResultsAsXmlRequest.type,e),Promise.reject(e))));default:return Promise.reject("unsupported format")}},updateCell:(e,n,i,r)=>{let o={ownerUri:e,rowId:n,columnId:i,newValue:r};return t.sendRequest(l.EditUpdateCellRequest.type,o).then((e=>e),(e=>(t.logFailedRequest(l.EditUpdateCellRequest.type,e),Promise.reject(e))))}})}}t.QueryFeature=m,m.messagesTypes=[l.QueryExecuteRequest.type,l.QueryCancelRequest.type,l.QueryExecuteStatementRequest.type,l.QueryExecuteStringRequest.type,l.SimpleExecuteRequest.type,l.QueryExecuteSubsetRequest.type,l.QueryDisposeRequest.type,l.QueryExecuteCompleteNotification.type,l.QueryExecuteBatchStartNotification.type,l.QueryExecuteBatchCompleteNotification.type,l.QueryExecuteResultSetAvailableNotification.type,l.QueryExecuteResultSetUpdatedNotification.type,l.QueryExecuteMessageNotification.type,l.QueryExecutionOptionsRequest.type,l.SaveResultsAsCsvRequest.type,l.SaveResultsAsJsonRequest.type,l.SaveResultsAsExcelRequest.type,l.SaveResultsAsXmlRequest.type,l.EditCommitRequest.type,l.EditCreateRowRequest.type,l.EditDeleteRowRequest.type,l.EditDisposeRequest.type,l.EditInitializeRequest.type,l.EditRevertCellRequest.type,l.EditRevertRowRequest.type,l.EditUpdateCellRequest.type,l.EditSubsetRequest.type,l.EditSessionReadyNotification.type];class f extends d{constructor(e){super(e,f.messagesTypes)}fillClientCapabilities(e){u(u(e,"connection"),"metadata").dynamicRegistration=!0}initialize(e){this.register(this.messages,{id:o.generateUuid(),registerOptions:void 0})}registerProvider(e){const t=this._client;return s.dataprotocol.registerMetadataProvider({providerId:t.providerId,getDatabases:e=>{let n={ownerUri:e,includeDetails:!0};return t.sendRequest(l.ListDatabasesRequest.type,n).then((e=>e.databaseNames?e.databaseNames:e.databases),(e=>(t.logFailedRequest(l.ListDatabasesRequest.type,e),Promise.resolve(void 0))))},getMetadata:e=>{let n={ownerUri:e};return t.sendRequest(l.MetadataQueryRequest.type,n).then(t.sqlp2c.asProviderMetadata,(e=>(t.logFailedRequest(l.MetadataQueryRequest.type,e),Promise.resolve(void 0))))},getTableInfo:(e,n)=>{let i={objectName:n.name,ownerUri:e,schema:n.schema};return t.sendRequest(l.TableMetadataRequest.type,i).then((e=>e.columns),(e=>(t.logFailedRequest(l.TableMetadataRequest.type,e),Promise.resolve(void 0))))},getViewInfo:(e,n)=>{let i={objectName:n.name,ownerUri:e,schema:n.schema};return t.sendRequest(l.ViewMetadataRequest.type,i).then((e=>e.columns),(e=>(t.logFailedRequest(l.ViewMetadataRequest.type,e),Promise.resolve(void 0))))}})}}t.MetadataFeature=f,f.messagesTypes=[l.MetadataQueryRequest.type,l.ListDatabasesRequest.type,l.TableMetadataRequest.type,l.ViewMetadataRequest.type];class g extends d{constructor(e){super(e,g.messagesTypes)}fillClientCapabilities(e){u(u(e,"connection"),"adminServices").dynamicRegistration=!0}initialize(e){this.register(this.messages,{id:o.generateUuid(),registerOptions:void 0})}registerProvider(e){const t=this._client;return s.dataprotocol.registerAdminServicesProvider({providerId:t.providerId,createDatabase:(e,n)=>{let i={ownerUri:e,databaseInfo:n};return t.sendRequest(l.CreateDatabaseRequest.type,i).then((e=>e),(e=>(t.logFailedRequest(l.CreateDatabaseRequest.type,e),Promise.resolve(void 0))))},createLogin:(e,n)=>{let i={ownerUri:e,loginInfo:n};return t.sendRequest(l.CreateLoginRequest.type,i).then((e=>e),(e=>(t.logFailedRequest(l.CreateLoginRequest.type,e),Promise.resolve(void 0))))},getDatabaseInfo:e=>{let n={ownerUri:e};return t.sendRequest(l.GetDatabaseInfoRequest.type,n).then((e=>e.databaseInfo),(e=>(t.logFailedRequest(l.GetDatabaseInfoRequest.type,e),Promise.reject(e))))},getDefaultDatabaseInfo:e=>{let n={ownerUri:e};return t.sendRequest(l.DefaultDatabaseInfoRequest.type,n).then((e=>e.defaultDatabaseInfo),(e=>(t.logFailedRequest(l.DefaultDatabaseInfoRequest.type,e),Promise.resolve(void 0))))}})}}t.AdminServicesFeature=g,g.messagesTypes=[l.CreateDatabaseRequest.type,l.DefaultDatabaseInfoRequest.type,l.GetDatabaseInfoRequest.type,l.CreateLoginRequest.type];class v extends d{constructor(e){super(e,v.messagesTypes)}fillClientCapabilities(e){u(u(e,"connection"),"backup").dynamicRegistration=!0}initialize(e){this.register(this.messages,{id:o.generateUuid(),registerOptions:void 0})}registerProvider(e){const t=this._client;return s.dataprotocol.registerBackupProvider({providerId:t.providerId,backup:(e,n,i)=>{let r={ownerUri:e,backupInfo:n,taskExecutionMode:i};return t.sendRequest(l.BackupRequest.type,r).then((e=>e),(e=>(t.logFailedRequest(l.BackupRequest.type,e),Promise.resolve(void 0))))},getBackupConfigInfo:e=>{let n={ownerUri:e};return t.sendRequest(l.BackupConfigInfoRequest.type,n).then((e=>e.backupConfigInfo),(e=>(t.logFailedRequest(l.BackupConfigInfoRequest.type,e),Promise.resolve(void 0))))}})}}t.BackupFeature=v,v.messagesTypes=[l.BackupRequest.type,l.BackupConfigInfoRequest.type];class _ extends d{constructor(e){super(e,_.messagesTypes)}fillClientCapabilities(e){u(u(e,"connection"),"restore").dynamicRegistration=!0}initialize(e){this.register(this.messages,{id:o.generateUuid(),registerOptions:void 0})}registerProvider(e){const t=this._client;return s.dataprotocol.registerRestoreProvider({providerId:t.providerId,cancelRestorePlan:(e,n)=>{let i={options:n.options,ownerUri:e,taskExecutionMode:n.taskExecutionMode};return t.sendRequest(l.CancelRestorePlanRequest.type,i).then((e=>e),(e=>(t.logFailedRequest(l.CancelRestorePlanRequest.type,e),Promise.resolve(void 0))))},getRestoreConfigInfo:e=>{let n={ownerUri:e};return t.sendRequest(l.RestoreConfigInfoRequest.type,n).then((e=>e),(e=>(t.logFailedRequest(l.RestoreConfigInfoRequest.type,e),Promise.resolve(void 0))))},getRestorePlan:(e,n)=>{let i={options:n.options,ownerUri:e,taskExecutionMode:n.taskExecutionMode};return t.sendRequest(l.RestorePlanRequest.type,i).then((e=>e),(e=>(t.logFailedRequest(l.RestorePlanRequest.type,e),Promise.resolve(void 0))))},restore:(e,n)=>{let i={options:n.options,ownerUri:e,taskExecutionMode:n.taskExecutionMode};return t.sendRequest(l.RestoreRequest.type,i).then((e=>e),(e=>(t.logFailedRequest(l.RestoreRequest.type,e),Promise.resolve(void 0))))}})}}t.RestoreFeature=_,_.messagesTypes=[l.RestorePlanRequest.type,l.RestoreRequest.type,l.RestoreConfigInfoRequest.type,l.CancelRestorePlanRequest.type];class y extends d{constructor(e){super(e,y.messagesTypes)}fillClientCapabilities(e){u(u(e,"connection"),"objectExplorer").dynamicRegistration=!0}initialize(e){this.register(this.messages,{id:o.generateUuid(),registerOptions:void 0})}registerProvider(e){const t=this._client;return s.dataprotocol.registerObjectExplorerProvider({providerId:t.providerId,closeSession:e=>t.sendRequest(l.ObjectExplorerCloseSessionRequest.type,e).then((e=>e),(e=>(t.logFailedRequest(l.ObjectExplorerCloseSessionRequest.type,e),Promise.resolve(void 0)))),createNewSession:e=>t.sendRequest(l.ObjectExplorerCreateSessionRequest.type,e).then((e=>e),(e=>(t.logFailedRequest(l.ObjectExplorerCreateSessionRequest.type,e),Promise.resolve(void 0)))),expandNode:e=>t.sendRequest(l.ObjectExplorerExpandRequest.type,e).then((e=>e),(e=>(t.logFailedRequest(l.ObjectExplorerExpandRequest.type,e),Promise.resolve(void 0)))),refreshNode:e=>t.sendRequest(l.ObjectExplorerRefreshRequest.type,e).then((e=>e),(e=>(t.logFailedRequest(l.ObjectExplorerRefreshRequest.type,e),Promise.resolve(void 0)))),findNodes:e=>t.sendRequest(l.ObjectExplorerFindNodesRequest.type,e).then((e=>e),(e=>(t.logFailedRequest(l.ObjectExplorerFindNodesRequest.type,e),Promise.resolve(void 0)))),registerOnExpandCompleted:e=>{t.onNotification(l.ObjectExplorerExpandCompleteNotification.type,e)},registerOnSessionCreated:e=>{t.onNotification(l.ObjectExplorerCreateSessionCompleteNotification.type,e)},registerOnSessionDisconnected:e=>{t.onNotification(l.ObjectExplorerSessionDisconnectedNotification.type,e)}})}}t.ObjectExplorerFeature=y,y.messagesTypes=[l.ObjectExplorerCreateSessionRequest.type,l.ObjectExplorerExpandRequest.type,l.ObjectExplorerRefreshRequest.type,l.ObjectExplorerCloseSessionRequest.type,l.ObjectExplorerCreateSessionCompleteNotification.type,l.ObjectExplorerExpandCompleteNotification.type,l.ObjectExplorerFindNodesRequest.type];class S extends d{constructor(e){super(e,S.messagesTypes)}fillClientCapabilities(e){u(u(e,"connection"),"scripting").dynamicRegistration=!0}initialize(e){this.register(this.messages,{id:o.generateUuid(),registerOptions:void 0})}registerProvider(e){const t=this._client;return s.dataprotocol.registerScriptingProvider({providerId:t.providerId,registerOnScriptingComplete:e=>{t.onNotification(l.ScriptingCompleteNotification.type,e)},scriptAsOperation:(e,n,i,r)=>t.sendRequest(l.ScriptingRequest.type,t.sqlc2p.asScriptingParams(e,n,i,r)).then((e=>e),(e=>(t.logFailedRequest(l.ScriptingRequest.type,e),Promise.resolve(void 0))))})}}t.ScriptingFeature=S,S.messagesTypes=[l.ScriptingRequest.type,l.ScriptingCompleteNotification.type];class E extends d{constructor(e){super(e,E.messagesTypes)}fillClientCapabilities(e){u(u(e,"connection"),"taskServices").dynamicRegistration=!0}initialize(e){this.register(this.messages,{id:o.generateUuid(),registerOptions:void 0})}registerProvider(e){const t=this._client;return s.dataprotocol.registerTaskServicesProvider({providerId:t.providerId,cancelTask:e=>t.sendRequest(l.CancelTaskRequest.type,e).then((e=>e),(e=>(t.logFailedRequest(l.CancelTaskRequest.type,e),Promise.resolve(void 0)))),getAllTasks:e=>t.sendRequest(l.ListTasksRequest.type,e).then((e=>e),(e=>(t.logFailedRequest(l.ListTasksRequest.type,e),Promise.resolve(void 0)))),registerOnTaskCreated:e=>{t.onNotification(l.TaskCreatedNotification.type,e)},registerOnTaskStatusChanged:e=>{t.onNotification(l.TaskStatusChangedNotification.type,e)}})}}t.TaskServicesFeature=E,E.messagesTypes=[l.ListTasksRequest.type,l.CancelTaskRequest.type,l.TaskCreatedNotification.type,l.TaskStatusChangedNotification.type];class T extends d{constructor(e){super(e,T.messagesTypes)}fillClientCapabilities(e){u(u(e,"connection"),"fileBrowser").dynamicRegistration=!0}initialize(e){this.register(this.messages,{id:o.generateUuid(),registerOptions:void 0})}registerProvider(e){const t=this._client;return s.dataprotocol.registerFileBrowserProvider({providerId:t.providerId,closeFileBrowser:e=>{let n={ownerUri:e};return t.sendRequest(l.FileBrowserCloseRequest.type,n).then((e=>e),(e=>(t.logFailedRequest(l.FileBrowserCloseRequest.type,e),Promise.resolve(void 0))))},expandFolderNode:(e,n)=>{let i={ownerUri:e,expandPath:n};return t.sendRequest(l.FileBrowserExpandRequest.type,i).then((e=>e),(e=>(t.logFailedRequest(l.FileBrowserExpandRequest.type,e),Promise.resolve(void 0))))},openFileBrowser:(e,n,i,r)=>{let o={ownerUri:e,expandPath:n,fileFilters:i,changeFilter:r};return t.sendRequest(l.FileBrowserOpenRequest.type,o).then((e=>e),(e=>(t.logFailedRequest(l.FileBrowserOpenRequest.type,e),Promise.resolve(void 0))))},registerOnFileBrowserOpened:e=>{t.onNotification(l.FileBrowserOpenedNotification.type,e)},registerOnFilePathsValidated:e=>{t.onNotification(l.FileBrowserValidatedNotification.type,e)},registerOnFolderNodeExpanded:e=>{t.onNotification(l.FileBrowserExpandedNotification.type,e)},validateFilePaths:(e,n,i)=>{let r={ownerUri:e,serviceType:n,selectedFiles:i};return t.sendRequest(l.FileBrowserValidateRequest.type,r).then((e=>e),(e=>(t.logFailedRequest(l.FileBrowserValidateRequest.type,e),Promise.resolve(void 0))))}})}}t.FileBrowserFeature=T,T.messagesTypes=[l.FileBrowserOpenRequest.type,l.FileBrowserOpenedNotification.type,l.FileBrowserExpandRequest.type,l.FileBrowserExpandedNotification.type,l.FileBrowserValidateRequest.type,l.FileBrowserValidatedNotification.type,l.FileBrowserCloseRequest.type];class C extends i.LanguageClient{constructor(e,t,n,i,o){let s;r.string(t)?(super(e,t,n,i,o),this._providerId=i.providerId,s=i.features):(super(e,t,n,i),this._providerId=n.providerId,s=n.features),this._sqlc2p=a.c2p,this._sqlp2c=c.p2c,this.registerSqlopsFeatures(s||C.defaultFeatures)}get sqlc2p(){return this._sqlc2p}get sqlp2c(){return this._sqlp2c}get providerId(){return this._providerId}registerSqlopsFeatures(e){e.map((e=>{this.registerFeature(new e(this))}))}}t.SqlOpsDataClient=C,C.defaultFeatures=[h,p,m,f,g,v,_,y,S,E,T]},632:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EditDeleteRowRequest=t.EditCreateRowRequest=t.EditCommitRequest=t.ScriptingCompleteNotification=t.ScriptingRequest=t.MetadataQueryRequest=t.QueryExecutionOptionsRequest=t.QueryExecuteStringRequest=t.SimpleExecuteRequest=t.SyntaxParseRequest=t.SaveResultsAsXmlRequest=t.SaveResultsAsExcelRequest=t.SaveResultsAsJsonRequest=t.SaveResultsAsCsvRequest=t.QueryExecuteStatementRequest=t.QueryExecuteSubsetRequest=t.QueryExecuteRequest=t.QueryExecuteMessageNotification=t.QueryExecuteResultSetUpdatedNotification=t.QueryExecuteResultSetAvailableNotification=t.QueryExecuteBatchCompleteNotification=t.QueryExecuteBatchStartNotification=t.QueryExecuteCompleteNotification=t.QueryDisposeRequest=t.QueryCancelRequest=t.CapabiltiesDiscoveryRequest=t.CapabiltiesDiscoveryParams=t.IntelliSenseReadyNotification=t.ViewMetadataRequest=t.TableMetadataRequest=t.TableMetadataResult=t.TableMetadataParams=t.LanguageFlavorChangedNotification=t.BuildConnectionInfoRequest=t.GetConnectionStringRequest=t.GetConnectionStringParams=t.ListDatabasesRequest=t.ListDatabasesParams=t.ChangeDatabaseRequest=t.ChangeDatabaseParams=t.CancelConnectRequest=t.CancelConnectParams=t.DisconnectRequest=t.DisconnectParams=t.ConnectionChangedNotification=t.ConnectionChangedParams=t.ConnectionCompleteNotification=t.ConnectionRequest=t.RebuildIntelliSenseParams=t.RebuildIntelliSenseNotification=void 0,t.FileBrowserCloseRequest=t.FileBrowserValidatedNotification=t.FileBrowserValidateRequest=t.FileBrowserExpandedNotification=t.FileBrowserExpandRequest=t.FileBrowserOpenedNotification=t.FileBrowserOpenRequest=t.RestoreConfigInfoRequest=t.CancelRestorePlanRequest=t.RestorePlanRequest=t.RestoreRequest=t.BackupConfigInfoRequest=t.BackupRequest=t.GetDatabaseInfoRequest=t.CreateLoginRequest=t.DefaultDatabaseInfoRequest=t.CreateDatabaseRequest=t.TaskCreatedNotification=t.TaskStatusChangedNotification=t.CancelTaskRequest=t.ListTasksRequest=t.ObjectExplorerExpandCompleteNotification=t.ObjectExplorerSessionDisconnectedNotification=t.ObjectExplorerCreateSessionCompleteNotification=t.ObjectExplorerFindNodesRequest=t.ObjectExplorerCloseSessionRequest=t.ObjectExplorerRefreshRequest=t.ObjectExplorerExpandRequest=t.ObjectExplorerCreateSessionRequest=t.EditSubsetRequest=t.EditUpdateCellRequest=t.EditSessionReadyNotification=t.EditRevertRowRequest=t.EditRevertCellRequest=t.EditInitializeRequest=t.EditDisposeRequest=void 0;const i=n(3056);(t.RebuildIntelliSenseNotification||(t.RebuildIntelliSenseNotification={})).type=new i.NotificationType("textDocument/rebuildIntelliSense"),t.RebuildIntelliSenseParams=class{},(t.ConnectionRequest||(t.ConnectionRequest={})).type=new i.RequestType("connection/connect"),(t.ConnectionCompleteNotification||(t.ConnectionCompleteNotification={})).type=new i.NotificationType("connection/complete"),t.ConnectionChangedParams=class{},(t.ConnectionChangedNotification||(t.ConnectionChangedNotification={})).type=new i.NotificationType("connection/connectionchanged"),t.DisconnectParams=class{},(t.DisconnectRequest||(t.DisconnectRequest={})).type=new i.RequestType("connection/disconnect"),t.CancelConnectParams=class{},(t.CancelConnectRequest||(t.CancelConnectRequest={})).type=new i.RequestType("connection/cancelconnect"),t.ChangeDatabaseParams=class{},(t.ChangeDatabaseRequest||(t.ChangeDatabaseRequest={})).type=new i.RequestType("connection/changedatabase"),t.ListDatabasesParams=class{},(t.ListDatabasesRequest||(t.ListDatabasesRequest={})).type=new i.RequestType("connection/listdatabases"),t.GetConnectionStringParams=class{},(t.GetConnectionStringRequest||(t.GetConnectionStringRequest={})).type=new i.RequestType("connection/getconnectionstring"),(t.BuildConnectionInfoRequest||(t.BuildConnectionInfoRequest={})).type=new i.RequestType("connection/buildconnectioninfo"),(t.LanguageFlavorChangedNotification||(t.LanguageFlavorChangedNotification={})).type=new i.NotificationType("connection/languageflavorchanged"),t.TableMetadataParams=class{},t.TableMetadataResult=class{},(t.TableMetadataRequest||(t.TableMetadataRequest={})).type=new i.RequestType("metadata/table"),(t.ViewMetadataRequest||(t.ViewMetadataRequest={})).type=new i.RequestType("metadata/view"),(t.IntelliSenseReadyNotification||(t.IntelliSenseReadyNotification={})).type=new i.NotificationType("textDocument/intelliSenseReady"),t.CapabiltiesDiscoveryParams=class{},(t.CapabiltiesDiscoveryRequest||(t.CapabiltiesDiscoveryRequest={})).type=new i.RequestType("capabilities/list"),(t.QueryCancelRequest||(t.QueryCancelRequest={})).type=new i.RequestType("query/cancel"),(t.QueryDisposeRequest||(t.QueryDisposeRequest={})).type=new i.RequestType("query/dispose"),(t.QueryExecuteCompleteNotification||(t.QueryExecuteCompleteNotification={})).type=new i.NotificationType("query/complete"),(t.QueryExecuteBatchStartNotification||(t.QueryExecuteBatchStartNotification={})).type=new i.NotificationType("query/batchStart"),(t.QueryExecuteBatchCompleteNotification||(t.QueryExecuteBatchCompleteNotification={})).type=new i.NotificationType("query/batchComplete"),(t.QueryExecuteResultSetAvailableNotification||(t.QueryExecuteResultSetAvailableNotification={})).type=new i.NotificationType("query/resultSetAvailable"),(t.QueryExecuteResultSetUpdatedNotification||(t.QueryExecuteResultSetUpdatedNotification={})).type=new i.NotificationType("query/resultSetUpdated"),(t.QueryExecuteMessageNotification||(t.QueryExecuteMessageNotification={})).type=new i.NotificationType("query/message"),(t.QueryExecuteRequest||(t.QueryExecuteRequest={})).type=new i.RequestType("query/executeDocumentSelection"),(t.QueryExecuteSubsetRequest||(t.QueryExecuteSubsetRequest={})).type=new i.RequestType("query/subset"),(t.QueryExecuteStatementRequest||(t.QueryExecuteStatementRequest={})).type=new i.RequestType("query/executedocumentstatement"),(t.SaveResultsAsCsvRequest||(t.SaveResultsAsCsvRequest={})).type=new i.RequestType("query/saveCsv"),(t.SaveResultsAsJsonRequest||(t.SaveResultsAsJsonRequest={})).type=new i.RequestType("query/saveJson"),(t.SaveResultsAsExcelRequest||(t.SaveResultsAsExcelRequest={})).type=new i.RequestType("query/saveExcel"),(t.SaveResultsAsXmlRequest||(t.SaveResultsAsXmlRequest={})).type=new i.RequestType("query/saveXml"),(t.SyntaxParseRequest||(t.SyntaxParseRequest={})).type=new i.RequestType("query/syntaxparse"),(t.SimpleExecuteRequest||(t.SimpleExecuteRequest={})).type=new i.RequestType("query/simpleexecute"),(t.QueryExecuteStringRequest||(t.QueryExecuteStringRequest={})).type=new i.RequestType("query/executeString"),(t.QueryExecutionOptionsRequest||(t.QueryExecutionOptionsRequest={})).type=new i.RequestType("query/setexecutionoptions"),(t.MetadataQueryRequest||(t.MetadataQueryRequest={})).type=new i.RequestType("metadata/list"),(t.ScriptingRequest||(t.ScriptingRequest={})).type=new i.RequestType("scripting/script"),(t.ScriptingCompleteNotification||(t.ScriptingCompleteNotification={})).type=new i.NotificationType("scripting/scriptComplete"),(t.EditCommitRequest||(t.EditCommitRequest={})).type=new i.RequestType("edit/commit"),(t.EditCreateRowRequest||(t.EditCreateRowRequest={})).type=new i.RequestType("edit/createRow"),(t.EditDeleteRowRequest||(t.EditDeleteRowRequest={})).type=new i.RequestType("edit/deleteRow"),(t.EditDisposeRequest||(t.EditDisposeRequest={})).type=new i.RequestType("edit/dispose"),(t.EditInitializeRequest||(t.EditInitializeRequest={})).type=new i.RequestType("edit/initialize"),(t.EditRevertCellRequest||(t.EditRevertCellRequest={})).type=new i.RequestType("edit/revertCell"),(t.EditRevertRowRequest||(t.EditRevertRowRequest={})).type=new i.RequestType("edit/revertRow"),(t.EditSessionReadyNotification||(t.EditSessionReadyNotification={})).type=new i.NotificationType("edit/sessionReady"),(t.EditUpdateCellRequest||(t.EditUpdateCellRequest={})).type=new i.RequestType("edit/updateCell"),(t.EditSubsetRequest||(t.EditSubsetRequest={})).type=new i.RequestType("edit/subset"),(t.ObjectExplorerCreateSessionRequest||(t.ObjectExplorerCreateSessionRequest={})).type=new i.RequestType("objectexplorer/createsession"),(t.ObjectExplorerExpandRequest||(t.ObjectExplorerExpandRequest={})).type=new i.RequestType("objectexplorer/expand"),(t.ObjectExplorerRefreshRequest||(t.ObjectExplorerRefreshRequest={})).type=new i.RequestType("objectexplorer/refresh"),(t.ObjectExplorerCloseSessionRequest||(t.ObjectExplorerCloseSessionRequest={})).type=new i.RequestType("objectexplorer/closesession"),(t.ObjectExplorerFindNodesRequest||(t.ObjectExplorerFindNodesRequest={})).type=new i.RequestType("objectexplorer/findnodes"),(t.ObjectExplorerCreateSessionCompleteNotification||(t.ObjectExplorerCreateSessionCompleteNotification={})).type=new i.NotificationType("objectexplorer/sessioncreated"),(t.ObjectExplorerSessionDisconnectedNotification||(t.ObjectExplorerSessionDisconnectedNotification={})).type=new i.NotificationType("objectexplorer/sessiondisconnected"),(t.ObjectExplorerExpandCompleteNotification||(t.ObjectExplorerExpandCompleteNotification={})).type=new i.NotificationType("objectexplorer/expandCompleted"),(t.ListTasksRequest||(t.ListTasksRequest={})).type=new i.RequestType("tasks/listtasks"),(t.CancelTaskRequest||(t.CancelTaskRequest={})).type=new i.RequestType("tasks/canceltask"),(t.TaskStatusChangedNotification||(t.TaskStatusChangedNotification={})).type=new i.NotificationType("tasks/statuschanged"),(t.TaskCreatedNotification||(t.TaskCreatedNotification={})).type=new i.NotificationType("tasks/newtaskcreated"),(t.CreateDatabaseRequest||(t.CreateDatabaseRequest={})).type=new i.RequestType("admin/createdatabase"),(t.DefaultDatabaseInfoRequest||(t.DefaultDatabaseInfoRequest={})).type=new i.RequestType("admin/defaultdatabaseinfo"),(t.CreateLoginRequest||(t.CreateLoginRequest={})).type=new i.RequestType("admin/createlogin"),(t.GetDatabaseInfoRequest||(t.GetDatabaseInfoRequest={})).type=new i.RequestType("admin/getdatabaseinfo"),(t.BackupRequest||(t.BackupRequest={})).type=new i.RequestType("backup/backup"),(t.BackupConfigInfoRequest||(t.BackupConfigInfoRequest={})).type=new i.RequestType("backup/backupconfiginfo"),(t.RestoreRequest||(t.RestoreRequest={})).type=new i.RequestType("restore/restore"),(t.RestorePlanRequest||(t.RestorePlanRequest={})).type=new i.RequestType("restore/restoreplan"),(t.CancelRestorePlanRequest||(t.CancelRestorePlanRequest={})).type=new i.RequestType("restore/cancelrestoreplan"),(t.RestoreConfigInfoRequest||(t.RestoreConfigInfoRequest={})).type=new i.RequestType("restore/restoreconfiginfo"),(t.FileBrowserOpenRequest||(t.FileBrowserOpenRequest={})).type=new i.RequestType("filebrowser/open"),(t.FileBrowserOpenedNotification||(t.FileBrowserOpenedNotification={})).type=new i.NotificationType("filebrowser/opencomplete"),(t.FileBrowserExpandRequest||(t.FileBrowserExpandRequest={})).type=new i.RequestType("filebrowser/expand"),(t.FileBrowserExpandedNotification||(t.FileBrowserExpandedNotification={})).type=new i.NotificationType("filebrowser/expandcomplete"),(t.FileBrowserValidateRequest||(t.FileBrowserValidateRequest={})).type=new i.RequestType("filebrowser/validate"),(t.FileBrowserValidatedNotification||(t.FileBrowserValidatedNotification={})).type=new i.NotificationType("filebrowser/validatecomplete"),(t.FileBrowserCloseRequest||(t.FileBrowserCloseRequest={})).type=new i.RequestType("filebrowser/close")},4003:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.p2c=void 0;const i=n(9690);function r(e){return"string"===e?i.ServiceOptionType.string:"multistring"===e?i.ServiceOptionType.multistring:"password"===e?i.ServiceOptionType.password:"number"===e?i.ServiceOptionType.number:"boolean"===e?i.ServiceOptionType.boolean:"category"===e?i.ServiceOptionType.category:"object"===e?i.ServiceOptionType.object:i.ServiceOptionType.string}function o(e){return{name:e.name,displayName:e.displayName?e.displayName:e.name,description:e.description,groupName:e.groupName,defaultValue:e.defaultValue,categoryValues:e.categoryValues,isRequired:e.isRequired,isArray:e.isArray,objectType:e.objectType,valueType:r(e.valueType)}}t.p2c={asProviderMetadata:function(e){let t=[];if(!e.metadata||!e.metadata.length)return{objectMetadata:t};for(let n=0;n<e.metadata.length;++n){let r,o=e.metadata[n];r=o.metadataTypeName?o.metadataTypeName:o.metadataType===i.MetadataType.View?"View":o.metadataType===i.MetadataType.SProc?"StoredProcedure":o.metadataType===i.MetadataType.Function?"Function":"Table",t.push({metadataTypeName:r,metadataType:o.metadataType,name:o.name,schema:o.schema,urn:o.urn})}return{objectMetadata:t}},asServerCapabilities:function(e){let t={protocolVersion:e.capabilities.protocolVersion,providerName:e.capabilities.providerName,providerDisplayName:e.capabilities.providerDisplayName,connectionProvider:void 0,adminServicesProvider:void 0,features:[]};if(e.capabilities.adminServicesProvider){if(t.adminServicesProvider={databaseInfoOptions:new Array,databaseFileInfoOptions:new Array,fileGroupInfoOptions:new Array},e.capabilities.adminServicesProvider.databaseInfoOptions&&e.capabilities.adminServicesProvider.databaseInfoOptions.length>0)for(let n=0;n<e.capabilities.adminServicesProvider.databaseInfoOptions.length;++n){let i=o(e.capabilities.adminServicesProvider.databaseInfoOptions[n]);t.adminServicesProvider.databaseInfoOptions.push(i)}if(e.capabilities.adminServicesProvider.databaseFileInfoOptions&&e.capabilities.adminServicesProvider.databaseFileInfoOptions.length>0)for(let n=0;n<e.capabilities.adminServicesProvider.databaseFileInfoOptions.length;++n){let i=o(e.capabilities.adminServicesProvider.databaseFileInfoOptions[n]);t.adminServicesProvider.databaseFileInfoOptions.push(i)}if(e.capabilities.adminServicesProvider.fileGroupInfoOptions&&e.capabilities.adminServicesProvider.fileGroupInfoOptions.length>0)for(let n=0;n<e.capabilities.adminServicesProvider.fileGroupInfoOptions.length;++n){let i=o(e.capabilities.adminServicesProvider.fileGroupInfoOptions[n]);t.adminServicesProvider.fileGroupInfoOptions.push(i)}}if(e.capabilities.connectionProvider&&e.capabilities.connectionProvider.options&&e.capabilities.connectionProvider.options.length>0){t.connectionProvider={options:new Array};for(let n=0;n<e.capabilities.connectionProvider.options.length;++n){let o=e.capabilities.connectionProvider.options[n],s={name:o.name,displayName:o.displayName?o.displayName:o.name,description:o.description,groupName:o.groupName,defaultValue:o.defaultValue,categoryValues:o.categoryValues,isIdentity:o.isIdentity,isRequired:o.isRequired,valueType:r(o.valueType),specialValueType:void 0};"serverName"===o.specialValueType?s.specialValueType=i.ConnectionOptionSpecialType.serverName:"databaseName"===o.specialValueType?s.specialValueType=i.ConnectionOptionSpecialType.databaseName:"authType"===o.specialValueType?s.specialValueType=i.ConnectionOptionSpecialType.authType:"userName"===o.specialValueType?s.specialValueType=i.ConnectionOptionSpecialType.userName:"password"===o.specialValueType?s.specialValueType=i.ConnectionOptionSpecialType.password:"appName"===o.specialValueType&&(s.specialValueType=i.ConnectionOptionSpecialType.appName),t.connectionProvider.options.push(s)}}return e.capabilities.features&&e.capabilities.features.length>0&&e.capabilities.features.forEach((e=>{let n={enabled:e.enabled,featureName:e.featureName,optionsMetadata:[]};t.features.push(n),e.optionsMetadata&&e.optionsMetadata.forEach((e=>{n.optionsMetadata.push(o(e))}))})),t}}},6625:(e,t)=>{var n;t=e.exports=W,n="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:function(){},t.SEMVER_SPEC_VERSION="2.0.0";var i=Number.MAX_SAFE_INTEGER||9007199254740991,r=t.re=[],o=t.src=[],s=0,a=s++;o[a]="0|[1-9]\\d*";var l=s++;o[l]="[0-9]+";var c=s++;o[c]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var u=s++;o[u]="("+o[a]+")\\.("+o[a]+")\\.("+o[a]+")";var d=s++;o[d]="("+o[l]+")\\.("+o[l]+")\\.("+o[l]+")";var p=s++;o[p]="(?:"+o[a]+"|"+o[c]+")";var h=s++;o[h]="(?:"+o[l]+"|"+o[c]+")";var m=s++;o[m]="(?:-("+o[p]+"(?:\\."+o[p]+")*))";var f=s++;o[f]="(?:-?("+o[h]+"(?:\\."+o[h]+")*))";var g=s++;o[g]="[0-9A-Za-z-]+";var v=s++;o[v]="(?:\\+("+o[g]+"(?:\\."+o[g]+")*))";var _=s++,y="v?"+o[u]+o[m]+"?"+o[v]+"?";o[_]="^"+y+"$";var S="[v=\\s]*"+o[d]+o[f]+"?"+o[v]+"?",E=s++;o[E]="^"+S+"$";var T=s++;o[T]="((?:<|>)?=?)";var C=s++;o[C]=o[l]+"|x|X|\\*";var b=s++;o[b]=o[a]+"|x|X|\\*";var I=s++;o[I]="[v=\\s]*("+o[b]+")(?:\\.("+o[b]+")(?:\\.("+o[b]+")(?:"+o[m]+")?"+o[v]+"?)?)?";var R=s++;o[R]="[v=\\s]*("+o[C]+")(?:\\.("+o[C]+")(?:\\.("+o[C]+")(?:"+o[f]+")?"+o[v]+"?)?)?";var A=s++;o[A]="^"+o[T]+"\\s*"+o[I]+"$";var O=s++;o[O]="^"+o[T]+"\\s*"+o[R]+"$";var w=s++;o[w]="(?:^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])";var x=s++;o[x]="(?:~>?)";var P=s++;o[P]="(\\s*)"+o[x]+"\\s+",r[P]=new RegExp(o[P],"g");var N=s++;o[N]="^"+o[x]+o[I]+"$";var D=s++;o[D]="^"+o[x]+o[R]+"$";var M=s++;o[M]="(?:\\^)";var k=s++;o[k]="(\\s*)"+o[M]+"\\s+",r[k]=new RegExp(o[k],"g");var L=s++;o[L]="^"+o[M]+o[I]+"$";var B=s++;o[B]="^"+o[M]+o[R]+"$";var q=s++;o[q]="^"+o[T]+"\\s*("+S+")$|^$";var F=s++;o[F]="^"+o[T]+"\\s*("+y+")$|^$";var U=s++;o[U]="(\\s*)"+o[T]+"\\s*("+S+"|"+o[I]+")",r[U]=new RegExp(o[U],"g");var j=s++;o[j]="^\\s*("+o[I]+")\\s+-\\s+("+o[I]+")\\s*$";var z=s++;o[z]="^\\s*("+o[R]+")\\s+-\\s+("+o[R]+")\\s*$";var H=s++;o[H]="(<|>)?=?\\s*\\*";for(var V=0;V<35;V++)n(V,o[V]),r[V]||(r[V]=new RegExp(o[V]));function G(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof W)return e;if("string"!=typeof e)return null;if(e.length>256)return null;if(!(t.loose?r[E]:r[_]).test(e))return null;try{return new W(e,t)}catch(e){return null}}function W(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof W){if(e.loose===t.loose)return e;e=e.version}else if("string"!=typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>256)throw new TypeError("version is longer than 256 characters");if(!(this instanceof W))return new W(e,t);n("SemVer",e,t),this.options=t,this.loose=!!t.loose;var o=e.trim().match(t.loose?r[E]:r[_]);if(!o)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+o[1],this.minor=+o[2],this.patch=+o[3],this.major>i||this.major<0)throw new TypeError("Invalid major version");if(this.minor>i||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>i||this.patch<0)throw new TypeError("Invalid patch version");o[4]?this.prerelease=o[4].split(".").map((function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<i)return t}return e})):this.prerelease=[],this.build=o[5]?o[5].split("."):[],this.format()}t.parse=G,t.valid=function(e,t){var n=G(e,t);return n?n.version:null},t.clean=function(e,t){var n=G(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null},t.SemVer=W,W.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},W.prototype.toString=function(){return this.version},W.prototype.compare=function(e){return n("SemVer.compare",this.version,this.options,e),e instanceof W||(e=new W(e,this.options)),this.compareMain(e)||this.comparePre(e)},W.prototype.compareMain=function(e){return e instanceof W||(e=new W(e,this.options)),K(this.major,e.major)||K(this.minor,e.minor)||K(this.patch,e.patch)},W.prototype.comparePre=function(e){if(e instanceof W||(e=new W(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var i=this.prerelease[t],r=e.prerelease[t];if(n("prerelease compare",t,i,r),void 0===i&&void 0===r)return 0;if(void 0===r)return 1;if(void 0===i)return-1;if(i!==r)return K(i,r)}while(++t)},W.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var n=this.prerelease.length;--n>=0;)"number"==typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);-1===n&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this},t.inc=function(e,t,n,i){"string"==typeof n&&(i=n,n=void 0);try{return new W(e,n).inc(t,i).version}catch(e){return null}},t.diff=function(e,t){if(J(e,t))return null;var n=G(e),i=G(t),r="";if(n.prerelease.length||i.prerelease.length){r="pre";var o="prerelease"}for(var s in n)if(("major"===s||"minor"===s||"patch"===s)&&n[s]!==i[s])return r+s;return o},t.compareIdentifiers=K;var $=/^[0-9]+$/;function K(e,t){var n=$.test(e),i=$.test(t);return n&&i&&(e=+e,t=+t),e===t?0:n&&!i?-1:i&&!n?1:e<t?-1:1}function X(e,t,n){return new W(e,n).compare(new W(t,n))}function Y(e,t,n){return X(e,t,n)>0}function Q(e,t,n){return X(e,t,n)<0}function J(e,t,n){return 0===X(e,t,n)}function Z(e,t,n){return 0!==X(e,t,n)}function ee(e,t,n){return X(e,t,n)>=0}function te(e,t,n){return X(e,t,n)<=0}function ne(e,t,n,i){switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e===n;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e!==n;case"":case"=":case"==":return J(e,n,i);case"!=":return Z(e,n,i);case">":return Y(e,n,i);case">=":return ee(e,n,i);case"<":return Q(e,n,i);case"<=":return te(e,n,i);default:throw new TypeError("Invalid operator: "+t)}}function ie(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof ie){if(e.loose===!!t.loose)return e;e=e.value}if(!(this instanceof ie))return new ie(e,t);n("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===re?this.value="":this.value=this.operator+this.semver.version,n("comp",this)}t.rcompareIdentifiers=function(e,t){return K(t,e)},t.major=function(e,t){return new W(e,t).major},t.minor=function(e,t){return new W(e,t).minor},t.patch=function(e,t){return new W(e,t).patch},t.compare=X,t.compareLoose=function(e,t){return X(e,t,!0)},t.rcompare=function(e,t,n){return X(t,e,n)},t.sort=function(e,n){return e.sort((function(e,i){return t.compare(e,i,n)}))},t.rsort=function(e,n){return e.sort((function(e,i){return t.rcompare(e,i,n)}))},t.gt=Y,t.lt=Q,t.eq=J,t.neq=Z,t.gte=ee,t.lte=te,t.cmp=ne,t.Comparator=ie;var re={};function oe(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof oe)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new oe(e.raw,t);if(e instanceof ie)return new oe(e.value,t);if(!(this instanceof oe))return new oe(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map((function(e){return this.parseRange(e.trim())}),this).filter((function(e){return e.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}function se(e){return!e||"x"===e.toLowerCase()||"*"===e}function ae(e,t,n,i,r,o,s,a,l,c,u,d,p){return((t=se(n)?"":se(i)?">="+n+".0.0":se(r)?">="+n+"."+i+".0":">="+t)+" "+(a=se(l)?"":se(c)?"<"+(+l+1)+".0.0":se(u)?"<"+l+"."+(+c+1)+".0":d?"<="+l+"."+c+"."+u+"-"+d:"<="+a)).trim()}function le(e,t,i){for(var r=0;r<e.length;r++)if(!e[r].test(t))return!1;if(t.prerelease.length&&!i.includePrerelease){for(r=0;r<e.length;r++)if(n(e[r].semver),e[r].semver!==re&&e[r].semver.prerelease.length>0){var o=e[r].semver;if(o.major===t.major&&o.minor===t.minor&&o.patch===t.patch)return!0}return!1}return!0}function ce(e,t,n){try{t=new oe(t,n)}catch(e){return!1}return t.test(e)}function ue(e,t,n,i){var r,o,s,a,l;switch(e=new W(e,i),t=new oe(t,i),n){case">":r=Y,o=te,s=Q,a=">",l=">=";break;case"<":r=Q,o=ee,s=Y,a="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(ce(e,t,i))return!1;for(var c=0;c<t.set.length;++c){var u=t.set[c],d=null,p=null;if(u.forEach((function(e){e.semver===re&&(e=new ie(">=0.0.0")),d=d||e,p=p||e,r(e.semver,d.semver,i)?d=e:s(e.semver,p.semver,i)&&(p=e)})),d.operator===a||d.operator===l)return!1;if((!p.operator||p.operator===a)&&o(e,p.semver))return!1;if(p.operator===l&&s(e,p.semver))return!1}return!0}ie.prototype.parse=function(e){var t=this.options.loose?r[q]:r[F],n=e.match(t);if(!n)throw new TypeError("Invalid comparator: "+e);this.operator=n[1],"="===this.operator&&(this.operator=""),n[2]?this.semver=new W(n[2],this.options.loose):this.semver=re},ie.prototype.toString=function(){return this.value},ie.prototype.test=function(e){return n("Comparator.test",e,this.options.loose),this.semver===re||("string"==typeof e&&(e=new W(e,this.options)),ne(e,this.operator,this.semver,this.options))},ie.prototype.intersects=function(e,t){if(!(e instanceof ie))throw new TypeError("a Comparator is required");var n;if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),""===this.operator)return n=new oe(e.value,t),ce(this.value,n,t);if(""===e.operator)return n=new oe(this.value,t),ce(e.semver,n,t);var i=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),r=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),o=this.semver.version===e.semver.version,s=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),a=ne(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),l=ne(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return i||r||o&&s||a||l},t.Range=oe,oe.prototype.format=function(){return this.range=this.set.map((function(e){return e.join(" ").trim()})).join("||").trim(),this.range},oe.prototype.toString=function(){return this.range},oe.prototype.parseRange=function(e){var t=this.options.loose;e=e.trim();var i=t?r[z]:r[j];e=e.replace(i,ae),n("hyphen replace",e),e=e.replace(r[U],"$1$2$3"),n("comparator trim",e,r[U]),e=(e=(e=e.replace(r[P],"$1~")).replace(r[k],"$1^")).split(/\s+/).join(" ");var o=t?r[q]:r[F],s=e.split(" ").map((function(e){return function(e,t){return n("comp",e,t),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){n("caret",e,t);var i=t.loose?r[B]:r[L];return e.replace(i,(function(t,i,r,o,s){var a;return n("caret",e,t,i,r,o,s),se(i)?a="":se(r)?a=">="+i+".0.0 <"+(+i+1)+".0.0":se(o)?a="0"===i?">="+i+"."+r+".0 <"+i+"."+(+r+1)+".0":">="+i+"."+r+".0 <"+(+i+1)+".0.0":s?(n("replaceCaret pr",s),a="0"===i?"0"===r?">="+i+"."+r+"."+o+"-"+s+" <"+i+"."+r+"."+(+o+1):">="+i+"."+r+"."+o+"-"+s+" <"+i+"."+(+r+1)+".0":">="+i+"."+r+"."+o+"-"+s+" <"+(+i+1)+".0.0"):(n("no pr"),a="0"===i?"0"===r?">="+i+"."+r+"."+o+" <"+i+"."+r+"."+(+o+1):">="+i+"."+r+"."+o+" <"+i+"."+(+r+1)+".0":">="+i+"."+r+"."+o+" <"+(+i+1)+".0.0"),n("caret return",a),a}))}(e,t)})).join(" ")}(e,t),n("caret",e),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){var i=t.loose?r[D]:r[N];return e.replace(i,(function(t,i,r,o,s){var a;return n("tilde",e,t,i,r,o,s),se(i)?a="":se(r)?a=">="+i+".0.0 <"+(+i+1)+".0.0":se(o)?a=">="+i+"."+r+".0 <"+i+"."+(+r+1)+".0":s?(n("replaceTilde pr",s),a=">="+i+"."+r+"."+o+"-"+s+" <"+i+"."+(+r+1)+".0"):a=">="+i+"."+r+"."+o+" <"+i+"."+(+r+1)+".0",n("tilde return",a),a}))}(e,t)})).join(" ")}(e,t),n("tildes",e),e=function(e,t){return n("replaceXRanges",e,t),e.split(/\s+/).map((function(e){return function(e,t){e=e.trim();var i=t.loose?r[O]:r[A];return e.replace(i,(function(t,i,r,o,s,a){n("xRange",e,t,i,r,o,s,a);var l=se(r),c=l||se(o),u=c||se(s);return"="===i&&u&&(i=""),l?t=">"===i||"<"===i?"<0.0.0":"*":i&&u?(c&&(o=0),s=0,">"===i?(i=">=",c?(r=+r+1,o=0,s=0):(o=+o+1,s=0)):"<="===i&&(i="<",c?r=+r+1:o=+o+1),t=i+r+"."+o+"."+s):c?t=">="+r+".0.0 <"+(+r+1)+".0.0":u&&(t=">="+r+"."+o+".0 <"+r+"."+(+o+1)+".0"),n("xRange return",t),t}))}(e,t)})).join(" ")}(e,t),n("xrange",e),e=function(e,t){return n("replaceStars",e,t),e.trim().replace(r[H],"")}(e,t),n("stars",e),e}(e,this.options)}),this).join(" ").split(/\s+/);return this.options.loose&&(s=s.filter((function(e){return!!e.match(o)}))),s.map((function(e){return new ie(e,this.options)}),this)},oe.prototype.intersects=function(e,t){if(!(e instanceof oe))throw new TypeError("a Range is required");return this.set.some((function(n){return n.every((function(n){return e.set.some((function(e){return e.every((function(e){return n.intersects(e,t)}))}))}))}))},t.toComparators=function(e,t){return new oe(e,t).set.map((function(e){return e.map((function(e){return e.value})).join(" ").trim().split(" ")}))},oe.prototype.test=function(e){if(!e)return!1;"string"==typeof e&&(e=new W(e,this.options));for(var t=0;t<this.set.length;t++)if(le(this.set[t],e,this.options))return!0;return!1},t.satisfies=ce,t.maxSatisfying=function(e,t,n){var i=null,r=null;try{var o=new oe(t,n)}catch(e){return null}return e.forEach((function(e){o.test(e)&&(i&&-1!==r.compare(e)||(r=new W(i=e,n)))})),i},t.minSatisfying=function(e,t,n){var i=null,r=null;try{var o=new oe(t,n)}catch(e){return null}return e.forEach((function(e){o.test(e)&&(i&&1!==r.compare(e)||(r=new W(i=e,n)))})),i},t.minVersion=function(e,t){e=new oe(e,t);var n=new W("0.0.0");if(e.test(n))return n;if(n=new W("0.0.0-0"),e.test(n))return n;n=null;for(var i=0;i<e.set.length;++i)e.set[i].forEach((function(e){var t=new W(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":n&&!Y(n,t)||(n=t);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+e.operator)}}));return n&&e.test(n)?n:null},t.validRange=function(e,t){try{return new oe(e,t).range||"*"}catch(e){return null}},t.ltr=function(e,t,n){return ue(e,t,"<",n)},t.gtr=function(e,t,n){return ue(e,t,">",n)},t.outside=ue,t.prerelease=function(e,t){var n=G(e,t);return n&&n.prerelease.length?n.prerelease:null},t.intersects=function(e,t,n){return e=new oe(e,n),t=new oe(t,n),e.intersects(t)},t.coerce=function(e){if(e instanceof W)return e;if("string"!=typeof e)return null;var t=e.match(r[w]);return null==t?null:G(t[1]+"."+(t[2]||"0")+"."+(t[3]||"0"))}},6282:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getServerPort=t.getIsSuperUserOrHasReadServerFileAccess=t.getPostgreSqlShowVersion=t.getPostgreSqlVersion=t.getDatabasesList=t.getSqlBoolean=t.getSqlNumber=t.getSqlString=t.excludeDatabases=void 0;const r=n(9690),o=n(9658);function s(e){return e.isNull?"":e.displayValue}function a(e){return e.isNull?0:Number(e.displayValue)}t.excludeDatabases=["template0","template1"],t.getSqlString=s,t.getSqlNumber=a,t.getSqlBoolean=function(e){return!e.isNull&&"1"===e.displayValue},t.getDatabasesList=function(e){var t;return i(this,void 0,void 0,(function*(){const n=yield r.connection.getUriForConnection(e.connectionId),i=r.dataprotocol.getProvider(e.providerId,r.DataProviderType.QueryProvider);try{const e=yield i.runQueryAndReturn(n,"SELECT datname,pg_database_size(datname) as sizeInBytes FROM pg_database where datname not in ('azure_maintenance') order by datname asc");return null!==(t=e.rows.map((e=>({options:{name:s(e[0]),sizeInGB:(a(e[1])/1024/1024/1024).toFixed(2)}}))))&&void 0!==t?t:[]}catch(e){throw(0,o.logError)(o.TelemetryViews.ViewAssessmentResultPage,"GetDatabasesListFailed","Unknown Exception:"+e),e}}))},t.getPostgreSqlVersion=function(e){var t;return i(this,void 0,void 0,(function*(){const n=yield r.connection.getUriForConnection(e.connectionId),i=r.dataprotocol.getProvider(e.providerId,r.DataProviderType.QueryProvider);try{const e=yield i.runQueryAndReturn(n,"select version()");return null!==(t=e.rows.map((e=>({options:{name:s(e[0])}}))))&&void 0!==t?t:[]}catch(e){throw(0,o.logError)(o.TelemetryViews.ViewAssessmentResultPage,"GetPostgreSqlVersionFailed","Unknown Exception:"+e),e}}))},t.getPostgreSqlShowVersion=function(e){var t;return i(this,void 0,void 0,(function*(){const n=yield r.connection.getUriForConnection(e.connectionId),i=r.dataprotocol.getProvider(e.providerId,r.DataProviderType.QueryProvider);try{const e=yield i.runQueryAndReturn(n,"show server_version");return null!==(t=e.rows.map((e=>({options:{name:s(e[0])}}))))&&void 0!==t?t:[]}catch(e){throw(0,o.logError)(o.TelemetryViews.ViewAssessmentResultPage,"getPostgreSqlShowVersion","Unknown Exception:"+e),e}}))},t.getIsSuperUserOrHasReadServerFileAccess=function(e){var t;return i(this,void 0,void 0,(function*(){const n=yield r.connection.getUriForConnection(e.connectionId),i=r.dataprotocol.getProvider(e.providerId,r.DataProviderType.QueryProvider);try{const e=yield i.runQueryAndReturn(n,"with \nserver_files_role as (select oid as read_server_files_id from pg_roles where rolname='pg_read_server_files' limit 1),\n\nuser_details as (select oid, rolsuper from pg_roles where lower(rolname) = (SELECT session_user) limit 1)\n\nselect case \nwhen (user_details.rolsuper = true or \n( (select exists(select 1 from pg_auth_members where roleid=server_files_role.read_server_files_id and member=user_details.oid)) and \n(select exists (select * from pg_proc where has_function_privilege(oid,'execute') and proname = 'pg_read_file')) ) ) then 'true'\nelse 'false'\nend as is_allowed\nfrom user_details, server_files_role");return null!==(t=e.rows.map((e=>({options:{name:s(e[0])}}))))&&void 0!==t?t:[]}catch(e){throw(0,o.logError)(o.TelemetryViews.ViewAssessmentResultPage,"GetPostgreSqlShowVersionFailed","Unknown Exception:"+e),e}}))},t.getServerPort=function(e){var t;return i(this,void 0,void 0,(function*(){const n=yield r.connection.getUriForConnection(e.connectionId),i=r.dataprotocol.getProvider(e.providerId,r.DataProviderType.QueryProvider);try{const e=yield i.runQueryAndReturn(n,"show port");return null!==(t=e.rows.map((e=>({options:{name:s(e[0])}}))))&&void 0!==t?t:[]}catch(e){throw(0,o.logError)(o.TelemetryViews.ViewAssessmentResultPage,"GetPostgreSqlShowPortFailed","Unknown Exception:"+e),e}}))}},5735:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.AssessmentExtension=void 0;const r=n(5473),o=n(4665),s=n(9690),a=n(4876),l=n(1354),c=n(7147),u=n(4528),d=n(3882),p=n(4323),h=n(6901),m=n(3334),f=n(5482),g=n(9132),v=n(9658),_=n(717),y=n(9132),S=n(6182),E=n(2568);t.AssessmentExtension=class{constructor(e,t){this.backendService=e,this._assessmentMap=new Map,this._assessmentStagesMap=new Map,this._context=t,this._config=new u.Config}getAssessmentPath(){return i(this,void 0,void 0,(function*(){return yield this._config.load(),yield this._config.getAssessmentLocation()}))}get getAssessmentDetailsRequestType(){return d.getAssessmentDetailsRequestType}getAssessmentDetails(e,t,n){return i(this,void 0,void 0,(function*(){let t={};try{const i=l.SHA256(n.serverName).toString(l.enc.Hex);t=yield this.backendService.sendRequest(this.getAssessmentDetailsRequestType.method,{rootPath:yield this.getAssessmentPath(),instanceId:i,assessmentId:e}),null!==t.error&&(0,v.logError)(v.TelemetryViews.ViewAssessmentResultPage,v.TelemetryAction.GetAssessmentDetailsFailed,t.error.errorCode)}catch(e){(0,v.logError)(v.TelemetryViews.ViewAssessmentResultPage,v.TelemetryAction.GetAssessmentDetailsFailed,"Unknown Exception:"+e),r.logger.logException("Exception: "+e)}return t}))}get startAssessmentRequestType(){return a.startAssessmentrequestType}get reStartAssessmentRequestType(){return a.reStartAssessmentrequestType}get assessmentProgressNotificationType(){return a.assessmentProgressNotificationType}get collectorProgressNotificationType(){return a.collectorProgressNotificationType}startAssessment(e){return i(this,void 0,void 0,(function*(){let t={};try{const n=yield s.connection.getCurrentConnection();yield s.connection.getUriForConnection(n.connectionId),s.dataprotocol.getProvider(n.providerId,s.DataProviderType.ConnectionProvider),this.instanceId=l.SHA256(n.serverName).toString(l.enc.Hex),this.backendService.onNotification(this.collectorProgressNotificationType,(t=>{r.logger.logDebug("Progress collector notifier"),console.log(t.collectorStage+"; "+t.stageDuration+"; "+t.stageStatus+"; "+t.statusMessage),"PerformanceStatisticsDynamicMetadataCollector"!==t.collectorStage&&"PerformanceStatisticsStaticMetadataCollector"!==t.collectorStage||"Failed"!==t.stageStatus?"ReadyForSkuRecommendation"===t.statusMessage&&(null==e||e.populateSKUs(E.assessmentId),null==e||e.populateDbSourceProperties(E.assessmentId)):null==e||e.populateNoSKUs(E.assessmentId)})),this.backendService.onNotification(this.assessmentProgressNotificationType,(e=>{r.logger.logDebug("Progress assessment notifier")})),this.dir=yield this.getAssessmentPath(),c.existsSync(this.dir)||c.mkdirSync(this.dir),this._config.isExtensionPathValid()||o.window.showErrorMessage("Invalid path provided. Using default path"+this._config.getDefaultPath());const i=yield s.connection.getCurrentConnection(),a=yield s.connection.getCredentials(n.connectionId);i.options&&i.options.hostaddr?this.connString="Server="+i.options.hostaddr+";Username="+i.userName+";Password="+a.password:this.connString="Server="+i.serverName+";Username="+i.userName+";Password="+a.password,i.databaseName&&(this.connString+=";Database="+i.databaseName),i.options&&i.options.port&&(this.connString+=";Port="+i.options.port);const u=yield this.backendService.sendRequest(this.startAssessmentRequestType.method,{assessmentId:E.assessmentId,rootPath:this.dir,instanceId:this.instanceId,assessmentName:"AssessmentName",connectionString:this.connString,selectedDatabases:f.userSelectedDbs,scaleFactor:g.scaleFactor,additionalContextPayload:this.getConsolidatedJson(),isAutomated:y.isAutomated,statisticPercentile:y.percentileUtilization});null===u.error?t=u.body:(o.window.showErrorMessage(u.error.errorMessage),(0,v.logError)(v.TelemetryViews.ViewAssessmentResultPage,v.TelemetryAction.StartAssessmentFailed,u.error.errorMessage))}catch(e){(0,v.logError)(v.TelemetryViews.ViewAssessmentResultPage,v.TelemetryAction.StartAssessmentFailed,"Unknown Exception:"+e),r.logger.logException("Exception: "+e),o.window.showErrorMessage(""+e)}return t}))}reStartAssessment(){return i(this,void 0,void 0,(function*(){let e={};try{const t=yield this.backendService.sendRequest(this.reStartAssessmentRequestType.method,{assessmentId:E.assessmentId,rootPath:this.dir,instanceId:this.instanceId,assessmentName:"AssessmentName",connectionString:this.connString,selectedDatabases:f.userSelectedDbs,scaleFactor:g.scaleFactor,additionalContextPayload:this.getConsolidatedJson(),isAutomated:y.isAutomated,statisticPercentile:y.percentileUtilization});null===t.error?e=t.body:(0,v.logError)(v.TelemetryViews.ViewAssessmentResultPage,v.TelemetryAction.ReStartCollectionFailed,t.error.errorMessage)}catch(e){(0,v.logError)(v.TelemetryViews.ViewAssessmentResultPage,v.TelemetryAction.ReStartCollectionFailed,"Unknown Exception:"+e),r.logger.logException("Exception: "+e),o.window.showErrorMessage(""+e)}return e}))}get cancelAssessmentsrequestType(){return _.cancelAssessmentsRequestType}cancelAssessment(e){return i(this,void 0,void 0,(function*(){let t={};try{t=yield this.backendService.sendRequest(this.cancelAssessmentsrequestType.method,e),t||r.logger.logError("Cancellation failed")}catch(e){(0,v.logError)(v.TelemetryViews.ViewAssessmentResultPage,v.TelemetryAction.CancelAssessment,"Unknown Exception:"+e),r.logger.logException("Exception: "+e)}return t.body}))}get getServerCompatibilitySummaryRequestType(){return p.getServerCompatibilitySummaryRequestType}getConsolidatedJson(){const e=JSON.parse("{}");return JSON.stringify(Object.assign(e,{targetVersion:g.targetVersion})),JSON.stringify(Object.assign(e,g.manualEnteredDataFile))}getServerCompatibility(e,t,n){return i(this,void 0,void 0,(function*(){let t={};try{const i=l.SHA256(n.serverName).toString(l.enc.Hex);t=yield this.backendService.sendRequest(this.getServerCompatibilitySummaryRequestType.method,{rootPath:yield this.getAssessmentPath(),instanceId:i,assessmentId:e}),null!==t.error&&(0,v.logError)(v.TelemetryViews.ViewAssessmentResultPage,v.TelemetryAction.GetServerCompatibilityFailed,t.error.errorCode)}catch(e){(0,v.logError)(v.TelemetryViews.ViewAssessmentResultPage,v.TelemetryAction.GetServerCompatibilityFailed,"Unknown Exception:"+e),r.logger.logException("Exception: "+e)}return t}))}get getDatabaseCompatibilitySummaryRequestType(){return h.getDatabaseCompatibilitySummaryRequestType}get getDbSourcePropertiesRequestType(){return S.getDbSourcePropertiesRequestType}getDatabaseCompatibility(e,t,n){return i(this,void 0,void 0,(function*(){let t={};try{const i=l.SHA256(n.serverName).toString(l.enc.Hex);t=yield this.backendService.sendRequest(this.getDatabaseCompatibilitySummaryRequestType.method,{rootPath:yield this.getAssessmentPath(),instanceId:i,assessmentId:e}),null!==t.error&&(0,v.logError)(v.TelemetryViews.ViewAssessmentResultPage,v.TelemetryAction.GetDatabaseCompatibilityFailed,t.error.errorCode)}catch(e){(0,v.logError)(v.TelemetryViews.ViewAssessmentResultPage,v.TelemetryAction.GetDatabaseCompatibilityFailed,"Unknown Exception:"+e),r.logger.logException("Exception: "+e)}return t}))}get getSkuRecommendationRequestType(){return m.getSkuRecommendationRequestType}getSkuRecommendation(e,t,n){return i(this,void 0,void 0,(function*(){let t={};try{const i=l.SHA256(n.serverName).toString(l.enc.Hex);t=yield this.backendService.sendRequest(this.getSkuRecommendationRequestType.method,{rootPath:yield this.getAssessmentPath(),instanceId:i,assessmentId:e}),null!==t.error&&(0,v.logError)(v.TelemetryViews.ViewAssessmentResultPage,v.TelemetryAction.GetSkuRecommendationFailed,t.error.errorCode)}catch(e){(0,v.logError)(v.TelemetryViews.ViewAssessmentResultPage,v.TelemetryAction.GetSkuRecommendationFailed,"Unknown Exception:"+e),r.logger.logException("Exception: "+e)}return t}))}getDbSourceProperties(e,t,n){return i(this,void 0,void 0,(function*(){let t={};try{const i=l.SHA256(n.serverName).toString(l.enc.Hex);t=yield this.backendService.sendRequest(this.getDbSourcePropertiesRequestType.method,{rootPath:yield this.getAssessmentPath(),instanceId:i,assessmentId:e}),null!==t.error&&(0,v.logError)(v.TelemetryViews.ViewAssessmentResultPage,v.TelemetryAction.GetDbSourcePropertiesFailed,t.error.errorCode)}catch(e){(0,v.logError)(v.TelemetryViews.ViewAssessmentResultPage,v.TelemetryAction.GetDbSourcePropertiesFailed,"Unknown Exception:"+e),r.logger.logException("Exception: "+e)}return t}))}}},215:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ClientErrorHandler=void 0;const i=n(4665),r=n(3056),o=n(9444);t.ClientErrorHandler=class{constructor(e,t){this.serviceName=e,this.logger=t}error(e){return this.logger.logError(e&&e.stack||"Unknown error"),i.window.showErrorMessage(o.SERVICE_CRASH_MESSAGE(this.serviceName),"OK"),r.ErrorAction.Continue}closed(){return r.CloseAction.DoNotRestart}}},2571:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ValidateNullSKU=t.openCalloutDialog=t.generateGuid=t.formatDate=t.convertToGBwithText=t.convertToGB=t.detectURLs=t.capitalizeFirstLetter=t.cssRow=t.cssHeader=t.NOT_APPLICABLE=t.getPackageInfo=t.extensionDefaultMoreInfoLink=void 0;const r=n(9690);t.extensionDefaultMoreInfoLink="https://learn.microsoft.com/azure/postgresql/flexible-server/concepts-extensions",t.getPackageInfo=function(e){if(e&&e.name&&e.version&&e.aiKey)return{name:e.name,version:e.version,aiKey:e.aiKey}},t.NOT_APPLICABLE="NA",t.cssHeader={border:"none","text-align":"left","white-space":"nowrap","text-overflow":"ellipsis",overflow:"hidden","box-shadow":"0px -1px 0px 0px rgba(243, 242, 241, 1) inset",padding:"5px"},t.cssRow={"border-style":"ridge","text-align":"left","white-space":"nowrap","text-overflow":"ellipsis",overflow:"hidden"},t.capitalizeFirstLetter=function(e){return e?(null==(e=e.toLowerCase())?void 0:e.charAt(0).toUpperCase())+e.slice(1):e},t.detectURLs=function(e){return e.match(/(((https?:\/\/)|(www\.))[^\s]+)/g)},t.convertToGB=function(e){return Math.ceil(e/1024).toString()},t.convertToGBwithText=function(e){return e>=1024?Math.ceil(e/1024).toString()+"GB":Math.ceil(e).toString()+"MB"},t.formatDate=function(e){return new Date(e).toLocaleString([],{day:"numeric",month:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1})},t.generateGuid=function(){const e=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F"];let t,n="";for(let i=0;i<4;i++)t=4294967296*Math.random()|0,n+=e[15&t]+e[t>>4&15]+e[t>>8&15]+e[t>>12&15]+e[t>>16&15]+e[t>>20&15]+e[t>>24&15]+e[t>>28&15];const i=e[8+4*Math.random()|0];return n.substr(0,8)+"-"+n.substr(9,4)+"-4"+n.substr(13,3)+"-"+i+n.substr(16,3)+"-"+n.substr(19,12)},t.openCalloutDialog=function(e,t,n){const o=r.window.createModelViewDialog(e,t,288,"callout","left",!1,!1,{xPos:0,yPos:0,width:20,height:20}),s=r.window.createTab("");s.registerContent((e=>i(this,void 0,void 0,(function*(){const t=e.modelBuilder.text().withProps({value:n}).component();yield e.initializeModel(t)})))),o.content=[s],r.window.openDialog(o)},t.ValidateNullSKU=function(e){return null===e.memoryInGiB}},4528:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Config=t.expandAssessmentDetailsConfigKey=t.postgresqlConfigurationKey=t.logPathConfigKey=t.assessmentPathConfigKey=void 0;const r=n(4665),o=n(1017),s=n(5473),a=n(2037),l=n(7147);t.assessmentPathConfigKey="assessmentPath",t.logPathConfigKey="logPath",t.postgresqlConfigurationKey="postgresqlAssessment",t.expandAssessmentDetailsConfigKey="expandAssessmentDetails",t.Config=class{constructor(){this.isSettingsPathValid=!0,r.workspace.onDidChangeConfiguration((e=>{1==e.affectsConfiguration(t.postgresqlConfigurationKey)&&(this._configValues.assessmentLocation=r.workspace.getConfiguration(t.postgresqlConfigurationKey)[t.assessmentPathConfigKey],this._configValues.expandAssessmentDetails=r.workspace.getConfiguration(t.postgresqlConfigurationKey)[t.expandAssessmentDetailsConfigKey])}))}load(){return i(this,void 0,void 0,(function*(){const e=yield l.promises.readFile(o.join(__dirname,"config.json"));this._configValues=JSON.parse(e.toString()),this.isSettingsPathValid=!0}))}getDefaultPath(){return o.join(a.homedir(),".postgresmigration")}getConfigPath(){return o.join(__dirname,"config.json")}isExtensionPathValid(){return this.isSettingsPathValid}writeOnConfigFile(e){const t={assessmentLocation:e};l.writeFile(this.getConfigPath(),JSON.stringify(t),(e=>{if(e)throw e;console.log("Data written to file")}))}getExpandAssessmentDetails(){return r.workspace.getConfiguration(t.postgresqlConfigurationKey)[t.expandAssessmentDetailsConfigKey]}getAssessmentLocation(){return i(this,void 0,void 0,(function*(){let e=this.getDefaultPath();const n=r.workspace.getConfiguration(t.postgresqlConfigurationKey)[t.assessmentPathConfigKey].toString();return""!=n&&l.existsSync(n)?(this.writeOnConfigFile(n),e=n):""==n||l.existsSync(n)?e=null!=this._configValues.assessmentLocation?this._configValues.assessmentLocation:this.getDefaultPath():(e=this.getDefaultPath(),this.isSettingsPathValid=!1,s.logger.logDebug("Invalid Assessment name"+this.getDefaultPath()),this.writeOnConfigFile(null),s.logger.logDebug("Path provided by user doesnt exist")),s.logger.logDebug(e),e}))}getLogFolderPath(){return i(this,void 0,void 0,(function*(){const e=r.workspace.getConfiguration(t.postgresqlConfigurationKey)[t.logPathConfigKey];return s.logger.logDebug(e),e}))}}},5601:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PROVIDER_ID=t.feedbackIssueTitle=t.serviceName=t.extensionName=void 0;const i=n(8874);t.extensionName=(0,i.localize)("constants.extensionName","Azure PostgreSQL migration"),t.serviceName=(0,i.localize)("constants.serviceName","PostgreSQL Migration Service"),t.feedbackIssueTitle=(0,i.localize)("constants.feedback","Feedback on the PostgreSQL assessment experience"),t.PROVIDER_ID="PGSQL"},4862:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IconPathHelper=void 0;class n{static setExtensionContext(e){n.copy={light:e.asAbsolutePath("images/copy.svg"),dark:e.asAbsolutePath("images/copy.svg")},n.add={light:e.asAbsolutePath("images/add.svg"),dark:e.asAbsolutePath("images/add.svg")},n.discard={light:e.asAbsolutePath("images/discard.svg"),dark:e.asAbsolutePath("images/discard.svg")},n.refresh={light:e.asAbsolutePath("images/refresh.svg"),dark:e.asAbsolutePath("images/refresh.svg")},n.dashboardBackground={light:e.asAbsolutePath("images/dashboardWatermark.svg"),dark:e.asAbsolutePath("images/dashboardWatermark.svg")},n.postgresicon={light:e.asAbsolutePath("images/pgsqlMigrationExtensionIcon.svg"),dark:e.asAbsolutePath("images/pgsqlMigrationExtensionIcon.svg")},n.cancel={light:e.asAbsolutePath("images/cancel.svg"),dark:e.asAbsolutePath("images/cancel.svg")},n.info={light:e.asAbsolutePath("images/info.svg"),dark:e.asAbsolutePath("images/info.svg")},n.delete={light:e.asAbsolutePath("images/delete.svg"),dark:e.asAbsolutePath("images/delete.svg")},n.error={light:e.asAbsolutePath("images/error.svg"),dark:e.asAbsolutePath("images/error.svg")},n.sendFeedback={light:e.asAbsolutePath("images/sendFeedback.svg"),dark:e.asAbsolutePath("images/sendFeedback.svg")},n.expandButtonClosed={light:e.asAbsolutePath("images/expandButtonClosedLight.svg"),dark:e.asAbsolutePath("images/expandButtonClosedDark.svg")},n.expandButtonOpen={light:e.asAbsolutePath("images/expandButtonOpenLight.svg"),dark:e.asAbsolutePath("images/expandButtonOpenDark.svg")},n.newSupportRequest={light:e.asAbsolutePath("images/newSupportRequest.svg"),dark:e.asAbsolutePath("images/newSupportRequest.svg")},n.blankCanvas={light:e.asAbsolutePath("images/blankCanvas.svg"),dark:e.asAbsolutePath("images/blankCanvas.svg")},n.notebook={light:e.asAbsolutePath("images/notebook.svg"),dark:e.asAbsolutePath("images/notebook.svg")},n.supportRequest={light:e.asAbsolutePath("images/newSupportRequest.svg"),dark:e.asAbsolutePath("images/newSupportRequest.svg")},n.settings={light:e.asAbsolutePath("images/settings.svg"),dark:e.asAbsolutePath("images/settings.svg")},n.successStatus={light:e.asAbsolutePath("images/successStatus.svg"),dark:e.asAbsolutePath("images/successStatus.svg")},n.waitingState={light:e.asAbsolutePath("images/waitingState.svg"),dark:e.asAbsolutePath("images/waitingState.svg")},n.download={light:e.asAbsolutePath("images/download.svg"),dark:e.asAbsolutePath("images/download.svg")},n.viewRules={light:e.asAbsolutePath("images/applicableRules.svg"),dark:e.asAbsolutePath("images/applicableRules.svg")},n.inProgress={light:e.asAbsolutePath("images/inProgress.svg"),dark:e.asAbsolutePath("images/inProgress.svg")},n.failed={light:e.asAbsolutePath("images/failed.svg"),dark:e.asAbsolutePath("images/failed.svg")},n.warning={light:e.asAbsolutePath("images/warning.svg"),dark:e.asAbsolutePath("images/warning.svg")},n.postgreSQLMigrationIcon={light:e.asAbsolutePath("images/postgreSQLMigrationIcon.png"),dark:e.asAbsolutePath("images/postgreSQLMigrationIcon.png")},n.addNew={light:e.asAbsolutePath("images/addNew.svg"),dark:e.asAbsolutePath("images/addNew.svg")},n.blocker={light:e.asAbsolutePath("images/error.svg"),dark:e.asAbsolutePath("images/error.svg")},n.ready={light:e.asAbsolutePath("images/ready.svg"),dark:e.asAbsolutePath("images/ready.svg")},n.readyWithCondition={light:e.asAbsolutePath("images/readyWithCondition.svg"),dark:e.asAbsolutePath("images/readyWithCondition.svg")},n.notReady={light:e.asAbsolutePath("images/notReady.svg"),dark:e.asAbsolutePath("images/notReady.svg")},n.noIcon={light:e.asAbsolutePath("images/noIcon.svg"),dark:e.asAbsolutePath("images/noIcon.svg")},n.onPremPostgresIcon={light:e.asAbsolutePath("images/onPremPostgresIcon.svg"),dark:e.asAbsolutePath("images/onPremPostgresIcon.svg")},n.dbNotReadyPostgresIcon={light:e.asAbsolutePath("images/DBNotReady.svg"),dark:e.asAbsolutePath("images/DBNotReady.svg")},n.dbReadyWithConditionsPostgresIcon={light:e.asAbsolutePath("images/DBReadywithConditions.svg"),dark:e.asAbsolutePath("images/DBReadywithConditions.svg")},n.informationIcon={light:e.asAbsolutePath("images/informationIcon.png"),dark:e.asAbsolutePath("images/informationIcon.png")},n.successCollectionIcon={light:e.asAbsolutePath("images/successCollectionIcon.png"),dark:e.asAbsolutePath("images/successCollectionIcon.png")},n.stopCollectionIconDisabled={light:e.asAbsolutePath("images/stopCollectionIconDisabled.png"),dark:e.asAbsolutePath("images/stopCollectionIconDisabled.png")},n.stopCollectionIconEnabled={light:e.asAbsolutePath("images/stopCollectionIconEnabled.png"),dark:e.asAbsolutePath("images/stopCollectionIconEnabled.png")},n.startCollectionIconDisabled={light:e.asAbsolutePath("images/startCollectionIconDisabled.png"),dark:e.asAbsolutePath("images/startCollectionIconDisabled.png")},n.startCollectionIconEnabled={light:e.asAbsolutePath("images/startCollectionIconEnabled.svg"),dark:e.asAbsolutePath("images/startCollectionIconEnabled.svg")},n.spinner={light:e.asAbsolutePath("images/spinner.png"),dark:e.asAbsolutePath("images/spinner.png")},n.divider={light:e.asAbsolutePath("images/divider.png"),dark:e.asAbsolutePath("images/divider.png")},n.cancelDataCollection={light:e.asAbsolutePath("images/cancelDataCollection.png"),dark:e.asAbsolutePath("images/cancelDataCollection.png")},n.starDark={light:e.asAbsolutePath("images/starDark.png"),dark:e.asAbsolutePath("images/starDark.png")},n.starLight={light:e.asAbsolutePath("images/starLight.png"),dark:e.asAbsolutePath("images/starLight.png")},n.migrationReady={light:e.asAbsolutePath("images/migrationReadyGreen.svg"),dark:e.asAbsolutePath("images/migrationReadyGreen.svg")}}}t.IconPathHelper=n},9444:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PERFORMANCE_INFORMATION_TEXT=t.PERFORMANCE_PARAMETERS=t.MANUAL_COLLECTION=t.AUTOMATIC_COLLECTION=t.CHOOSECOLLECTIONTYPE_INFORMATION_TEXT=t.ASSESSMENT_PARAMETER_INFORMATION_TEXT=t.NO=t.YES=t.ASSESS=t.WIZARD_DONE=t.WIZARD_BACK=t.WIZARD_NEXT=t.ASSESSMENT_IN_PROGRESS=t.ASSESSMENT_RESULTS_AND_RECOMMENDATIONS_PAGE_TITLE=t.ASSESSMENT_PARAMETERS=t.LOADING_DATABASE_LIST=t.DATABASE_FOR_ASSESSMENT_DESCRIPTION=t.DATABASE_FOR_ASSESSMENT_PAGE_TITLE=t.SELECT_DATABASE_TO_CONTINUE=t.DESKTOP_FEEDBACK_BUTTON_DESCRIPTION=t.DESKTOP_FEEDBACK_BUTTON_LABEL=t.DESKTOP_SUPPORT_BUTTON_DESCRIPTION=t.DESKTOP_SUPPORT_BUTTON_LABEL=t.DESKTOP_ASSESSMENT_BUTTON_DESCRIPTION=t.DESKTOP_ASSESSMENT_RUN_BUTTON_LABEL=t.DESKTOP_ASSESSMENT_BUTTON_LABEL=t.DASHBOARD_HELP_DESCRIPTION_DMS_GUIDE=t.DASHBOARD_HELP_LINK_DMS_GUIDE=t.DASHBOARD_SIMPLIFYING_MIGRATION_GUIDE_DESCRIPTION=t.DASHBOARD_SIMPLIFYING_MIGRATION_GUIDE=t.DASHBOARD_HELP_LINK_MIGRATE_USING_PORTAL_DESCRIPTION=t.DASHBOARD_HELP_LINK_MIGRATE_USING_PORTAL=t.DASHBOARD_ASSESSMENT_TASK_BUTTON_DESCRIPTION=t.HELP_TITLE=t.PRE_REQ_2=t.PRE_REQ_1=t.PRE_REQ_TITLE=t.FEEDBACK_ISSUE_TITLE=t.DASHBOARD_DESCRIPTION=t.DASHBOARD_TITLE=t.DASHBOARD=t.LEARN_MORE_ABOUT_PRE_REQS=t.LEARN_MORE=t.SEARCH=t.SIZE=t.DATABASE=t.ASSESSMENT_STARTED_MESSAGE=t.INVALID_ERROR_MESSAGE=t.EXTENSION_NAME=t.ASSESSMENT_NAME=void 0,t.SOURCE_PROPERTIES_HEADING=t.RECOMMENDED_CONFIGURATION=t.HOST_NAME=t.FOR_TARGET_TYPE=t.ASSESSMENT=t.ASSESSMENT_CREATED_ON=t.FOR=t.NO_SKU=t.COLLECTION_CANCELLED=t.ASSESSMENT_CANCELLED=t.UPLOAD_FAILURE=t.UPLOAD_SUCCESS=t.ASSESSMENT_PARAMETER_PAGE_DESCRIPTION=t.BROWSE=t.ASSESSMENT_PARAMETER_FILE_NAME=t.AZURE_RECOMMENDATION_COLLECT_DATA_FILE=t.ACTUAL_MEMORY_TEXT=t.USED_MEMORY_TEXT=t.ACTUAL_VCORES_TEXT=t.USED_VCORES_TEXT=t.FIFTY=t.NINETY=t.NINETY_FIVE=t.NINETY_NINE=t.PERCENTILE_UTILIZATION_INFORMATION_TEXT=t.PERCENTILE_UTILIZATION=t.ENTER_VALUE_IN_GB=t.ENTER_VALUE=t.MINUTES_TEXT=t.HOURS_TEXT=t.AUTOMATIC_COLLECTION_INFORMATION_TEXT=t.TIME_DURATION_INFORMATION_TEXT=t.TIME_DURATION_TEXT=t.REOMMENDATION_PARAMETERS_TEXT=t.DATA_COLLECTION_DURATION_TEXT=t.INPUT_INFORMATION_TEXT=t.INPUT_PARAMETERS=t.ENTER_VALID_INPUT=t.SCALE_FACTOR_INFORMATION_TEXT=t.SCALE_FACTOR=t.IOPS_INFORMATION_TEXT=t.IOPS_TEXT=t.MEMORY_INFORMATION_TEXT=t.MEMORY_GB_TEXT=t.MEMORY_TEXT=t.STORAGE_INFORMATION_TEXT=t.STORAGE_GB_TEXT=t.STORAGE_TEXT=t.VCORES_INFORMATION_TEXT=t.VCORES_TEXT=void 0,t.COLLATION_SOURCE_VERSION=t.COLLATION_NAME=t.PG_EXTENSION_TARGET_VERSION=t.PG_EXTENSION_SOURCE_VERSION=t.PG_EXTENSION_DESCRIPTION=t.PG_EXTENSION_NAME=t.ISSUE_DESCRIPTION=t.DATABASE_NAME=t.PARAMETER_DESCRIPTION=t.PARAMETER_TYPE=t.TARGET_PARAMETER_VALUE=t.SOURCE_PARAMETER_VALUE=t.READINESS=t.ASSESSMENT_SEVERITY=t.PARAMETER_NAME=t.FEATURE_NAME=t.NO_RESULTS_AVAILABLE=t.SELECT_ISSUES_PROMPT=t.SELECT_DB_PROMPT=t.ISSUE=t.FINDINGS=t.ISSUES=t.DATABASES_TABLE_TILE=t.ISSUES_DETAILS=t.WARNINGS_DETAILS=t.TARGET_PLATFORM=t.MORE_INFO=t.RECOMMENDATION=t.DESCRIPTION=t.WARNINGS=t.INSTANCE=t.PGSQL_SERVER_INSTANCE=t.SAVE_ASSESSMENT_REPORT=t.CYCLE_COMPLETE_TEXT=t.FINDING_BEST_SKU_TEXT=t.DOWNLOAD_REPORT=t.DATABASE_COLLATIONS_COMPATIBILITY=t.DATABASE_EXTENSIONS_COMPATIBILITY=t.SERVER_SETTINGS_COMPATIBILITY=t.FEATURE_COMPATIBILITY=t.TOTAL_DATABASE_BLOCKERS=t.TOTAL_DATABASE_WARNINGS=t.TOTAL_SERVER_BLOCKERS=t.TOTAL_SERVER_WARNINGS=t.DATABASE_ASSESSMENT_SUMMARY=t.ASSESSMENT_SUMMARY=t.REPORT_SAVED_MESSAGE=t.TO_BE_UPDATED=t.NA=t.OS_VERSION=void 0,t.ALL_CYCLES_COMPLETED_TEXT=t.MANUAL_DATA_COLLECTION_DESCRIPTION=t.CONFIDENCE_RATING_DESCRIPTION=t.CONFIDENCE_RATING=t.NOT_APPLICABLE=t.COMPLETED=t.VERSION_CHECK_16_AND_ABOVE_ERROR=t.STOP_COLLECTION=t.START_COLLECTION=t.TOTAL_TIME=t.TIME_REMAINING=t.IN_PROGRESS=t.RECOMMENDATION_REASON=t.RECOMMENDATION_DETAILS=t.VIEWDETAILS=t.PERMISSION_AUTOMATIC_COLLECTION__VERSION_ERROR=t.LINUX_AUTOMATIC_COLLECTION__VERSION_ERROR=t.MAC_AUTOMATIC_COLLECTION_ERROR=t.WINDOWS_AUTOMATIC_COLLECTION_ERROR=t.DATA_COLLECTION_DESCRIPTION=t.DATA_COLLECTION_STATUS=t.NEXT=t.DB_ISSUES_SUMMARY_TEXT=t.SERVER_ISSUES_SUMMARY_TEXT=t.DATABASE_MIGRATION_READINESS_HEADING=t.MIGRATION_READINESS_HEADING=t.ISSUE_BY_TYPE=t.ISSUE_BY_SEVERITY=t.SUMMARY=t.COLLAPSED=t.EXPANDED=t.TARGET_14=t.VIEW_ASSESSMENT_RESULTS=t.FULLY_COMPATIBLE=t.PARAMETER_VALUE=t.DATABASE_SUMMARY=t.INSTANCE_SUMMARY=t.TOTAL_BLOCKERS_COUNT=t.TOTAL_WARNINGS_COUNT=t.TOTAL_INFO_COUNT=t.SOURCE_SERVER_VERSION=t.TARGET_VERSION_HEADING_TEXT=t.TARGET_VERSION_WO_COLON=t.TARGET_VERSION=t.TARGET_PLATFORM_VALUE2=t.TARGET_PLATFORM_VALUE1=t.COLLATION_IMPACTED_OBJECTS=t.TARGET_ENCODING=t.SOURCE_ENCODING=t.COLLATION_TARGET_VERSION=void 0,t.STORAGE_UPPER_LIMIT_WITH_SCALE=t.STORAGE_UPPER_LIMIT=t.MEMORY_UPPER_LIMIT_WITH_SCALE=t.MEMORY_UPPER_LIMIT=t.VCORES_UPPER_LIMIT_WITH_SCALE=t.VCORES_UPPER_LIMIT=t.FAILED_MESSAGE=t.INSTANCE_SIZE=t.DATABASE_SIZE=t.DB_READY=t.DB_READY_WITH_CONDITION=t.DB_NOT_READY_WITH_COUNT=t.COLLATION_ISSUES_WITH_COUNT=t.EXTENSION_ISSUES_WITH_COUNT=t.SERVER_PARAMTER_ISSUES_TEXT=t.FEATURE_ISSUES_TEXT=t.INFO_TEXT=t.WARNING_ISSUE_TEXT=t.BLOCKING_ISSUE_TEXT=t.NOT_READY=t.READY_WITH_CONDITION=t.READY_TEXT=t.TOTAL_ISSUES_FOUND=t.ASSESSED_DATABASES=t.ASSESSMENT_SUMMARY_DESCRIPTION=t.READINESS_WITH_PREFIX_AND_OBJECT=t.FINDINGS_COUNT=t.ISSUES_COUNT=t.DATABASES=t.ASSESSMENT_RESULTS=t.COLLATIONS_HEADING_WITH_COUNT=t.EXTENSIONS_HEADING_WITH_COUNT=t.SERVER_SETTINGS_HEADING_WITH_COUNT=t.FEATURES_HEADING_WITH_COUNT=t.WARNINGS_COUNT=t.READINESS_WITH_PREFIX=t.SEVERITY_WITH_PREFIX=t.NAME_WITH_PREFIX=t.RECOMMENDED_TARGET_REPORT_TEXT=t.RECOMMENDED_TARGET_VALUE=t.RECOMMENDED_TARGET_TYPE=t.ASSESSMENT_IN_PROGRESS_CONTENT=t.DATABASES_SELECTED=t.WIZARD_TITLE=t.SERVICE_CRASH_MESSAGE=t.DATA_COLLECTION_PROPERTIES=t.TOTAL_TIME_TEXT=t.TIME_REMAINING_TEXT=t.CYCLES_COMPLETED_TEXT=t.STOPPED=void 0,t.READY_WITH_CONDITIONS_FOR_MIGRATION=t.NOT_READY_FOR_MIGRATION=t.READY_FOR_MIGRATION=t.CONFIDENCE_RATING_REPORT=t.CYCLES_COMPLETED_REPORT=t.TIME_HRS_MINUTES=t.TOTAL_TIME_DURATION=t.CYCLES_COMPLETED=t.DATA_COLLECTION_TIMER=t.IOPS_UPPER_LIMIT_WITH_SCALE=t.IOPS_UPPER_LIMIT=void 0;const i=n(8874),r=n(1017).join(__dirname,"..","..","i18n");i.Localization.setup(r),t.ASSESSMENT_NAME={key:"pgsql.migration.assessment.name",value:"AssessmentName"},t.EXTENSION_NAME={key:"pgsql.migration.extension.name",value:"Azure PostgreSQL migration"},t.INVALID_ERROR_MESSAGE={key:"pgsql.migration.invalid.message",value:"Invalid path provided. Using default path -"},t.ASSESSMENT_STARTED_MESSAGE={key:"pgsql.migration.assessment.started.message",value:"PostgreSQL database assessment has started"},t.DATABASE={key:"pgsql.migration.database",value:"Database"},t.SIZE={key:"pgsql.migration.sizeInGB",value:"Size (GB)"},t.SEARCH={key:"pgsql.migration.search",value:"Filter Databases"},t.LEARN_MORE={key:"pgsql.migration.learn.more",value:"Learn more"},t.LEARN_MORE_ABOUT_PRE_REQS={key:"pgsql.migration.learn.more.prerequisites",value:"Learn more about things you need before starting a migration."},t.DASHBOARD={key:"pgsql.migration.dashboard",value:"Dashboard"},t.DASHBOARD_TITLE={key:"pgsql.migration.dashboard.title",value:"Azure PostgreSQL migration"},t.DASHBOARD_DESCRIPTION={key:"pgsql.migration.dashboard.description",value:"Determine the migration readiness of PostgreSQL Server instances by analyzing the Server and Databases compatibility and provide a recommended Azure Database for PostgreSQL - Flexible server target. Migration Capability of PostgreSQL Server instance to Azure Database for PostgreSQL - Flexible server will be available in future."},t.FEEDBACK_ISSUE_TITLE={key:"pgsql.migration.feedback.issue.title",value:"Feedback on the PostgreSQL assessment experience"},t.PRE_REQ_TITLE={key:"pgsql.migration.pre.req.title",value:"Things you need before starting your Azure  PostgreSQL migration:"},t.PRE_REQ_1={key:"pgsql.migration.pre.req.1",value:"Azure account details"},t.PRE_REQ_2={key:"pgsql.migration.pre.req.2",value:"Azure Database for PostgreSQL - Flexible server"},t.HELP_TITLE={key:"pgsql.migration.dashboard.help.title",value:"Help articles and video links"},t.DASHBOARD_ASSESSMENT_TASK_BUTTON_DESCRIPTION={key:"pgsql.migration.dashboard.assessment.task.button.description",value:"Assess PostgreSQL database for Migration Readiness"},t.DASHBOARD_HELP_LINK_MIGRATE_USING_PORTAL={key:"pgsql.dashboard.help.link.migrate.using.portal",value:"Migrate PostgreSQL to Azure DB for PostgreSQL online using DMS via the Azure portal"},t.DASHBOARD_HELP_LINK_MIGRATE_USING_PORTAL_DESCRIPTION={key:"pgsql.dashboard.help.link.migrate.using.portal.description",value:"A step-by-step tutorial to migrate databases from a PostgreSQL Server instance to Azure Database for PostgreSQL - Flexible servers with minimal downtime."},t.DASHBOARD_SIMPLIFYING_MIGRATION_GUIDE={key:"pgsql.migration.dashboard.simplifying.migration.guide",value:"Simplifying migrations to Azure Database for PostgreSQL"},t.DASHBOARD_SIMPLIFYING_MIGRATION_GUIDE_DESCRIPTION={key:"pgsql.migration.dashboard.simplifying.migration.guide.description",value:"This video discusses the benefits of Azure Database for PostgreSQL and options available to migrate your PostgreSQL workloads to Azure Database for PostgreSQL."},t.DASHBOARD_HELP_LINK_DMS_GUIDE={key:"pgsql.migration.dashboard.help.link.dmsGuide",value:"PostgreSQL assessment in Azure Data Studio"},t.DASHBOARD_HELP_DESCRIPTION_DMS_GUIDE={key:"pgsql.migration.dashboard.help.description.dmsGuide",value:"Provide end-to-end assessment experience with right-sized target recommendations for Azure Database for PostgreSQL using the Azure PostgreSQL migration extension in Azure Data Studio."},t.DESKTOP_ASSESSMENT_BUTTON_LABEL={key:"pgsql.migration.tab.button.assessment.label",value:"New Assessment"},t.DESKTOP_ASSESSMENT_RUN_BUTTON_LABEL={key:"pgsql.migration.tab.button.run.assessment.label",value:"Run new assessment"},t.DESKTOP_ASSESSMENT_BUTTON_DESCRIPTION={key:"pgsql.migration.tab.button.assessment.description",value:"Run assessment on PostgreSQL Server"},t.DESKTOP_SUPPORT_BUTTON_LABEL={key:"pgsql.migration.tab.button.support.label",value:"Help & Support"},t.DESKTOP_SUPPORT_BUTTON_DESCRIPTION={key:"pgsql.migration.tab.button.support.description",value:"Help & Support"},t.DESKTOP_FEEDBACK_BUTTON_LABEL={key:"pgsql.migration.tab.button.feedback.label",value:"Feedback"},t.DESKTOP_FEEDBACK_BUTTON_DESCRIPTION={key:"pgsql.migration.tab.button.feedback.description",value:"Feedback"},t.SELECT_DATABASE_TO_CONTINUE={key:"pgsql.migration.select.database.to.continue",value:"Please select 1 or more databases to assess for migration"},t.DATABASE_FOR_ASSESSMENT_PAGE_TITLE={key:"pgsql.migration.database.assessment.title",value:"Database(s) for assessment"},t.DATABASE_FOR_ASSESSMENT_DESCRIPTION={key:"pgsql.migration.database.assessment.description",value:"Select Database(s) you want to assess for Azure Database for PostgreSQL - Flexible server."},t.LOADING_DATABASE_LIST={key:"pgsql.migration.loading.database.list",value:"Loading Database List"},t.ASSESSMENT_PARAMETERS={key:"pgsql.migration.assessment.parameters.title",value:"Assessment Parameters"},t.ASSESSMENT_RESULTS_AND_RECOMMENDATIONS_PAGE_TITLE={key:"pgsql.migration.assessment.results.and.recommendations.title",value:"Assessment results and recommendations"},t.ASSESSMENT_IN_PROGRESS={key:"pgsql.migration.assessment.in.progress",value:"Assessment in progress"},t.WIZARD_NEXT={key:"pgsql.migration.wizard.next",value:"Next"},t.WIZARD_BACK={key:"pgsql.migration.wizard.back",value:"Back"},t.WIZARD_DONE={key:"pgsql.migration.wizard.done",value:"Done"},t.ASSESS={key:"pgsql.migration.wizard.assess",value:"Assess"},t.YES={key:"pgsql.migration.yes",value:"Yes"},t.NO={key:"pgsql.migration.no",value:"No"},t.ASSESSMENT_PARAMETER_INFORMATION_TEXT={key:"pgsql.migration.assessment.parameter.information.text1",value:"SKU Recommendation for target requires performance data of PostgreSQL Server instance. Select automatic data collection or provide the data parameters manually."},t.CHOOSECOLLECTIONTYPE_INFORMATION_TEXT={key:"pgsql.migration.choosecollectiontype.information.text",value:"Choose how you want to provide assessment performance data parameters"},t.AUTOMATIC_COLLECTION={key:"pgsql.migration.automatic.collection",value:"Automatically collect performance data"},t.MANUAL_COLLECTION={key:"pgsql.migration.manual.collection",value:" Enter performance data parameters"},t.PERFORMANCE_PARAMETERS={key:"pgsql.migration.performance.parameter.text",value:"Performance data parameters"},t.PERFORMANCE_INFORMATION_TEXT={key:"pgsql.migration.performance.information.text",value:"Azure SKU recommendation requires performance metrics of PostgreSQL Server instance like Memory, vCores, Storage, and IOPS to determine the rightsized SKU."},t.VCORES_TEXT={key:"pgsql.migration.vcores.text",value:"vCores"},t.VCORES_INFORMATION_TEXT={key:"pgsql.migration.vcores.information.text",value:"Number of logical cores"},t.STORAGE_TEXT={key:"pgsql.migration.storage.text",value:"Storage"},t.STORAGE_GB_TEXT={key:"pgsql.migration.storage.gb.text",value:"Storage (in GB)"},t.STORAGE_INFORMATION_TEXT={key:"pgsql.migration.storage.information.text",value:"Total storage used for a PostgreSQL Server instance. Enter value in GB."},t.MEMORY_TEXT={key:"pgsql.migration.memory.text",value:"Memory"},t.MEMORY_GB_TEXT={key:"pgsql.migration.memory.gb.text",value:"Memory (in GB)"},t.MEMORY_INFORMATION_TEXT={key:"pgsql.migration.memory.information.text",value:"Total memory used for a PostgreSQL Server instance. Enter value in GB."},t.IOPS_TEXT={key:"pgsql.migration.iops.text",value:"IOPS"},t.IOPS_INFORMATION_TEXT={key:"pgsql.migration.iops.information.text",value:"Input/Output operations per second by the PostgreSQL Server instance."},t.SCALE_FACTOR={key:"pgsql.migration.scalefactor.text",value:"Scale factor"},t.SCALE_FACTOR_INFORMATION_TEXT={key:"pgsql.migration.scalefactor.information.text1",value:"Performance multiplier to cover scenario such as seasonal usage, future usage. Applied to Memory, vCores, Storage, and IOPS."},t.ENTER_VALID_INPUT={key:"pgsql.migration.enter.valid.input.text",value:"Please enter a valid input"},t.INPUT_PARAMETERS={key:"pgsql.migration.input.parameter.text",value:"Input parameters"},t.INPUT_INFORMATION_TEXT={key:"pgsql.migration.input.information.text",value:"Azure SKU Input requires recommendation metrics data of PostgreSQL server instance like scale factor to determine the right-sized SKU."},t.DATA_COLLECTION_DURATION_TEXT={key:"pgsql.migration.data.collection.duration.text",value:"Data collection duration"},t.REOMMENDATION_PARAMETERS_TEXT={key:"pgsql.migration.recommendation.parameters.text",value:"Recommendation parameters"},t.TIME_DURATION_TEXT={key:"pgsql.migration.time.duration.text",value:"Time duration"},t.TIME_DURATION_INFORMATION_TEXT={key:"pgsql.migration.time.duration.information.text",value:"Time duration for collecting performance data."},t.AUTOMATIC_COLLECTION_INFORMATION_TEXT={key:"pgsql.migration.automatic.collection.information.text",value:"It is recommended to perform the assessment data collection during peak workload time and data collection duration should be 24 hours. The assessment wizard needs to be open while the data collection is in progress. {0}"},t.HOURS_TEXT={key:"pgsql.migration.hours.text",value:"Hours:"},t.MINUTES_TEXT={key:"pgsql.migration.minutes.text",value:"Minutes:"},t.ENTER_VALUE={key:"pgsql.migration.enter.value",value:"Enter value"},t.ENTER_VALUE_IN_GB={key:"pgsql.migration.enter.value.in.gb",value:"Enter value in GB"},t.PERCENTILE_UTILIZATION={key:"pgsql.migration.percentile.utilization",value:"Percentile utilization"},t.PERCENTILE_UTILIZATION_INFORMATION_TEXT={key:"pgsql.migration.percentile.utilization.information.text",value:"Percentile value of the performance sample used for right sizing."},t.NINETY_NINE={key:"pgsql.migration.ninety.nine",value:"99th"},t.NINETY_FIVE={key:"pgsql.migration.ninety.five",value:"95th"},t.NINETY={key:"pgsql.migration.ninety",value:"90th"},t.FIFTY={key:"pgsql.migration.fifty",value:"50th"},t.USED_VCORES_TEXT={key:"pgsql.migration.used.vCores",value:"Used vCores"},t.ACTUAL_VCORES_TEXT={key:"pgsql.migration.actual.vCores",value:"Actual vCores"},t.USED_MEMORY_TEXT={key:"pgsql.migration.used.memory",value:"Used Memory (in GB)"},t.ACTUAL_MEMORY_TEXT={key:"pgsql.migration.actual.memory",value:"Actual Memory (in GB)"},t.AZURE_RECOMMENDATION_COLLECT_DATA_FILE={key:"pgsql.migration.sku.azureRecommendation.collectDataSelectFile.instructions",value:"Select the json file with assessment parameters"},t.ASSESSMENT_PARAMETER_FILE_NAME={key:"pgsql.migration.azureRecommendation.file.name",value:"File name"},t.BROWSE={key:"pgsql.migration.azureRecommendation.browse",value:"Browse"},t.ASSESSMENT_PARAMETER_PAGE_DESCRIPTION={key:"pgsql.migration.assessment.parameter.page.description",value:"For performing assessment, upload the JSON file with additional parameters containing information about - Connection Pooling, Customer Managed Keys and Read Replica. Also, Azure SKU recommendation requires performance metrics data of PostgreSQL Server instance like Core, CPU Memory and Storage to determine SKU."},t.UPLOAD_SUCCESS={key:"pgsql.migration.upload.success",value:"Assessment Parameters file uploaded successfully"},t.UPLOAD_FAILURE={key:"pgsql.migration.upload.failure",value:"Assessment Parameters file is not properly formatted"},t.ASSESSMENT_CANCELLED={key:"pgsql.migration.assessment.cancelled",value:"Assessment has been cancelled"},t.COLLECTION_CANCELLED={key:"pgsql.migration.assessment.collection.cancelled",value:"Automatic Collection has been cancelled"},t.NO_SKU={key:"pgsql.assessment.no.sku",value:"No SKU Recommendations"},t.FOR={key:"pgsql.assessment.for",value:"for"},t.ASSESSMENT_CREATED_ON={key:"pgsql.assessment.created.on",value:"Assessment Report created on"},t.ASSESSMENT={key:"pgsql.assessment.assessment",value:"Assessment for target platform - Azure Database for PostgreSQL - Flexible servers"},t.FOR_TARGET_TYPE={key:"pgsql.assessment.for.target.type",value:"for target type"},t.HOST_NAME={key:"pgsql.assessment.host.name",value:"Host name"},t.RECOMMENDED_CONFIGURATION={key:"pgsql.assessment.recommended.configuration",value:"Recommended Configuration"},t.SOURCE_PROPERTIES_HEADING={key:"pgsql.assessment.source.properties.heading",value:"Source properties"},t.OS_VERSION={key:"pgsql.assessment.os.version",value:"OS version"},t.NA={key:"pgsql.assessment.na",value:"NA"},t.TO_BE_UPDATED={key:"pgsql.assessment.tbu",value:"Gets updated after first cycle is completed."},t.REPORT_SAVED_MESSAGE={key:"pgsql.assessment.report.message",value:"Report has been saved. Do you want to open it?"},t.ASSESSMENT_SUMMARY={key:"pgsql.assessment.assessment.summary",value:"Assessment summary"},t.DATABASE_ASSESSMENT_SUMMARY={key:"pgsql.assessment.database.assessment.summary",value:"Database Assessment Summary"},t.TOTAL_SERVER_WARNINGS={key:"pgsql.assessment.total.server.warnings",value:"Total server warnings"},t.TOTAL_SERVER_BLOCKERS={key:"pgsql.assessment.total.server.blockers",value:"Total server blockers"},t.TOTAL_DATABASE_WARNINGS={key:"pgsql.assessment.total.database.warnings",value:"Total database warnings"},t.TOTAL_DATABASE_BLOCKERS={key:"pgsql.assessment.total.database.blockers",value:"Total database blockers"},t.FEATURE_COMPATIBILITY={key:"pgsql.assessment.feature.compatibility",value:"Feature Compatibility"},t.SERVER_SETTINGS_COMPATIBILITY={key:"pgsql.assessment.server.settings.compatibility",value:"Server Settings Compatibility"},t.DATABASE_EXTENSIONS_COMPATIBILITY={key:"pgsql.assessment.database.extension.compatibility",value:"Database Extensions Compatibility"},t.DATABASE_COLLATIONS_COMPATIBILITY={key:"pgsql.assessment.database.collation.compatibility",value:"Database Collations Compatibility"},t.DOWNLOAD_REPORT={key:"pgsql.assessment.download.report",value:"Download report"},t.FINDING_BEST_SKU_TEXT={key:"pgsql.assessment.finding.bestsku",value:"Finding best SKU. Please wait..."},t.CYCLE_COMPLETE_TEXT={key:"pgsql.assessment.sku.cycle.complete.text",value:"SKU recommendation will be displayed once data collection for first cycle is complete."},t.SAVE_ASSESSMENT_REPORT={key:"pgsql.assessment.save.assessment.report",value:"Save Assessment"},t.PGSQL_SERVER_INSTANCE={key:"pgsql.migration.pgsql.server.instance",value:"PostgreSQL Server instance"},t.INSTANCE={key:"pgsql.migration.instance",value:"Instance"},t.WARNINGS={key:"pgsql.migration.Warnings",value:"Warnings"},t.DESCRIPTION={key:"pgsql.migration.description",value:"Description"},t.RECOMMENDATION={key:"pgsql.migration.recommendation",value:"Recommendation"},t.MORE_INFO={key:"pgsql.migration.more.info",value:"More info"},t.TARGET_PLATFORM={key:"pgsql.migration.target.platform",value:"Target platform"},t.WARNINGS_DETAILS={key:"pgsql.migration.warnings.details",value:"Warnings details"},t.ISSUES_DETAILS={key:"pgsql.migration.issues.details",value:"Details"},t.DATABASES_TABLE_TILE=(0,i.localize)("pgsql.migration.databases.table.title","Databases"),t.ISSUES={key:"pgsql.migration.issues",value:"Issues"},t.FINDINGS={key:"pgsql.migration.findings",value:"Findings"},t.ISSUE={key:"pgsql.migration.issue",value:"Issue"},t.SELECT_DB_PROMPT=(0,i.localize)("pgsql.migration.select.prompt","Click on PGSQL Server instance or any of the databases on the left to view its details."),t.SELECT_ISSUES_PROMPT=(0,i.localize)("pgsql.migration.select.issues.prompt","Click on PGSQL Server instance or any of the databases issues on the left to view its details."),t.NO_RESULTS_AVAILABLE=(0,i.localize)("pgsql.migration.no.results","Assessment results are unavailable."),t.FEATURE_NAME={key:"pgsql.migration.feature.name",value:"Feature"},t.PARAMETER_NAME={key:"pgsql.migration.parameter.name",value:"Parameter"},t.ASSESSMENT_SEVERITY={key:"pgsql.migration.assessment.severity",value:"Severity"},t.READINESS={key:"pgsql.migration.assessment.readiness",value:"Readiness"},t.SOURCE_PARAMETER_VALUE={key:"pgsql.migration.source.parameter.value",value:"Source Parameter Value"},t.TARGET_PARAMETER_VALUE={key:"pgsql.migration.targer.parameter.value",value:"Default Target Parameter Value"},t.PARAMETER_TYPE={key:"pgsql.migration.source.parameter.type",value:"Parameter Type"},t.PARAMETER_DESCRIPTION={key:"pgsql.migration.parameter.description",value:"Parameter Description"},t.DATABASE_NAME={key:"pgsql.migration.database.name",value:"Database"},t.ISSUE_DESCRIPTION={key:"pgsql.migration.issue.description",value:"Issue Description"},t.PG_EXTENSION_NAME={key:"pgsql.migration.pg.extension.name",value:"Extension"},t.PG_EXTENSION_DESCRIPTION={key:"pgsql.migration.pg.extension.description",value:"Description"},t.PG_EXTENSION_SOURCE_VERSION={key:"pgsql.migration.pg.extension.source.value",value:"Extension Source Version"},t.PG_EXTENSION_TARGET_VERSION={key:"pgsql.migration.pg.extension.target.value",value:"Extension Target Version"},t.COLLATION_NAME={key:"pgsql.migration.collation.name",value:"Collation Name"},t.COLLATION_SOURCE_VERSION={key:"pgsql.migration.collation.source.value",value:"Collation Source Version"},t.COLLATION_TARGET_VERSION={key:"pgsql.migration.collation..target.value",value:"Collation Target Version"},t.SOURCE_ENCODING={key:"pgsql.migration.source.encoding",value:"Source Encoding"},t.TARGET_ENCODING={key:"pgsql.migration.target.encoding",value:"Target Encoding"},t.COLLATION_IMPACTED_OBJECTS={key:"pgsql.migration.collation.impacted.objects",value:"Collation Impacted Objects"},t.TARGET_PLATFORM_VALUE1={key:"pgsql.migration.target.platform.value1",value:"Azure Database for "},t.TARGET_PLATFORM_VALUE2={key:"pgsql.migration.target.platform.value2",value:"PostgreSQL - Flexible server"},t.TARGET_VERSION={key:"pgsql.migration.target.version1",value:"Target Version: "},t.TARGET_VERSION_WO_COLON={key:"pgsql.migration.target.version.wo.colon",value:"Target Version"},t.TARGET_VERSION_HEADING_TEXT={key:"pgsql.migration.target.version.heading.text",value:"Select version of the target Azure database for PostgreSQL"},t.SOURCE_SERVER_VERSION={key:"pgsql.migration.source,server.version",value:"Source Server Version"},t.TOTAL_INFO_COUNT={key:"pgsql.migration.total.info.count",value:"Total Info"},t.TOTAL_WARNINGS_COUNT={key:"pgsql.migration.total.warnings.count",value:"Total Warning"},t.TOTAL_BLOCKERS_COUNT={key:"pgsql.migration.total.blocker.count",value:"Total Blocker"},t.INSTANCE_SUMMARY={key:"pgsql.migration.instance.summary",value:"Instance Summary"},t.DATABASE_SUMMARY={key:"pgsql.migration.database.summary",value:"Database Summary"},t.PARAMETER_VALUE={key:"pgsql.migration.parameter.value",value:"Value"},t.FULLY_COMPATIBLE={key:"pgsql.migration.fully.compatible",value:"No Issues Found for migration to Azure Database for PostgreSQL - Flexible server"},t.VIEW_ASSESSMENT_RESULTS={key:"pgsql.migration.view.assessment.results",value:"View Assessment Results"},t.TARGET_14={key:"pgsql.migration.target.14",value:"14"},t.EXPANDED={key:"pgsql.migration.expanded",value:"Expanded"},t.COLLAPSED={key:"pgsql.migration.collapsed",value:"Collapsed"},t.SUMMARY={key:"pgsql.migration.summary",value:"Summary"},t.ISSUE_BY_SEVERITY={key:"pgsql.migration.issue.by.severity",value:"Issue by Severity"},t.ISSUE_BY_TYPE={key:"pgsql.migration.issue.by.type",value:"Issue by Type"},t.MIGRATION_READINESS_HEADING={key:"pgsql.migration.migration.readiness.heading",value:"Migration Readiness of assessed databases in the Server Instance"},t.DATABASE_MIGRATION_READINESS_HEADING={key:"pgsql.migration.database.migration.readiness.heading",value:"Database migration readiness"},t.SERVER_ISSUES_SUMMARY_TEXT={key:"pgsql.migration.server.issues.summary.text",value:"Server instance assessment issues summary"},t.DB_ISSUES_SUMMARY_TEXT={key:"pgsql.migration.db.issues.summary.text",value:"Database assessment issues summary"},t.NEXT={key:"pgsql.migration.next",value:"Next"},t.DATA_COLLECTION_STATUS={key:"pgsql.migration.data.collection.status",value:"Data collection status"},t.DATA_COLLECTION_DESCRIPTION={key:"pgsql.migration.data.collection.description",value:"Performance data collection status and possible values are - In Progress, Completed, Stopped for automatic collection and Not Applicable for manual collection."},t.WINDOWS_AUTOMATIC_COLLECTION_ERROR={key:"pgsql.migration.windows.automatic.collection.error",value:"Windows Error: Automatic Collection is not supported on Windows, please enter the performance data parameters manually."},t.MAC_AUTOMATIC_COLLECTION_ERROR={key:"pgsql.migration.mac.automatic.collection.error",value:"Mac Error: Automatic Collection is not supported on Mac, please enter the performance data parameters manually."},t.LINUX_AUTOMATIC_COLLECTION__VERSION_ERROR={key:"pgsql.migration.linux.automatic.collection.version.error",value:"Automatic collection for PostgreSQL instances is not supported below version 11."},t.PERMISSION_AUTOMATIC_COLLECTION__VERSION_ERROR={key:"pgsql.migration.permission.automatic.collection.version.error",value:"Automatic collection requires user to be a superuser or have access to both pg_read_server_files role and pg_read_file function."},t.VIEWDETAILS={key:"pgsql.migration.view.details",value:"View details"},t.RECOMMENDATION_DETAILS={key:"pgsql.migration.recommendation.details",value:"Recommendation details"},t.RECOMMENDATION_REASON={key:"pgsql.migration.recommendation.reason",value:"Recommendation reason"},t.IN_PROGRESS={key:"pgsql.migration.inprogress",value:"In progress"},t.TIME_REMAINING={key:"pgsql.migration.time.remaining",value:"Cycle time remaining: 9 mins 52 secs"},t.TOTAL_TIME={key:"pgsql.migration.total.time",value:"Total Time: 1hrs 20mins"},t.START_COLLECTION={key:"pgsql.migration.start.collection",value:"Start collection"},t.STOP_COLLECTION={key:"pgsql.migration.stop.collection",value:"Stop collection"},t.VERSION_CHECK_16_AND_ABOVE_ERROR={key:"pgsql.migration.version.16.and.above.error",value:"Assessment cannot be initiated, Source PostgreSQL version 16 and above is not supported in Azure Database for PostgreSQL - Flexible server"},t.COMPLETED={key:"pgsql.migration.completed",value:"Completed"},t.NOT_APPLICABLE={key:"pgsql.migration.not.applicable",value:"Not Applicable"},t.CONFIDENCE_RATING={key:"pgsql.migration.confidence.rating",value:"Confidence rating"},t.CONFIDENCE_RATING_DESCRIPTION={key:"pgsql.migration.confidence.rating.description",value:"The confidence rating is based on a 24 hrs. duration e.g., a 5-star rating is for more than 19 hours, and a 1-star rating is for more than 10 minutes."},t.MANUAL_DATA_COLLECTION_DESCRIPTION={key:"pgsql.migration.manual.data.collection.description",value:"Manually entered performance data parameters"},t.ALL_CYCLES_COMPLETED_TEXT={key:"pgsql.migration.all.cycles.are.completed",value:"All cycles are completed"},t.STOPPED={key:"pgsql.migration.stopped",value:"Stopped"},t.CYCLES_COMPLETED_TEXT={key:"pgsql.migration.cycles.are.completed",value:"Cycles Completed"},t.TIME_REMAINING_TEXT={key:"pgsql.migration.time.remaining.text",value:"Time remaining"},t.TOTAL_TIME_TEXT={key:"pgsql.migration.total.time.text",value:"Total collection time provided"},t.DATA_COLLECTION_PROPERTIES={key:"pgsql.migration.data.collection.properties",value:"Data collection properties"},t.SERVICE_CRASH_MESSAGE=function(e){return(0,i.localize)("extension.serviceCrashMessage","{0} component exited unexpectedly. Please restart Azure Data Studio.",e)},t.WIZARD_TITLE=function(e,t){return(0,i.localize)("pgsql.migration.wizard.title","Assess PostgreSQL Server Instance '{0}, {1}'",e,t)},t.DATABASES_SELECTED=function(e,t){return(0,i.localize)("pgsql.migration.databases.selected","{0}/{1} databases selected",e,t)},t.ASSESSMENT_IN_PROGRESS_CONTENT=function(e){return(0,i.localize)("pgsql.migration.assessment.in.progress.content","We are assessing the databases in your PostgreSQL Server instance {0}.\n\nThis may take some time.",e)},t.RECOMMENDED_TARGET_TYPE=function(e,t){return(0,i.localize)("pgsql.assessment.recommended.target.type.text","{0}, {1}",e,t)},t.RECOMMENDED_TARGET_VALUE=function(e,t,n){return(0,i.localize)("pgsql.assessment.recommended.target.value.text","{0}, {1}, {2}",e,t,n)},t.RECOMMENDED_TARGET_REPORT_TEXT=function(e,t,n,r,o){return(0,i.localize)("pgsql.assessment.recommended.target.report.text","{0} - {1} - {2} - {3} - {4}",e,t,n,r,o)},t.NAME_WITH_PREFIX=function(e){return(0,i.localize)("pgsql.migration.name.with.prefix","Name: {0}",e)},t.SEVERITY_WITH_PREFIX=function(e){return(0,i.localize)("pgsql.migration.severity.with.prefix","Severity: {0}",e)},t.READINESS_WITH_PREFIX=function(e){return(0,i.localize)("pgsql.migration.readiness.with.prefix","Readiness: {0}",e)},t.WARNINGS_COUNT=function(e){return(0,i.localize)("pgsql.migration.warnings.count","Warnings ({0})",e)},t.FEATURES_HEADING_WITH_COUNT=function(e){return(0,i.localize)("pgsql.migration.features.heading.with.count","Features ({0})",e)},t.SERVER_SETTINGS_HEADING_WITH_COUNT=function(e){return(0,i.localize)("pgsql.migration.server.settings.heading.with.count","Server Settings ({0})",e)},t.EXTENSIONS_HEADING_WITH_COUNT=function(e){return(0,i.localize)("pgsql.migration.extensions.heading.with.count","Extensions ({0})",e)},t.COLLATIONS_HEADING_WITH_COUNT=function(e){return(0,i.localize)("pgsql.migration.collations.heading.with.count","Collations ({0})",e)},t.ASSESSMENT_RESULTS=(0,i.localize)("pgsql.migration.assessment.results","Assessment results"),t.DATABASES=function(e,t){return(0,i.localize)("pgsql.migration.databases","Databases ({0}/{1})",e,t)},t.ISSUES_COUNT=function(e){return(0,i.localize)("pgsql.migration.issues.count","Issues ({0})",e)},t.FINDINGS_COUNT=function(e){return(0,i.localize)("pgsql.migration.findings.count","Findings ({0})",e)},t.READINESS_WITH_PREFIX_AND_OBJECT=function(e,t){return(0,i.localize)("pgsql.migration.readiness.with.prefix.and.object1","{0}",e,t)},t.ASSESSMENT_SUMMARY_DESCRIPTION=function(e){return(0,i.localize)("pgsql.migration.assessment.summary.description","1 instance and {0} databases were assessed",e)},t.ASSESSED_DATABASES=function(){return(0,i.localize)("pgsql.migration.assessed.databases.with.count","Assessed Databases: ")},t.TOTAL_ISSUES_FOUND=function(){return(0,i.localize)("pgsql.migration.total.issues.found","Total issues found: ")},t.READY_TEXT=function(){return(0,i.localize)("pgsql.migration.ready.text","Ready: ")},t.READY_WITH_CONDITION=function(){return(0,i.localize)("pgsql.migration.ready.with.condition","Ready with conditions: ")},t.NOT_READY=function(){return(0,i.localize)("pgsql.migration.not.ready","Not Ready: ")},t.BLOCKING_ISSUE_TEXT=function(){return(0,i.localize)("pgsql.migration.blocking.issues.text","Blocking Issues: ")},t.WARNING_ISSUE_TEXT=function(){return(0,i.localize)("pgsql.migration.warning.issue.with.count","Warning Issues: ")},t.INFO_TEXT=function(){return(0,i.localize)("pgsql.migration.info.with.count","Info: ")},t.FEATURE_ISSUES_TEXT=function(){return(0,i.localize)("pgsql.migration.feature.issues.with.count","Features issues: ")},t.SERVER_PARAMTER_ISSUES_TEXT=function(){return(0,i.localize)("pgsql.migration.server.issues.with.count","Server Parameter issues: ")},t.EXTENSION_ISSUES_WITH_COUNT=function(){return(0,i.localize)("pgsql.migration.extension.issues.with.count","Extension issues: ")},t.COLLATION_ISSUES_WITH_COUNT=function(){return(0,i.localize)("pgsql.migration.collations.issues.with.count","Collation issues: ")},t.DB_NOT_READY_WITH_COUNT=function(e){return(0,i.localize)("pgsql.migration.db.not.ready.with.count","The database is not ready for migrattion due to {0} blocking issue",e)},t.DB_READY_WITH_CONDITION=function(e){return(0,i.localize)("pgsql.migration.db.ready.with.condition","The database is conditionally ready to migrate due to {0} warning issue",e)},t.DB_READY=function(){return(0,i.localize)("pgsql.migration.db.ready","The database is ready to migrate")},t.DATABASE_SIZE=function(){return(0,i.localize)("pgsql.migration.database.size","Database Size (in GB): ")},t.INSTANCE_SIZE=function(e){return(0,i.localize)("pgsql.migration.database.size","Instance Size (in GB): {0}",e)},t.FAILED_MESSAGE=function(e){return(0,i.localize)("pgsql.migration.assessment.failed.message","Assessment failed during {0}.",e)},t.VCORES_UPPER_LIMIT=function(e,t){return(0,i.localize)("pgsql.migration.vcores.upper.limit","The CPU requirement of {0} vCore(s) is exceeding the SKU available in Azure Database for PostgreSQL - Flexible server. Tha Maximum vCores Supported in Azure Database for PostgreSQL - Flexible server is {1}.",e,t)},t.VCORES_UPPER_LIMIT_WITH_SCALE=function(e,t,n){return(0,i.localize)("pgsql.migration.vcores.upper.limit.with.scale","For the SKU Recommendation the scale factor provided is {0}. The requirement is scaled by {0} times the current estimate from data collection.The CPU requirement of {1} vCore(s) is exceeding the SKU available in Azure Database for PostgreSQL - Flexible server. Tha Maximum vCores Supported in Azure Database for PostgreSQL - Flexible server is {2}.",e,t,n)},t.MEMORY_UPPER_LIMIT=function(e,t){return(0,i.localize)("pgsql.migration.memory.upper.limit","The Memory requirement of {0} GB is exceeding the SKU available in Azure Database for PostgreSQL - Flexible server. Tha Maximum Memory Supported in Azure Database for PostgreSQL - Flexible server is {1} GB.",e,t)},t.MEMORY_UPPER_LIMIT_WITH_SCALE=function(e,t,n){return(0,i.localize)("pgsql.migration.memory.upper.limit.with.scale","For the SKU Recommendation the scale factor provided is {0}. The requirement is scaled by {0} times the current estimate from data collection.The Memory requirement of {1} GB is exceeding the SKU available in Azure Database for PostgreSQL - Flexible server. Tha Maximum Memory Supported in Azure Database for PostgreSQL - Flexible server is {2} GB.",e,t,n)},t.STORAGE_UPPER_LIMIT=function(e,t){return(0,i.localize)("pgsql.migration.storage.upper.limit","The Storage requirement of {0} GB is exceeding the SKU available in Azure Database for PostgreSQL - Flexible server. Tha Maximum Storage Supported in Azure Database for PostgreSQL - Flexible server is {1} GB.",e,t)},t.STORAGE_UPPER_LIMIT_WITH_SCALE=function(e,t,n){return(0,i.localize)("pgsql.migration.storage.upper.limit.with.scale","For the SKU Recommendation the scale factor provided is {0}. The requirement is scaled by {0} times the current estimate from data collection.The Storage requirement of {1} GB is exceeding the SKU available in Azure Database for PostgreSQL - Flexible server. Tha Maximum Storage Supported in Azure Database for PostgreSQL - Flexible server is {2} GB.",e,t,n)},t.IOPS_UPPER_LIMIT=function(e,t){return(0,i.localize)("pgsql.migration.iops.upper.limit","The IOPS requirement of {0} IOPS is exceeding the SKU available in Azure Database for PostgreSQL - Flexible server. Tha Maximum IOPS Supported in Azure Database for PostgreSQL - Flexible server is {1}.",e,t)},t.IOPS_UPPER_LIMIT_WITH_SCALE=function(e,t,n){return(0,i.localize)("pgsql.migration.iops.upper.limit.with.scale","For the SKU Recommendation the scale factor provided is {0}. The requirement is scaled by {0} times the current estimate from data collection.The IOPS requirement of {1} IOPS is exceeding the SKU available in Azure Database for PostgreSQL - Flexible server. Tha Maximum IOPS Supported in Azure Database for PostgreSQL - Flexible server is {2}.",e,t,n)},t.DATA_COLLECTION_TIMER=function(e,t){return(0,i.localize)("pgsql.migration.data.collection.timer","Cycle time remaining: {0} mins {1} secs",e.toFixed(0),t.toFixed(0))},t.CYCLES_COMPLETED=function(e,t){return(0,i.localize)("pgsql.migration.data.collection.cycles.completed","Cycles completed: {0}/{1}",e,t)},t.TOTAL_TIME_DURATION=function(e,t){return 0==e?(0,i.localize)("pgsql.migration.data.collection.total.time.duration.minutes","Total Time: {0} mins",t.toFixed(0)):0==t?(0,i.localize)("pgsql.migration.data.collection.total.time.duration.hours","Total Time: {0} hrs",e.toFixed(0)):(0,i.localize)("pgsql.migration.data.collection.total.time.duration","Total Time: {0} hrs {1} mins",e.toFixed(0),t.toFixed(0))},t.TIME_HRS_MINUTES=function(e,t){return 0==e?(0,i.localize)("pgsql.migration.data.collection.total.time.only.minutes","{0} mins",t.toFixed(0)):0==t?(0,i.localize)("pgsql.migration.data.collection.total.time.only.hrs","{0} hrs",e.toFixed(0)):(0,i.localize)("pgsql.migration.data.collection.total.time.hrs.minutes","{0} hrs {1} mins",e.toFixed(0),t.toFixed(0))},t.CYCLES_COMPLETED_REPORT=function(e,t){return(0,i.localize)("pgsql.migration.data.collection.cycles.completed.report","{0}/{1}",e,t)},t.CONFIDENCE_RATING_REPORT=function(e){return(0,i.localize)("pgsql.migration.data.collection.confidence.rating.report","{0}/5",e)},t.READY_FOR_MIGRATION=function(e){return(0,i.localize)("pgsql.migration.ready.for.migration","{0} Database(s) Ready for Migration",e)},t.NOT_READY_FOR_MIGRATION=function(e){return(0,i.localize)("pgsql.migration.not.ready.for.migration","{0} Database(s) Not Ready for Migration",e)},t.READY_WITH_CONDITIONS_FOR_MIGRATION=function(e){return(0,i.localize)("pgsql.migration.ready.with.conditions.for.migration","{0} Database(s) Ready with condition for Migration",e)}},2048:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BIG_NUMBER_CSS=t.SMALL_NOTE_CSS=t.BOLD_NOTE_CSS=t.NOTE_CSS=t.LIGHT_LABEL_CSS=t.LABEL_CSS=t.BODY_CSS=t.SECTION_HEADER_CSS=t.PAGE_SUBTITLE_CSS=t.PAGE_TITLE_CSS=t.DASHBOARD_TITLE_CSS=void 0,t.DASHBOARD_TITLE_CSS={"font-size":"32px","line-height":"48px",margin:"16px 0 8px 0"},t.PAGE_TITLE_CSS={"font-size":"18px","line-height":"24px","font-weight":"600",margin:"0 0 4px 0"},t.PAGE_SUBTITLE_CSS={"font-size":"15px","line-height":"19px",margin:"0 0 12px 0"},t.SECTION_HEADER_CSS={"font-size":"14px","line-height":"20px","font-weight":"600",margin:"4px 0"},t.BODY_CSS={"font-size":"13px","line-height":"18px",margin:"4px 0"},t.LABEL_CSS=Object.assign(Object.assign({},t.BODY_CSS),{margin:"0 0 4px 0","font-weight":"600"}),t.LIGHT_LABEL_CSS=Object.assign(Object.assign({},t.BODY_CSS),{"font-weight":"350"}),t.NOTE_CSS={"font-size":"12px","line-height":"16px",margin:"0","font-weight":"350"},t.BOLD_NOTE_CSS=Object.assign(Object.assign({},t.NOTE_CSS),{"font-weight":"600"}),t.SMALL_NOTE_CSS={"font-size":"10px","line-height":"14px",margin:"0"},t.BIG_NUMBER_CSS={"font-size":"28px","line-height":"36px",margin:"0"}},717:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cancelAssessmentsRequestType=t.CancelAssessment=void 0;const i=n(3056);t.CancelAssessment="assessments/cancelAssessment",t.cancelAssessmentsRequestType=new i.RequestType(t.CancelAssessment)},6819:(e,t)=>{"use strict";var n,i,r,o,s;Object.defineProperty(t,"__esModule",{value:!0}),t.ReadinessEnum=t.AssessmentSeverityEnum=t.EnumPlatformAdsResponse=t.EnumTargetServiceType=t.EnumPlatformAds=void 0,(s=t.EnumPlatformAds||(t.EnumPlatformAds={}))[s.None=0]="None",s[s.SqlServer=1]="SqlServer",s[s.Oracle=2]="Oracle",s[s.PostgreSql=4]="PostgreSql",s[s.MySql=8]="MySql",s[s.MariaDb=16]="MariaDb",(o=t.EnumTargetServiceType||(t.EnumTargetServiceType={})).None="None",o.FlexibleServer="FlexibleServer",o.HyperscaleCitus="HyperscaleCitus",(r=t.EnumPlatformAdsResponse||(t.EnumPlatformAdsResponse={})).None="None",r.SqlServer="SqlServer",r.Oracle="Oracle",r.PostgreSql="PostgreSql",r.MySql="MySql",r.MariaDb="MariaDb",(i=t.AssessmentSeverityEnum||(t.AssessmentSeverityEnum={}))[i.Unknown=0]="Unknown",i[i.Warning=1]="Warning",i[i.Info=2]="Info",i[i.Blocker=3]="Blocker",(n=t.ReadinessEnum||(t.ReadinessEnum={}))[n.Unknown=0]="Unknown",n.ReadyWithCondition="Ready with Conditions",n.Ready="Ready",n.NotReady="Not Ready"},6901:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DbAssessmentSeverityCount=t.getDatabaseCompatibilitySummaryRequestType=t.GetDatabaseCompatibilitySummary=void 0;const i=n(3056);t.GetDatabaseCompatibilitySummary="assessments/getDatabaseCompatibilitySummary",t.getDatabaseCompatibilitySummaryRequestType=new i.RequestType(t.GetDatabaseCompatibilitySummary),t.DbAssessmentSeverityCount=class{}},6182:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDbSourcePropertiesRequestType=t.GetDbSourceProperties=void 0;const i=n(3056);t.GetDbSourceProperties="assessments/getDbSourceProperties",t.getDbSourcePropertiesRequestType=new i.RequestType(t.GetDbSourceProperties)},3882:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAssessmentDetailsRequestType=t.GetAssessmentDetails=void 0;const i=n(3056);t.GetAssessmentDetails="assessments/getAssessmentDetails",t.getAssessmentDetailsRequestType=new i.RequestType(t.GetAssessmentDetails)},4323:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getServerCompatibilitySummaryRequestType=t.GetServerCompatibilitySummary=void 0;const i=n(3056);t.GetServerCompatibilitySummary="assessments/getServerCompatibilitySummary",t.getServerCompatibilitySummaryRequestType=new i.RequestType(t.GetServerCompatibilitySummary)},3334:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSkuRecommendationRequestType=t.GetSkuRecommendation=void 0;const i=n(3056);t.GetSkuRecommendation="assessments/getSkuRecommendation",t.getSkuRecommendationRequestType=new i.RequestType(t.GetSkuRecommendation)},4876:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PercentileUtilization=t.InnerException=t.EnumPlatform=t.collectorProgressNotificationType=t.assessmentProgressNotificationType=t.reStartAssessmentrequestType=t.startAssessmentrequestType=t.CollectorProgressNotification=t.AssessmentProgressNotification=t.ReStartAssessment=t.StartAssessment=void 0;const i=n(3056);var r,o;t.StartAssessment="assessments/startAssessment",t.ReStartAssessment="assessments/restartAssessment",t.AssessmentProgressNotification="assessments/assessmentProgressNotification",t.CollectorProgressNotification="assessments/collectorProgressNotification",t.startAssessmentrequestType=new i.RequestType(t.StartAssessment),t.reStartAssessmentrequestType=new i.RequestType(t.ReStartAssessment),t.assessmentProgressNotificationType=new i.NotificationType(t.AssessmentProgressNotification),t.collectorProgressNotificationType=new i.NotificationType(t.CollectorProgressNotification),(o=t.EnumPlatform||(t.EnumPlatform={}))[o.PostgreSql=4]="PostgreSql",(t.InnerException||(t.InnerException={})).PostgreSQLDataCollectionException="PostgreSQLDataCollectionException",(r=t.PercentileUtilization||(t.PercentileUtilization={}))[r.NinetyNine=.99]="NinetyNine",r[r.NinetyFive=.95]="NinetyFive",r[r.Ninety=.9]="Ninety",r[r.Fifty=.5]="Fifty"},6210:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.databaseDialog=void 0;const r=n(9690),o=n(8874),s=n(2568),a=n(2048),l=n(4862);t.databaseDialog=class{constructor(){this._disposables=[],this._isOpen=!1,this.dialogType=""}initializeDialog(e){return i(this,void 0,void 0,(function*(){return new Promise(((t,n)=>{e.registerContent((e=>i(this,void 0,void 0,(function*(){try{const n=this.createContainer(e);this._disposables.push(e.onClosed((e=>{this._disposables.forEach((e=>{try{e.dispose()}catch(e){}}))}))),yield e.initializeModel(n),t()}catch(e){n(e)}}))))}))}))}createContainer(e){const t=e.modelBuilder.text().withProps({value:"Database",CSSStyles:{"font-size":"13px","line-height":"18px","font-weight":"600","margin-left":"20px",padding:"11px 0px 0px 0px"}}).component(),n=e.modelBuilder.flexContainer().withLayout({flexFlow:"column"}).component();n.addItem(t,{flex:"0 0 auto",CSSStyles:{width:"120px","margin-left":"5px"}});const i=[];return s.databaseReadinessMap.forEach(((t,r)=>{t.OverallSeverity===this.dialogType&&(i.push(r),n.addItem(this.createDatabaseTextButton(e,r)))})),n}createDatabaseTextButton(e,t){const n=e.modelBuilder.image().withProps({iconPath:l.IconPathHelper.onPremPostgresIcon,iconHeight:20,iconWidth:20,width:25,height:25}).withProps({CSSStyles:{"background-position":"0","margin-top":"3px"}}).component(),i=e.modelBuilder.flexContainer().withLayout({flexFlow:"row",height:"100%"}).withProps({CSSStyles:{"margin-left":"24px",height:"100%","line-height":"30px",border:"1px solid #F3F2F1"}}).component(),r=e.modelBuilder.text().withProps({value:t,CSSStyles:Object.assign(Object.assign({},a.BODY_CSS),{margin:"5px 0 4px"})}).component();return i.addItem(n,{flex:"0 0 auto"}),i.addItem(r),i}openDialog(e){return i(this,void 0,void 0,(function*(){this._isOpen=!0,this.dialog=r.window.createModelViewDialog((0,o.localize)("dialogName",e),"dbParametersDialog","narrow"),this.dialog.cancelButton.hidden=!0,this.dialog.okButton.label="Close",this.dialog.okButton.position="left",this._disposables.push(this.dialog.okButton.onClick((()=>{this._isOpen=!1}))),this._disposables.push(this.dialog.cancelButton.onClick((()=>{this._isOpen=!1})));const t=[];this.populateDialogType(e),t.push(this.initializeDialog(this.dialog)),r.window.openDialog(this.dialog),yield Promise.all(t)}))}populateDialogType(e){e.indexOf("Not Ready")>-1?this.dialogType="Not Ready":e.indexOf("Ready with condition")>-1?this.dialogType="Ready with Conditions":this.dialogType="Ready"}}},7495:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.SkuViewDetailsDialog=void 0;const r=n(9690),o=n(8874),s=n(9444),a=n(2048),l=n(2568),c=n(4862),u=n(9132);t.SkuViewDetailsDialog=class{constructor(){this._disposables=[],this._isOpen=!1,this._isRecommendationReasonOpen=!0,this._isSourcePropertiesOpen=!1}initializeDialog(e){return i(this,void 0,void 0,(function*(){return new Promise(((t,n)=>{e.registerContent((e=>i(this,void 0,void 0,(function*(){try{const n=this.createContainer(e);this._disposables.push(e.onClosed((e=>{this._disposables.forEach((e=>{try{e.dispose()}catch(e){}}))}))),yield e.initializeModel(n),t()}catch(e){n(e)}}))))}))}))}createContainer(e){this._recommendationReasonHeadingButton=e.modelBuilder.button().withProps({label:(0,o.localize)(s.RECOMMENDATION_REASON.key,s.RECOMMENDATION_REASON.value),ariaLabel:(0,o.localize)(s.RECOMMENDATION_REASON.key,s.RECOMMENDATION_REASON.value),buttonType:r.ButtonType.Normal,height:24,iconHeight:8,iconWidth:8,iconPath:c.IconPathHelper.expandButtonClosed,CSSStyles:Object.assign(Object.assign({},a.LABEL_CSS),{"text-align":"left",margin:"16px 0 0 20px"})}).component(),this._sourcePropertiesHeadingButton=e.modelBuilder.button().withProps({label:(0,o.localize)(s.SOURCE_PROPERTIES_HEADING.key,s.SOURCE_PROPERTIES_HEADING.value),ariaLabel:(0,o.localize)(s.SOURCE_PROPERTIES_HEADING.key,s.SOURCE_PROPERTIES_HEADING.value),buttonType:r.ButtonType.Normal,height:24,iconHeight:8,iconWidth:8,iconPath:c.IconPathHelper.expandButtonClosed,CSSStyles:Object.assign(Object.assign({},a.LABEL_CSS),{"text-align":"left",margin:"5px 0 0 20px"})}).component(),this._recommendationReasonTextContainer=this._createRecommendationReasonTextContainer(e),this._sourcePropertiesTextContainer=this._createSourcePropertiesTextContainer(e);const t=e.modelBuilder.flexContainer().withLayout({flexFlow:"column"}).component();return t.addItem(this._createRecommendedConfigurationTextContainer(e),{flex:"0 0 auto",order:1}),t.addItem(this._recommendationReasonHeadingButton,{flex:"0 0 auto",order:2,CSSStyles:{border:"0",color:"#cecece",width:"225px"}}),t.addItem(this._recommendationReasonTextContainer,{flex:"0 0 auto",order:3,CSSStyles:{"margin-left":"22px","margin-right":"15px"}}),t.addItem(this._sourcePropertiesHeadingButton,{flex:"0 0 auto",order:4,CSSStyles:{border:"0",color:"#cecece",width:"184px"}}),this._recommendationReasonHeadingButton.onDidClick((()=>i(this,void 0,void 0,(function*(){this._isRecommendationReasonOpen?(this._recommendationReasonHeadingButton.iconPath=c.IconPathHelper.expandButtonClosed,this._recommendationReasonHeadingButton.ariaLabel=(0,o.localize)(s.COLLAPSED.key,s.COLLAPSED.value),this._isRecommendationReasonOpen=!1,t.removeItem(this._recommendationReasonTextContainer)):(this._recommendationReasonHeadingButton.iconPath=c.IconPathHelper.expandButtonOpen,this._recommendationReasonHeadingButton.ariaLabel=(0,o.localize)(s.EXPANDED.key,s.EXPANDED.value),this._isRecommendationReasonOpen=!0,t.addItem(this._recommendationReasonTextContainer,{flex:"0 0 auto",order:3,CSSStyles:{"margin-left":"22px","margin-right":"15px"}}))})))),this._sourcePropertiesHeadingButton.onDidClick((()=>i(this,void 0,void 0,(function*(){this._isSourcePropertiesOpen?(this._sourcePropertiesHeadingButton.iconPath=c.IconPathHelper.expandButtonClosed,this._sourcePropertiesHeadingButton.ariaLabel=(0,o.localize)(s.COLLAPSED.key,s.COLLAPSED.value),this._isSourcePropertiesOpen=!1,t.removeItem(this._sourcePropertiesTextContainer)):(this._sourcePropertiesHeadingButton.iconPath=c.IconPathHelper.expandButtonOpen,this._sourcePropertiesHeadingButton.ariaLabel=(0,o.localize)(s.EXPANDED.key,s.EXPANDED.value),this._isSourcePropertiesOpen=!0,t.addItem(this._sourcePropertiesTextContainer,{flex:"0 0 auto",order:5,CSSStyles:{"margin-left":"22px"}}))})))),t}_createRecommendedConfigurationTextContainer(e){const t=e.modelBuilder.text().withProps({value:(0,o.localize)(s.RECOMMENDED_CONFIGURATION.key,s.RECOMMENDED_CONFIGURATION.value),ariaLabel:(0,o.localize)(s.RECOMMENDED_CONFIGURATION.key,s.RECOMMENDED_CONFIGURATION.value),CSSStyles:{"margin-bottom":"0","font-style":"normal","font-weight":"400","font-size":"13px","line-height":"18px",order:"0","margin-top":"5px"}}).component();this._skuRecommendationType=e.modelBuilder.text().withProps({value:l.getskuRecommendationType,CSSStyles:{"font-style":"normal","font-weight":"600","font-size":"13px","line-height":"18px",display:"flex","align-items":"center",order:"1","margin-top":"-3px","margin-bottom":"0"}}).component(),this._skuRecommendationValue=e.modelBuilder.text().withProps({value:l.getskuRecommendationValue,CSSStyles:{"font-style":"normal","font-weight":"400","font-size":"13px","line-height":"18px",display:"flex","align-items":"center",order:"1","margin-top":"-7px","margin-bottom":"0"}}).component(),this._confidenceRatingContainer=this._createConfidenceRatingComponent(e);const n=e.modelBuilder.flexContainer().withLayout({height:75,width:280,flexFlow:"column"}).withProps({CSSStyles:{"margin-left":"20px","margin-top":"20px",display:"flex","flex-direction":"column","align-items":"flex-start",padding:"5px 5px 12px 12px",gap:"4px","box-shadow":"0px 2px 4px rgba(0, 0, 0, 0.14), 0px 0px 2px rgba(0, 0, 0, 0.12)","border-radius":"4px",border:"1px solid #CECECE"}}).component();return n.addItem(t,{flex:"0 0 auto"}),n.addItem(this._skuRecommendationType,{flex:"0 0 auto"}),n.addItem(this._skuRecommendationValue,{flex:"0 0 auto"}),u.isAutomated&&n.addItem(this._confidenceRatingContainer,{flex:"0 0 auto"}),n}_createRecommendationReasonTextContainer(e){const t=e.modelBuilder.flexContainer().withLayout({flexFlow:"column"}).withProps({CSSStyles:{display:"flex","flex-direction":"column","align-items":"flex-start",padding:"5px 5px 12px 12px",gap:"4px"}}).component();return t.addItems(l.recommendationReasonTexts.map((t=>this.createRecommendationReasonText(e,t)))),t}_createSourcePropertiesTextContainer(e){const t=this.convertToGB(l.dbSourceProperties.memoryInMb),n=this.convertToGB(l.dbSourceProperties.dataStorageInMb),i=e.modelBuilder.text().withProps({value:(0,o.localize)(s.USED_VCORES_TEXT.key,s.USED_VCORES_TEXT.value),ariaLabel:(0,o.localize)(s.USED_VCORES_TEXT.key,s.USED_VCORES_TEXT.value),height:"30px",CSSStyles:{display:"inline","font-size":"13px"}}).component(),r=e.modelBuilder.text().withProps({value:l.dbSourceProperties.logicalCpuCount,height:"30px",CSSStyles:{display:"inline","font-size":"13px","font-weight":"600"}}).component(),a=e.modelBuilder.flexContainer().withLayout({flexFlow:"row"}).component();a.addItem(i,{flex:"0 0 auto",order:1,CSSStyles:{width:"180px","margin-top":"5px"}}),a.addItem(r,{flex:"1 1 auto",order:2,CSSStyles:{"margin-top":"5px"}});const c=e.modelBuilder.text().withProps({value:(0,o.localize)(s.USED_MEMORY_TEXT.key,s.USED_MEMORY_TEXT.value),ariaLabel:(0,o.localize)(s.USED_MEMORY_TEXT.key,s.USED_MEMORY_TEXT.value),height:"30px",CSSStyles:{display:"inline","font-size":"13px"}}).component(),d=e.modelBuilder.text().withProps({value:t,CSSStyles:{position:"absolute","margin-top":"0","margin-bottom":"10px","font-size":"13px","font-weight":"600"}}).component(),p=e.modelBuilder.flexContainer().withLayout({flexFlow:"row"}).component();p.addItem(c,{flex:"0 0 auto",CSSStyles:{width:"180px"}}),p.addItem(d,{flex:"0 0 auto"});const h=e.modelBuilder.text().withProps({value:(0,o.localize)(s.STORAGE_GB_TEXT.key,s.STORAGE_GB_TEXT.value),ariaLabel:(0,o.localize)(s.STORAGE_GB_TEXT.key,s.STORAGE_GB_TEXT.value),height:"30px",CSSStyles:{display:"inline","font-size":"13px"}}).component(),m=e.modelBuilder.text().withProps({value:n,width:"210px",CSSStyles:{position:"absolute","margin-top":"0","margin-bottom":"10px","font-size":"13px","font-weight":"600"}}).component(),f=e.modelBuilder.flexContainer().withLayout({flexFlow:"row"}).component();f.addItem(h,{flex:"0 0 auto",CSSStyles:{width:"180px"}}),f.addItem(m,{flex:"0 0 auto"});const g=e.modelBuilder.text().withProps({value:(0,o.localize)(s.IOPS_TEXT.key,s.IOPS_TEXT.value),ariaLabel:(0,o.localize)(s.IOPS_TEXT.key,s.IOPS_TEXT.value),width:"200px",height:"30px",CSSStyles:{display:"inline","font-size":"13px"}}).component(),v=e.modelBuilder.text().withProps({value:l.dbSourceProperties.dataFileIOPs,width:"200px",height:"30px",CSSStyles:{display:"inline","font-size":"13px","font-weight":"600"}}).component(),_=e.modelBuilder.flexContainer().withLayout({flexFlow:"row"}).component();_.addItem(g,{flex:"0 0 auto",CSSStyles:{width:"180px"}}),_.addItem(v,{flex:"0 0 auto"});const y=e.modelBuilder.text().withProps({value:(0,o.localize)(s.SCALE_FACTOR.key,s.SCALE_FACTOR.value),ariaLabel:(0,o.localize)(s.SCALE_FACTOR.key,s.SCALE_FACTOR.value),width:"200px",height:"30px",CSSStyles:{display:"inline","font-size":"13px"}}).component(),S=e.modelBuilder.text().withProps({value:null===u.scaleFactor||void 0===u.scaleFactor?void 0:u.scaleFactor.toString(),width:"200px",height:"30px",CSSStyles:{display:"inline","font-size":"13px","font-weight":"600"}}).component(),E=e.modelBuilder.flexContainer().withLayout({flexFlow:"row"}).component();E.addItem(y,{flex:"0 0 auto",CSSStyles:{width:"180px"}}),E.addItem(S,{flex:"0 0 auto"});const T=e.modelBuilder.text().withProps({value:(0,o.localize)(s.ACTUAL_VCORES_TEXT.key,s.ACTUAL_VCORES_TEXT.value),ariaLabel:(0,o.localize)(s.ACTUAL_VCORES_TEXT.key,s.ACTUAL_VCORES_TEXT.value),height:"30px",CSSStyles:{display:"inline","font-size":"13px"}}).component(),C=e.modelBuilder.text().withProps({value:l.dbSourceProperties.sourceConfiguredVCores,height:"30px",CSSStyles:{display:"inline","font-size":"13px","font-weight":"600"}}).component();this._sourceConfiguredVCoresComponent=e.modelBuilder.flexContainer().withLayout({flexFlow:"row"}).component(),this._sourceConfiguredVCoresComponent.addItem(T,{flex:"0 0 auto",order:1,CSSStyles:{width:"180px"}}),this._sourceConfiguredVCoresComponent.addItem(C,{flex:"1 1 auto",order:2});const b=e.modelBuilder.text().withProps({value:(0,o.localize)(s.ACTUAL_MEMORY_TEXT.key,s.ACTUAL_MEMORY_TEXT.value),ariaLabel:(0,o.localize)(s.ACTUAL_MEMORY_TEXT.key,s.ACTUAL_MEMORY_TEXT.value),height:"30px",CSSStyles:{display:"inline","font-size":"13px"}}).component(),I=e.modelBuilder.text().withProps({value:(Number(l.dbSourceProperties.sourceConfiguredMemoryInMb)/1024).toFixed(2),height:"30px",CSSStyles:{display:"inline","font-size":"13px","font-weight":"600"}}).component();this._sourceConfiguredMemoryComponent=e.modelBuilder.flexContainer().withLayout({flexFlow:"row"}).component(),this._sourceConfiguredMemoryComponent.addItem(b,{flex:"0 0 auto",order:1,CSSStyles:{width:"180px"}}),this._sourceConfiguredMemoryComponent.addItem(I,{flex:"1 1 auto",order:2});const R=e.modelBuilder.text().withProps({value:(0,o.localize)(s.PERCENTILE_UTILIZATION.key,s.PERCENTILE_UTILIZATION.value),ariaLabel:(0,o.localize)(s.PERCENTILE_UTILIZATION.key,s.PERCENTILE_UTILIZATION.value),height:"30px",CSSStyles:{display:"inline","font-size":"13px"}}).component(),A=e.modelBuilder.text().withProps({value:String(u.percentileUtilizationString),height:"30px",CSSStyles:{display:"inline","font-size":"13px","font-weight":"600"}}).component();return this._percentileUtilizationComponent=e.modelBuilder.flexContainer().withLayout({flexFlow:"row"}).component(),this._percentileUtilizationComponent.addItem(R,{flex:"0 0 auto",order:1,CSSStyles:{width:"180px"}}),this._percentileUtilizationComponent.addItem(A,{flex:"1 1 auto",order:2}),u.isAutomated||(this._sourceConfiguredVCoresComponent.updateCssStyles({display:"none"}),this._sourceConfiguredMemoryComponent.updateCssStyles({display:"none"}),this._percentileUtilizationComponent.updateCssStyles({display:"none"}),i.value=(0,o.localize)(s.VCORES_TEXT.key,s.VCORES_TEXT.value),c.value=(0,o.localize)(s.MEMORY_GB_TEXT.key,s.MEMORY_GB_TEXT.value)),e.modelBuilder.flexContainer().withItems([a,this._sourceConfiguredVCoresComponent,p,this._sourceConfiguredMemoryComponent,f,_,E,this._percentileUtilizationComponent]).withLayout({flexFlow:"column"}).withProps({CSSStyles:{display:"flex","flex-direction":"column","align-items":"flex-start",padding:"5px 5px 12px 12px",gap:"4px"}}).component()}_createConfidenceRatingComponent(e){const t=e.modelBuilder.flexContainer().withLayout({flexFlow:"row"}).withProps({CSSStyles:{"font-style":"normal","font-size":"13px","line-height":"18px",display:"flex","align-items":"center",order:"1","margin-top":"-15px","margin-bottom":"0"}}).component(),n=e.modelBuilder.text().withProps({value:(0,o.localize)(s.CONFIDENCE_RATING.key,s.CONFIDENCE_RATING.value),ariaLabel:(0,o.localize)(s.CONFIDENCE_RATING.key,s.CONFIDENCE_RATING.value),CSSStyles:{"font-weight":"400"}}).component(),i=e.modelBuilder.text().withProps({value:":",height:"16px",CSSStyles:{"font-weight":"400"}}).component(),r=e.modelBuilder.image().withProps({iconPath:c.IconPathHelper.starLight,iconHeight:10,iconWidth:10,width:10,height:10,CSSStyles:{"background-position":"0 center",margin:"18px 0 0 10px"}}).component(),a=e.modelBuilder.image().withProps({iconPath:c.IconPathHelper.starLight,iconHeight:10,iconWidth:10,width:10,height:10,CSSStyles:{"background-position":"0 center",margin:"18px 0 0 5px"}}).component(),u=e.modelBuilder.image().withProps({iconPath:c.IconPathHelper.starLight,iconHeight:10,iconWidth:10,width:10,height:10,CSSStyles:{"background-position":"0 center",margin:"18px 0 0 5px"}}).component(),d=e.modelBuilder.image().withProps({iconPath:c.IconPathHelper.starLight,iconHeight:10,iconWidth:10,width:10,height:10,CSSStyles:{"background-position":"0 center",margin:"18px 0 0 5px"}}).component(),p=e.modelBuilder.image().withProps({iconPath:c.IconPathHelper.starLight,iconHeight:10,iconWidth:10,width:10,height:10,CSSStyles:{"background-position":"0 center",margin:"18px 0 0 5px"}}).component();return l.confidenceRatingStarsCount>0&&(r.iconPath=c.IconPathHelper.starDark),l.confidenceRatingStarsCount>1&&(a.iconPath=c.IconPathHelper.starDark),l.confidenceRatingStarsCount>2&&(u.iconPath=c.IconPathHelper.starDark),l.confidenceRatingStarsCount>3&&(d.iconPath=c.IconPathHelper.starDark),l.confidenceRatingStarsCount>4&&(p.iconPath=c.IconPathHelper.starDark),t.addItem(n,{flex:"0 0 auto"}),t.addItem(i,{flex:"0 0 auto"}),t.addItem(r,{flex:"0 0 auto"}),t.addItem(a,{flex:"0 0 auto"}),t.addItem(u,{flex:"0 0 auto"}),t.addItem(d,{flex:"0 0 auto"}),t.addItem(p,{flex:"0 0 auto"}),t}createRecommendationReasonText(e,t){return e.modelBuilder.text().withProps({value:t,CSSStyles:{"font-size":"13px","line-height":"18px",margin:"1px",padding:"11px 0px 0px 0px"}}).component()}openDialog(){return i(this,void 0,void 0,(function*(){if(!this._isOpen){this._isOpen=!0,this.dialog=r.window.createModelViewDialog((0,o.localize)(s.RECOMMENDATION_DETAILS.key,s.RECOMMENDATION_DETAILS.value),"SkuEditParametersDialog","narrow"),this.dialog.cancelButton.hidden=!0,this.dialog.okButton.label="Close",this.dialog.okButton.position="left",this._disposables.push(this.dialog.okButton.onClick((()=>{this._isOpen=!1,this._isRecommendationReasonOpen=!0,this._recommendationReasonHeadingButton.iconPath=c.IconPathHelper.expandButtonOpen,this._isSourcePropertiesOpen=!1}))),this._disposables.push(this.dialog.cancelButton.onClick((()=>{this._isOpen=!1,this._isRecommendationReasonOpen=!0,this._recommendationReasonHeadingButton.iconPath=c.IconPathHelper.expandButtonOpen,this._isSourcePropertiesOpen=!1})));const e=[];e.push(this.initializeDialog(this.dialog)),r.window.openDialog(this.dialog),yield Promise.all(e)}this._recommendationReasonHeadingButton.iconPath=c.IconPathHelper.expandButtonOpen}))}convertToGB(e){return e?(Number(e)/1024).toFixed(2):""}}},112:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.deactivate=t.getDbSourceProperties=t.getSkuRecommendation=t.getDatabaseCompatibilitySummary=t.getServerCompatibilitySummary=t.cancelAssessment=t.reStartAssessment=t.startAssessment=t.getAssessmentDetails=t.activate=t.tabMap=void 0;const r=n(4665),o=n(9690),s=n(5868),a=n(5735),l=n(215),c=n(1471),u=n(4862),d=n(3056),p=n(1017),h=n(5473),m=n(5601),f=n(3177),g=n(7518),v=n(8874),_=n(8657);t.tabMap=new Map;class y{constructor(e){this.context=e,this.toDispose=[],u.IconPathHelper.setExtensionContext(e)}start(){return i(this,void 0,void 0,(function*(){}))}registerModelViewProvider(){return i(this,void 0,void 0,(function*(){o.ui.registerModelViewProvider("postgresql-dashboard",(e=>i(this,void 0,void 0,(function*(){const n=new c.DashboardTab(this.context),i=yield n.Create(e,n);this.toDispose.push(n);const r=e.modelBuilder.tabbedPanel().withTabs([i]).withLayout({showIcon:!1,alwaysShowTabs:!1}).component();t.tabMap.set(n,r),yield e.initializeModel(r)}))))}))}registerCommands(){return i(this,void 0,void 0,(function*(){const e=[r.commands.registerCommand(c.MenuCommands.StartAssessment,(()=>i(this,void 0,void 0,(function*(){return yield this.launchMigrationWizard()})))),o.tasks.registerTask(c.MenuCommands.StartAssessment,(()=>i(this,void 0,void 0,(function*(){yield this.launchMigrationWizard()})))),r.commands.registerCommand(c.MenuCommands.NewSupportRequest,(()=>i(this,void 0,void 0,(function*(){return yield r.env.openExternal(r.Uri.parse("https://portal.azure.com/#blade/Microsoft_Azure_Support/HelpAndSupportBlade/newsupportrequest"))})))),r.commands.registerCommand(c.MenuCommands.SendFeedback,(()=>i(this,void 0,void 0,(function*(){const e=c.MenuCommands.IssueReporter,t={extensionId:c.PostgreSqlMigrationExtensionId,issueTitle:m.feedbackIssueTitle};return yield r.commands.executeCommand(e,t)}))))];this.context.subscriptions.push(...e)}))}launchMigrationWizard(){return i(this,void 0,void 0,(function*(){const e=yield o.connection.getCurrentConnection();let t="",n="";if(e)t=e.connectionId,n=e.serverName;else{const e=yield o.connection.openConnectionDialog();e&&(t=e.connectionId,n=e.options.server)}if(n){this.stateModel=new g.AssessmentStateModel(this.context,t),this.context.subscriptions.push(this.stateModel);const e=new _.WizardController(this.context,this.stateModel);yield e.openWizard(t)}}))}}let S,E;t.activate=function(e){var t;return i(this,void 0,void 0,(function*(){h.logger.logInfo(`Activating '${m.extensionName}' extension...`);const n=null===(t=r.extensions.getExtension("Microsoft.net-6-runtime"))||void 0===t?void 0:t.exports;if(!n)throw h.logger.logError(".NET 6 Runtime extension is missing"),new Error((0,v.localize)("extension.missingDependency.netcore6runtime",".NET 6 Runtime extension is not found. Please install the extension and try again."));E=yield function(e,t){return i(this,void 0,void 0,(function*(){const n=yield function(e,t,n){return i(this,void 0,void 0,(function*(){const i=new s.SqlOpsDataClient(m.serviceName,function(e,t){return{command:e,args:["exec",t,f.ExtensionInfo.getInstance().getExtensionVersion(),f.ExtensionInfo.getInstance().getSessionId()],transport:d.TransportKind.stdio}}(e,t),{providerId:m.PROVIDER_ID,outputChannel:h.logger.outputChannel,errorHandler:new l.ClientErrorHandler(m.serviceName,h.logger),features:[]});return n.subscriptions.push(i.start()),yield i.onReady().then((()=>h.logger.logInfo(`Extension '${m.extensionName}' has been activated`))),i}))}(yield e.getDotnetPath(),p.join(__dirname,"../service/PostgresAssessmentExtensionService.dll"),t);return new a.AssessmentExtension(n,t)}))}(n,e),S=new y(e),yield S.registerCommands(),S.registerModelViewProvider()}))},t.getAssessmentDetails=function(e,t,n){return i(this,void 0,void 0,(function*(){return yield E.getAssessmentDetails(e,t,n)}))},t.startAssessment=function(e){return i(this,void 0,void 0,(function*(){return yield E.startAssessment(e)}))},t.reStartAssessment=function(){return i(this,void 0,void 0,(function*(){return yield E.reStartAssessment()}))},t.cancelAssessment=function(e){return i(this,void 0,void 0,(function*(){yield E.cancelAssessment(e)}))},t.getServerCompatibilitySummary=function(e,t,n){return i(this,void 0,void 0,(function*(){return yield E.getServerCompatibility(e,t,n)}))},t.getDatabaseCompatibilitySummary=function(e,t,n){return i(this,void 0,void 0,(function*(){return yield E.getDatabaseCompatibility(e,t,n)}))},t.getSkuRecommendation=function(e,t,n){return i(this,void 0,void 0,(function*(){return yield E.getSkuRecommendation(e,t,n)}))},t.getDbSourceProperties=function(e,t,n){return i(this,void 0,void 0,(function*(){return yield E.getDbSourceProperties(e,t,n)}))},t.deactivate=function(){h.logger.logInfo(`Extension '${m.extensionName}' has been deactivated`)}},3177:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExtensionInfo=void 0;const i=n(2277),r=n(4147);class o{constructor(e,t){this.extensionVersion=e,this.sessionId=t}static getInstance(){if(!o.extensionInfo){const e=(0,i.v4)();this.extensionInfo=new o(r.version,e)}return this.extensionInfo}getExtensionVersion(){return this.extensionVersion}getSessionId(){return this.sessionId}}t.ExtensionInfo=o},8874:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.localize=t.Localization=t.LocalizationBundle=void 0;const r=n(7147),o=n(1017),s=n(5473);class a{constructor(){this.cachedMessages=new Map,this.isPseudo=!1}setup(e){return i(this,void 0,void 0,(function*(){let t=JSON.parse(process.env.VSCODE_NLS_CONFIG||"{}").locale.toLowerCase();if(this.isPseudo="pseudo"===t,!this.isPseudo)try{switch(t){case"zh-cn":t="zh-Hans";break;case"zh-tw":t="zh-Hant"}const n=t.split("-");let i;if(2===n.length){const e=n[0],t=n[1];i=new RegExp(`\\.nls(\\.${e}(-${t})?)?\\.json$`,"i")}else i=new RegExp(`\\.nls(\\.${t})?\\.json$`,"i");const a=(yield r.promises.readdir(e)).filter((e=>i.test(e))).sort(((e,t)=>e.length-t.length)).map((t=>o.join(e,t)));for(const e of a)yield this.mergeNlsFile(e);s.logger.logWarning("Successfully loaded file")}catch(e){s.logger.logWarning(`Failed to load localization files: ${e}`)}}))}localize(e,t,...n){const i=this.cachedMessages.get(e)||t;return this.format(i,...n)}format(e,...t){let n;return this.isPseudo&&(e=""+e.replace(/[aouei]/g,"$&$&")+""),n=0===t.length?e:e.replace(/(^|[^{]){(\d+)}/g,((e,n,i)=>{const r=t[i];let o=e;return i<t.length&&("string"==typeof r?o=n+r:"number"!=typeof r&&"boolean"!=typeof r&&null!=r||(o=n+String(r))),o})),n}mergeNlsFile(e){return i(this,void 0,void 0,(function*(){try{const t=yield r.promises.readFile(e,"utf8"),n=JSON.parse(t.toString()),i=Object.entries(n);this.cachedMessages=new Map([...this.cachedMessages,...i])}catch(t){s.logger.logWarning(`Failed to load localization file '${e}: ${t}'`)}}))}}t.LocalizationBundle=a,t.Localization=new a,t.localize=(e,n,...i)=>t.Localization.localize(e,n,...i)},5473:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logger=t.MessageSeverity=t.ExtensionLogger=void 0;const i=n(4665),r=n(5601);class o{constructor(e,t){this._outputChannel=e,this._logLevel=t}get outputChannel(){return this._outputChannel}logMessage(e,t){return e>=this._logLevel&&this.outputChannel.appendLine(`[${this.getSeverityLabel(e)} - ${(new Date).toLocaleTimeString()}] ${t}`),t}logDebug(e){return this.logMessage(s.Debug,e)}logInfo(e){return this.logMessage(s.Info,e)}logWarning(e){return this.logMessage(s.Warning,e)}logError(e){return this.logMessage(s.Error,e)}logException(e){var t;return this.logMessage(s.Error,null!==(t=e.message)&&void 0!==t?t:e)}getSeverityLabel(e){switch(e){case s.Error:return"Error";case s.Warning:return"Warn";case s.Info:return"Info";case s.Debug:return"Debug";default:return e}}}var s;t.ExtensionLogger=o,function(e){e[e.Debug=0]="Debug",e[e.Info=1]="Info",e[e.Warning=2]="Warning",e[e.Error=3]="Error"}(s=t.MessageSeverity||(t.MessageSeverity={})),t.logger=new o(i.window.createOutputChannel(r.extensionName),s.Info)},7287:function(e,t){"use strict";var n=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.AssessmentWizardPage=void 0,t.AssessmentWizardPage=class{constructor(e,t,n){this.wizard=e,this.wizardPage=t,this.assessmentStateModel=n,this.stateChanges=[],this.queueActive=!1}registerWizardContent(){return new Promise(((e,t)=>{this.wizardPage.registerContent((i=>n(this,void 0,void 0,(function*(){try{yield this.registerContent(i),e()}catch(e){t(e)}finally{t(new Error)}}))))}))}getwizardPage(){return this.wizardPage}onStateChangeEvent(e){return n(this,void 0,void 0,(function*(){this.stateChanges.push((()=>this.handleStateChange(e))),yield this.enableQueueProcessor()}))}enableQueueProcessor(){return n(this,void 0,void 0,(function*(){if(!this.queueActive){for(this.queueActive=!0;this.queueActive;){const e=this.stateChanges.shift();if(!e)break;try{yield e()}catch(e){console.error(e)}}this.queueActive=!1}}))}canEnter(){return Promise.resolve(!0)}canLeave(){return Promise.resolve(!0)}goToNextPage(){return n(this,void 0,void 0,(function*(){const e=this.wizard.currentPage;yield this.wizard.setCurrentPage(e+1)}))}}},7518:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.AssessmentStateModel=t.Page=t.NetworkContainerType=t.MigrationMode=t.State=void 0;const r=n(9690),o=n(4665),s=n(2277);var a,l,c,u;!function(e){e[e.INIT=0]="INIT"}(a=t.State||(t.State={})),(u=t.MigrationMode||(t.MigrationMode={}))[u.ONLINE=0]="ONLINE",u[u.OFFLINE=1]="OFFLINE",(c=t.NetworkContainerType||(t.NetworkContainerType={}))[c.FILE_SHARE=0]="FILE_SHARE",c[c.BLOB_CONTAINER=1]="BLOB_CONTAINER",c[c.NETWORK_SHARE=2]="NETWORK_SHARE",(l=t.Page||(t.Page={}))[l.DatabaseSelector=0]="DatabaseSelector",l[l.AssessmentProgress=1]="AssessmentProgress",l[l.AssessmentParameter=2]="AssessmentParameter",l[l.ServerDbDetails=3]="ServerDbDetails",t.AssessmentStateModel=class{constructor(e,t){this.extensionContext=e,this._sourceConnectionId=t,this._stateChangeEventEmitter=new o.EventEmitter,this._runAssessments=!0,this._sessionId=(0,s.v4)(),this.excludeDbs=["master","tempdb","msdb","model"],this._currentState=a.INIT,this._targetDatabaseNames=[]}dispose(){throw new Error("Method not implemented.")}get sourceConnectionId(){return this._sourceConnectionId}get currentState(){return this._currentState}set currentState(e){const t=this.currentState;this._currentState=e,this._stateChangeEventEmitter.fire({oldState:t,newState:this.currentState})}getDatabases(){return i(this,void 0,void 0,(function*(){return(yield r.connection.listDatabases(this.sourceConnectionId)).filter((e=>!this.excludeDbs.includes(e)))}))}getSourceConnectionProfile(){return i(this,void 0,void 0,(function*(){return(yield r.connection.getConnections()).find((e=>e.connectionId===this.sourceConnectionId))}))}getConnectionString(){return i(this,void 0,void 0,(function*(){const e=yield this.getSourceConnectionProfile();return yield r.connection.getConnectionString(e.connectionId,!1)}))}}},262:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getInstanceSize=t.ConvertToHyperLink=t.formatString=t.fetchDatabaseCompatibilityData=t.fetchServerCompatibilityData=t.fetchTotalCompatibilitySummaryData=t.fetchPostgreSqlSkuRecommendationData=t.databaseExtensionContainer=t.databaseCollationContainer=t.serverSettingsCompatibilityContainer=t.serverFeaturesCompatibilityContainer=t.totalCompatibilitySummaryContainer=t.skuRecommendationContainer=void 0;const r=n(112),o=n(9444),s=n(2571),a=n(8874),l=n(6819),c=n(8657),u=n(2568),d=n(5482),p=n(9658),h=n(9132);function m(e){return null==e?"":`<a href = ${[e]} target='_blank'>${[(0,s.capitalizeFirstLetter)(e.substring(e.lastIndexOf("/")+1))]}</a>`}function f(){let e=0;return u.databaseReadinessMap.forEach(((t,n)=>{e+=Number(d.userSelectedDbsWithSizeMap.get(n))})),Number(e.toFixed(2))}t.fetchPostgreSqlSkuRecommendationData=function(e,n,l){return i(this,void 0,void 0,(function*(){let i="",d="";if(h.isAutomated&&u.minutes<10)t.skuRecommendationContainer=`\n        <div>\n            <div class="section-heading">${[(0,a.localize)(o.RECOMMENDED_CONFIGURATION.key,o.RECOMMENDED_CONFIGURATION.value)]}</div>\n            <div class="section">\n                <div class="sub-section-head">${[(0,a.localize)(o.RECOMMENDED_CONFIGURATION.key,o.RECOMMENDED_CONFIGURATION.value)]}</div>\n                <div class="sku-section">${[(0,a.localize)(o.TO_BE_UPDATED.key,o.TO_BE_UPDATED.value)]}</div>\n                <div class="sub-section-head">${[(0,a.localize)(o.RECOMMENDATION_REASON.key,o.RECOMMENDATION_REASON.value)]}</div>\n                <div>${[(0,a.localize)(o.TO_BE_UPDATED.key,o.TO_BE_UPDATED.value)]}</div>\n                <div class="sub-section-head" id="sourcePropertiesSection">${[(0,a.localize)(o.SOURCE_PROPERTIES_HEADING.key,o.SOURCE_PROPERTIES_HEADING.value)]}</div>\n                <div>        \n                <table>\n                    <tr><th>${[(0,a.localize)(o.PARAMETER_NAME.key,o.PARAMETER_NAME.value)]}</th>\n                    <th>${[(0,a.localize)(o.PARAMETER_VALUE.key,o.PARAMETER_VALUE.value)]}</th></tr>\n                    <tr>\n                    <td>${[(0,a.localize)(o.HOST_NAME.key,o.HOST_NAME.value)]}</td>                \n                    <td><span class="bold">${[c.hostname]}</span></td>\n                    </tr>\n                    <tr>\n                    <td>${[(0,a.localize)(o.USED_VCORES_TEXT.key,o.USED_VCORES_TEXT.value)]}</td>                \n                    <td><span class="bold">${[(0,a.localize)(o.TO_BE_UPDATED.key,o.TO_BE_UPDATED.value)]}</span></td>\n                    </tr>\n                    <tr>\n                    <td>${[(0,a.localize)(o.ACTUAL_VCORES_TEXT.key,o.ACTUAL_VCORES_TEXT.value)]}</td>                \n                    <td><span class="bold">${[(0,a.localize)(o.TO_BE_UPDATED.key,o.TO_BE_UPDATED.value)]}</span></td>\n                    </tr> \n                    <tr>\n                    <td>${[(0,a.localize)(o.USED_MEMORY_TEXT.key,o.USED_MEMORY_TEXT.value)]}</td>                \n                    <td><span class="bold">${[(0,a.localize)(o.TO_BE_UPDATED.key,o.TO_BE_UPDATED.value)]}</span></td>\n                    </tr> \n                    <tr>\n                    <td>${[(0,a.localize)(o.ACTUAL_MEMORY_TEXT.key,o.ACTUAL_MEMORY_TEXT.value)]}</td>                \n                    <td><span class="bold">${[(0,a.localize)(o.TO_BE_UPDATED.key,o.TO_BE_UPDATED.value)]}</span></td>\n                    </tr>\n                    <tr>\n                    <td>${[(0,a.localize)(o.STORAGE_TEXT.key,o.STORAGE_TEXT.value)]}</td>                \n                    <td><span class="bold">${[(0,a.localize)(o.TO_BE_UPDATED.key,o.TO_BE_UPDATED.value)]}</span></td>\n                    </tr> \n                    <tr>\n                    <td>${[(0,a.localize)(o.IOPS_TEXT.key,o.IOPS_TEXT.value)]}</td>                \n                    <td><span class="bold">${[(0,a.localize)(o.TO_BE_UPDATED.key,o.TO_BE_UPDATED.value)]}</span></td>\n                    </tr> \n                    <tr>\n                    <td>${[(0,a.localize)(o.SCALE_FACTOR.key,o.SCALE_FACTOR.value)]}</td>                \n                    <td><span class="bold">${[h.scaleFactor]}</span></td>\n                    </tr> \n                    <tr>\n                    <td>${[(0,a.localize)(o.PERCENTILE_UTILIZATION.key,o.PERCENTILE_UTILIZATION.value)]}</td>                \n                    <td><span class="bold">${[h.percentileUtilizationString]}</span></td>\n                    </tr>\n                    <tr>\n                    <td>${[(0,a.localize)(o.CONFIDENCE_RATING.key,o.CONFIDENCE_RATING.value)]}</td>                \n                    <td><span class="bold">${[o.CONFIDENCE_RATING_REPORT(0)]}</span></td>\n                    </tr>                 \n                    <tr>\n                    <td>${[(0,a.localize)(o.SOURCE_SERVER_VERSION.key,o.SOURCE_SERVER_VERSION.value)]}</td>                \n                    <td><span class="bold">${[u.sourceServerVersion]}</span></td>\n                    </tr>\n                    <tr>\n                    <td>${[(0,a.localize)(o.TARGET_VERSION_WO_COLON.key,o.TARGET_VERSION_WO_COLON.value)]}</td>                \n                    <td><span class="bold">${[h.targetVersion]}</span></td>\n                    </tr> \n                </table>\n            </div>\n            <div class="sub-section-head" id="dataCollectionStatus">${[(0,a.localize)(o.DATA_COLLECTION_PROPERTIES.key,o.DATA_COLLECTION_PROPERTIES.value)]}</div>\n            <div>        \n                <table>\n                    <tr><th>${[(0,a.localize)(o.PARAMETER_NAME.key,o.PARAMETER_NAME.value)]}</th>\n                    <th>${[(0,a.localize)(o.PARAMETER_VALUE.key,o.PARAMETER_VALUE.value)]}</th></tr>\n                    <tr>\n                    <td>${[(0,a.localize)(o.DATA_COLLECTION_STATUS.key,o.DATA_COLLECTION_STATUS.value)]}</td>                \n                    <td><span class="bold">${u.dataCollectionStatus}</span></td>\n                    </tr>\n                    <tr>\n                    <td>${[(0,a.localize)(o.TOTAL_TIME_TEXT.key,o.TOTAL_TIME_TEXT.value)]}</td>                \n                    <td><span class="bold">${[o.TIME_HRS_MINUTES(h.perfDurationHours,h.perfDurationMinutes)]}</span></td>\n                    </tr> \n                    <tr>\n                    <td>${[(0,a.localize)(o.CYCLES_COMPLETED_TEXT.key,o.CYCLES_COMPLETED_TEXT.value)]}</td>                \n                    <td><span class="bold">${[o.CYCLES_COMPLETED_REPORT(u.cycleCount,u.totalCycle)]}</span></td>\n                    </tr>                                  \n                </table>\n            </div>\n            </div>`;else if(h.isAutomated&&u.minutes>=10){const m=yield(0,r.getSkuRecommendation)(e,n,l),f=m.body;for(let e=0;e<u.recommendationReasonTexts.length;e++)d+=u.recommendationReasonTexts[e]+".<br>";try{i=(0,s.ValidateNullSKU)(m.body)?(0,a.localize)(o.NO_SKU.key,o.NO_SKU.value):o.RECOMMENDED_TARGET_REPORT_TEXT(f.serviceTier,f.computeName,f.vcores,f.memoryInGiB,f.storageSizeInGiB)}catch(e){console.log(""),(0,p.logError)(p.TelemetryViews.ViewAssessmentResultPage,"fetchPostgreSqlSkuRecommendationDataFailed","Unknown Exception")}const g=u.dbSourceProperties.memoryInMb?(Number(u.dbSourceProperties.memoryInMb)/1024).toFixed(2):"",v=u.dbSourceProperties.dataStorageInMb?(Number(u.dbSourceProperties.dataStorageInMb)/1024).toFixed(2):"",_=u.dbSourceProperties.sourceConfiguredMemoryInMb?(Number(u.dbSourceProperties.sourceConfiguredMemoryInMb)/1024).toFixed(2):"";t.skuRecommendationContainer=`\n        <div>\n            <div class="section-heading">${[(0,a.localize)(o.RECOMMENDED_CONFIGURATION.key,o.RECOMMENDED_CONFIGURATION.value)]}</div>\n            <div class="section">\n                <div class="sub-section-head">${[(0,a.localize)(o.RECOMMENDED_CONFIGURATION.key,o.RECOMMENDED_CONFIGURATION.value)]}</div>\n                <div class="sku-section">${[i]}</div>\n                <div class="sub-section-head">${[(0,a.localize)(o.RECOMMENDATION_REASON.key,o.RECOMMENDATION_REASON.value)]}</div>\n                <div>${[d]}</div>\n                <div class="sub-section-head" id="sourcePropertiesSection">${[(0,a.localize)(o.SOURCE_PROPERTIES_HEADING.key,o.SOURCE_PROPERTIES_HEADING.value)]}</div>\n                <div>        \n                <table>\n                    <tr><th>${[(0,a.localize)(o.PARAMETER_NAME.key,o.PARAMETER_NAME.value)]}</th>\n                    <th>${[(0,a.localize)(o.PARAMETER_VALUE.key,o.PARAMETER_VALUE.value)]}</th></tr>\n                    <tr>\n                    <td>${[(0,a.localize)(o.HOST_NAME.key,o.HOST_NAME.value)]}</td>                \n                    <td><span class="bold">${[c.hostname]}</span></td>\n                    </tr>\n                    <tr>\n                    <td>${[(0,a.localize)(o.USED_VCORES_TEXT.key,o.USED_VCORES_TEXT.value)]}</td>                \n                    <td><span class="bold">${[u.dbSourceProperties.logicalCpuCount||(0,a.localize)(o.TO_BE_UPDATED.key,o.TO_BE_UPDATED.value)]}</span></td>\n                    </tr>\n                    <tr>\n                    <td>${[(0,a.localize)(o.ACTUAL_VCORES_TEXT.key,o.ACTUAL_VCORES_TEXT.value)]}</td>                \n                    <td><span class="bold">${[u.dbSourceProperties.sourceConfiguredVCores||(0,a.localize)(o.TO_BE_UPDATED.key,o.TO_BE_UPDATED.value)]}</span></td>\n                    </tr> \n                    <tr>\n                    <td>${[(0,a.localize)(o.USED_MEMORY_TEXT.key,o.USED_MEMORY_TEXT.value)]}</td>                \n                    <td><span class="bold">${[g||(0,a.localize)(o.TO_BE_UPDATED.key,o.TO_BE_UPDATED.value)]}</span></td>\n                    </tr> \n                    <tr>\n                    <td>${[(0,a.localize)(o.ACTUAL_MEMORY_TEXT.key,o.ACTUAL_MEMORY_TEXT.value)]}</td>                \n                    <td><span class="bold">${[_||(0,a.localize)(o.TO_BE_UPDATED.key,o.TO_BE_UPDATED.value)]}</span></td>\n                    </tr> \n                    <tr>\n                    <td>${[(0,a.localize)(o.STORAGE_TEXT.key,o.STORAGE_TEXT.value)]}</td>                \n                    <td><span class="bold">${[v||(0,a.localize)(o.TO_BE_UPDATED.key,o.TO_BE_UPDATED.value)]}</span></td>\n                    </tr> \n                    <tr>\n                    <td>${[(0,a.localize)(o.IOPS_TEXT.key,o.IOPS_TEXT.value)]}</td>                \n                    <td><span class="bold">${[u.dbSourceProperties.dataFileIOPs||(0,a.localize)(o.TO_BE_UPDATED.key,o.TO_BE_UPDATED.value)]}</span></td>\n                    </tr> \n                    <tr>\n                    <td>${[(0,a.localize)(o.SCALE_FACTOR.key,o.SCALE_FACTOR.value)]}</td>                \n                    <td><span class="bold">${[h.scaleFactor]}</span></td>\n                    </tr> \n                    <tr>\n                    <td>${[(0,a.localize)(o.PERCENTILE_UTILIZATION.key,o.PERCENTILE_UTILIZATION.value)]}</td>                \n                    <td><span class="bold">${[h.percentileUtilizationString]}</span></td>\n                    </tr>\n                    <tr>\n                    <td>${[(0,a.localize)(o.CONFIDENCE_RATING.key,o.CONFIDENCE_RATING.value)]}</td>                \n                    <td><span class="bold">${[o.CONFIDENCE_RATING_REPORT(u.confidenceRatingStarsCount)]}</span></td>\n                    </tr>             \n                    <tr>\n                    <td>${[(0,a.localize)(o.SOURCE_SERVER_VERSION.key,o.SOURCE_SERVER_VERSION.value)]}</td>                \n                    <td><span class="bold">${[u.sourceServerVersion]}</span></td>\n                    </tr> \n                    <tr>\n                    <td>${[(0,a.localize)(o.TARGET_VERSION_WO_COLON.key,o.TARGET_VERSION_WO_COLON.value)]}</td>                \n                    <td><span class="bold">${[h.targetVersion]}</span></td>\n                    </tr>               \n                </table>\n            </div>\n            <div class="sub-section-head" id="dataCollectionStatus">${[(0,a.localize)(o.DATA_COLLECTION_PROPERTIES.key,o.DATA_COLLECTION_PROPERTIES.value)]}</div>\n            <div>        \n                <table>\n                    <tr><th>${[(0,a.localize)(o.PARAMETER_NAME.key,o.PARAMETER_NAME.value)]}</th>\n                    <th>${[(0,a.localize)(o.PARAMETER_VALUE.key,o.PARAMETER_VALUE.value)]}</th></tr>\n                    <tr>\n                    <td>${[(0,a.localize)(o.DATA_COLLECTION_STATUS.key,o.DATA_COLLECTION_STATUS.value)]}</td>                \n                    <td><span class="bold">${u.dataCollectionStatus}</span></td>\n                    </tr>\n                    <tr>\n                    <td>${[(0,a.localize)(o.TOTAL_TIME_TEXT.key,o.TOTAL_TIME_TEXT.value)]}</td>                \n                    <td><span class="bold">${[o.TIME_HRS_MINUTES(h.perfDurationHours,h.perfDurationMinutes)]}</span></td>\n                    </tr>\n                    <tr>\n                    <td>${[(0,a.localize)(o.CYCLES_COMPLETED_TEXT.key,o.CYCLES_COMPLETED_TEXT.value)]}</td>                \n                    <td><span class="bold">${[o.CYCLES_COMPLETED_REPORT(u.cycleCount,u.totalCycle)]}</span></td>\n                    </tr>              \n                </table>\n            </div>\n            </div>`}else{const m=yield(0,r.getSkuRecommendation)(e,n,l),f=m.body;for(let e=0;e<u.recommendationReasonTexts.length;e++)d+=u.recommendationReasonTexts[e]+".<br>";const g=u.dbSourceProperties.memoryInMb?(Number(u.dbSourceProperties.memoryInMb)/1024).toFixed(2):"",v=u.dbSourceProperties.dataStorageInMb?(Number(u.dbSourceProperties.dataStorageInMb)/1024).toFixed(2):"";try{i=(0,s.ValidateNullSKU)(m.body)?(0,a.localize)(o.NO_SKU.key,o.NO_SKU.value):o.RECOMMENDED_TARGET_REPORT_TEXT(f.serviceTier,f.computeName,f.vcores,f.memoryInGiB,f.storageSizeInGiB)}catch(e){console.log(e),(0,p.logError)(p.TelemetryViews.ViewAssessmentResultPage,"fetchPostgreSqlSkuRecommendationDataFailed","Unknown Exception:"+e)}t.skuRecommendationContainer=`\n        <div>\n            <div class="section-heading">${[(0,a.localize)(o.RECOMMENDED_CONFIGURATION.key,o.RECOMMENDED_CONFIGURATION.value)]}</div>\n            <div class="section">\n                <div class="sub-section-head">${[(0,a.localize)(o.RECOMMENDED_CONFIGURATION.key,o.RECOMMENDED_CONFIGURATION.value)]}</div>\n                <div class="sku-section">${[i]}</div>\n                <div class="sub-section-head">${[(0,a.localize)(o.RECOMMENDATION_REASON.key,o.RECOMMENDATION_REASON.value)]}</div>\n                <div>${[d]}</div>\n                <div class="sub-section-head" id="sourcePropertiesSection">${[(0,a.localize)(o.SOURCE_PROPERTIES_HEADING.key,o.SOURCE_PROPERTIES_HEADING.value)]}</div>\n                <div>        \n                <table>\n                    <tr><th>${[(0,a.localize)(o.PARAMETER_NAME.key,o.PARAMETER_NAME.value)]}</th>\n                    <th>${[(0,a.localize)(o.PARAMETER_VALUE.key,o.PARAMETER_VALUE.value)]}</th></tr>\n                    <tr>\n                    <td>${[(0,a.localize)(o.HOST_NAME.key,o.HOST_NAME.value)]}</td>                \n                    <td><span class="bold">${[c.hostname]}</span></td>\n                    </tr>\n                    <tr>\n                    <td>${[(0,a.localize)(o.VCORES_TEXT.key,o.VCORES_TEXT.value)]}</td>                \n                    <td><span class="bold">${[u.dbSourceProperties.logicalCpuCount||(0,a.localize)(o.NA.key,o.NA.value)]}</span></td>\n                    </tr> \n                    <tr>\n                    <td>${[(0,a.localize)(o.MEMORY_GB_TEXT.key,o.MEMORY_GB_TEXT.value)]}</td>                \n                    <td><span class="bold">${[g||(0,a.localize)(o.NA.key,o.NA.value)]}</span></td>\n                    </tr> \n                    <tr>\n                    <td>${[(0,a.localize)(o.STORAGE_GB_TEXT.key,o.STORAGE_GB_TEXT.value)]}</td>                \n                    <td><span class="bold">${[v||(0,a.localize)(o.NA.key,o.NA.value)]}</span></td>\n                    </tr> \n                    <tr>\n                    <td>${[(0,a.localize)(o.IOPS_TEXT.key,o.IOPS_TEXT.value)]}</td>                \n                    <td><span class="bold">${[u.dbSourceProperties.dataFileIOPs||(0,a.localize)(o.NA.key,o.NA.value)]}</span></td>\n                    </tr> \n                    <tr>\n                    <td>${[(0,a.localize)(o.SCALE_FACTOR.key,o.SCALE_FACTOR.value)]}</td>                \n                    <td><span class="bold">${[h.scaleFactor]}</span></td>\n                    </tr>                 \n                    <tr>\n                    <td>${[(0,a.localize)(o.SOURCE_SERVER_VERSION.key,o.SOURCE_SERVER_VERSION.value)]}</td>                \n                    <td><span class="bold">${[u.sourceServerVersion]}</span></td>\n                    </tr>\n                    <tr>\n                    <td>${[(0,a.localize)(o.TARGET_VERSION_WO_COLON.key,o.TARGET_VERSION_WO_COLON.value)]}</td>                \n                    <td><span class="bold">${[h.targetVersion]}</span></td>\n                    </tr> \n                </table>\n            </div>\n            <div class="sub-section-head" id="dataCollectionStatus">${[(0,a.localize)(o.DATA_COLLECTION_PROPERTIES.key,o.DATA_COLLECTION_PROPERTIES.value)]}</div>\n            <div>${[(0,a.localize)(o.MANUAL_DATA_COLLECTION_DESCRIPTION.key,o.MANUAL_DATA_COLLECTION_DESCRIPTION.value)]}</div>\n            </div>`}}))},t.fetchTotalCompatibilitySummaryData=function(){return i(this,void 0,void 0,(function*(){let e="";u.databaseReadinessMap.forEach(((t,n)=>{e+=`<tr>\n                <td>${[n]}</td>\n                <td class=${[t.overallSeverityClass]}>${[t.OverallSeverity]}</td>\n                <td>${[d.userSelectedDbsWithSizeMap.get(n)]}</td>\n                <td>${[t.info]}</td>\n                <td>${[t.warning]}</td>\n                <td>${[t.blocker]}</td>\n            </tr>`})),t.totalCompatibilitySummaryContainer=`\n    <div class="section-heading">${[(0,a.localize)(o.ASSESSMENT_SUMMARY.key,o.ASSESSMENT_SUMMARY.value)]}</div>\n    <div class="sub-section-head">${[(0,a.localize)(o.INSTANCE_SUMMARY.key,o.INSTANCE_SUMMARY.value)]}</div>\n            <div>        \n            <table>\n                <tr><th>${[(0,a.localize)(o.HOST_NAME.key,o.HOST_NAME.value)]}</th>\n                <th>${[(0,a.localize)(o.READINESS.key,o.READINESS.value)]}</th>\n                <th>${[(0,a.localize)(o.SIZE.key,o.SIZE.value)]}</th>\n                <th>${[(0,a.localize)(o.TOTAL_INFO_COUNT.key,o.TOTAL_INFO_COUNT.value)]}</th>\n                <th>${[(0,a.localize)(o.TOTAL_WARNINGS_COUNT.key,o.TOTAL_WARNINGS_COUNT.value)]}</th>\n                <th>${[(0,a.localize)(o.TOTAL_BLOCKERS_COUNT.key,o.TOTAL_BLOCKERS_COUNT.value)]}</th>                \n                </tr>\n                <tr>              \n                <td><span>${[c.hostname]}</span></td>\n                <td><span class=${[u.serverOverallSeverityClass]}>${[u.serverOverallSeverity]}</span></td>\n                <td><span>${[f()]}</span></td>\n                <td><span>${[u.serverInfoCount]}</span></td>\n                <td><span>${[u.serverWarningCount]}</span></td>\n                <td><span>${[u.serverBlockerCount]}</span></td>\n                </tr>                             \n            </table>\n        </div>\n        \n        <br>\n\n        <div class="sub-section-head">${[(0,a.localize)(o.DATABASE_SUMMARY.key,o.DATABASE_SUMMARY.value)]}</div>\n\n        <div>        \n        <table>\n            <tr><th>${[(0,a.localize)(o.DATABASE_NAME.key,o.DATABASE_NAME.value)]}</th>\n            <th>${[(0,a.localize)(o.READINESS.key,o.READINESS.value)]}</th>\n            <th>${[(0,a.localize)(o.SIZE.key,o.SIZE.value)]}</th>\n            <th>${[(0,a.localize)(o.TOTAL_INFO_COUNT.key,o.TOTAL_INFO_COUNT.value)]}</th>\n            <th>${[(0,a.localize)(o.TOTAL_WARNINGS_COUNT.key,o.TOTAL_WARNINGS_COUNT.value)]}</th>\n            <th>${[(0,a.localize)(o.TOTAL_BLOCKERS_COUNT.key,o.TOTAL_BLOCKERS_COUNT.value)]}</th></tr>\n            ${[e]}                             \n        </table>\n    </div>`}))},t.fetchServerCompatibilityData=function(e,n,s){return i(this,void 0,void 0,(function*(){const i=(yield(0,r.getServerCompatibilitySummary)(e,n,s)).body,c=i.postgreSqlFeaturesCompatibility,u=i.postgreSqlServerSettingsCompatibility;let d="";for(const e of c)d+=`<tr>\n                <td>${[e.featureName||(0,a.localize)(o.NA.key,o.NA.value)]}</td>\n                <td>${[e.description||(0,a.localize)(o.NA.key,o.NA.value)]}</td>\n                <td class=${[l.AssessmentSeverityEnum[e.assessmentSeverity]]}>${[l.AssessmentSeverityEnum[e.assessmentSeverity]]}</td>\n                <td>${[e.recommendation||(0,a.localize)(o.NA.key,o.NA.value)]}</td>\n                <td>${[m(e.moreInfoLink)||(0,a.localize)(o.NA.key,o.NA.value)]}</td>\n            </tr>`;let p="";for(const e of u)p+=`<tr>\n                <td>${[e.parameterName||(0,a.localize)(o.NA.key,o.NA.value)]}</td>\n                <td>${[e.description||(0,a.localize)(o.NA.key,o.NA.value)]}</td>\n                <td>${[e.parameterSourceValue||(0,a.localize)(o.NA.key,o.NA.value)]}</td>\n                <td>${[e.parameterTargetValue||(0,a.localize)(o.NA.key,o.NA.value)]}</td>\n                <td class=${[l.AssessmentSeverityEnum[e.assessmentSeverity]]}>${[l.AssessmentSeverityEnum[e.assessmentSeverity]]}</td>\n                <td>${[e.recommendation||(0,a.localize)(o.NA.key,o.NA.value)]}</td>\n            </tr>`;t.serverFeaturesCompatibilityContainer=`\n        <div>\n        <div class="section-heading">${[(0,a.localize)(o.FEATURE_COMPATIBILITY.key,o.FEATURE_COMPATIBILITY.value)]}</div>\n            <table>\n                <tr><th>${[(0,a.localize)(o.FEATURE_NAME.key,o.FEATURE_NAME.value)]}</th>\n                <th>${[(0,a.localize)(o.DESCRIPTION.key,o.DESCRIPTION.value)]}</th>\n                <th>${[(0,a.localize)(o.ASSESSMENT_SEVERITY.key,o.ASSESSMENT_SEVERITY.value)]}</th>\n                <th>${[(0,a.localize)(o.RECOMMENDATION.key,o.RECOMMENDATION.value)]}</th>\n                <th>${[(0,a.localize)(o.MORE_INFO.key,o.MORE_INFO.value)]}</th></tr>\n                ${[d]}\n            </table>\n        </div>`,t.serverSettingsCompatibilityContainer=`\n        <div>\n        <div class="section-heading">${[(0,a.localize)(o.SERVER_SETTINGS_COMPATIBILITY.key,o.SERVER_SETTINGS_COMPATIBILITY.value)]}</div>\n            <table>\n            <tr><th>${[(0,a.localize)(o.PARAMETER_NAME.key,o.PARAMETER_NAME.value)]}</th>\n            <th>${[(0,a.localize)(o.DESCRIPTION.key,o.DESCRIPTION.value)]}</th>\n            <th>${[(0,a.localize)(o.SOURCE_PARAMETER_VALUE.key,o.SOURCE_PARAMETER_VALUE.value)]}</th>\n            <th>${[(0,a.localize)(o.TARGET_PARAMETER_VALUE.key,o.TARGET_PARAMETER_VALUE.value)]}</th>\n            <th>${[(0,a.localize)(o.ASSESSMENT_SEVERITY.key,o.ASSESSMENT_SEVERITY.value)]}</th>\n            <th>${[(0,a.localize)(o.RECOMMENDATION.key,o.RECOMMENDATION.value)]}</th></tr>\n                ${[p]}\n            </table>\n        </div>`}))},t.fetchDatabaseCompatibilityData=function(e,n,c){return i(this,void 0,void 0,(function*(){const i=(yield(0,r.getDatabaseCompatibilitySummary)(e,n,c)).body;let u="",d="";try{for(const[e,n]of Object.entries(i)){console.log(e,n);const i=n.databaseExtensionsCompatibility,r=n.collationsCompatibilities;for(const t of i)u+=`<tr>\n                <td>${[e]}</td>\n                <td>${[t.extensionName||(0,a.localize)(o.NA.key,o.NA.value)]}</td>\n                <td>${[t.extensionDescription||(0,a.localize)(o.NA.key,o.NA.value)]}</td>\n                <td>${[t.extensionSourceVersion||(0,a.localize)(o.NA.key,o.NA.value)]}</td>\n                <td>${[t.extensionTargetVersion||(0,a.localize)(o.NA.key,o.NA.value)]}</td>                \n                <td class=${[l.AssessmentSeverityEnum[t.assessmentSeverity]]}>${[l.AssessmentSeverityEnum[t.assessmentSeverity]]}</td>\n                <td>${[t.issueDescription||(0,a.localize)(o.NA.key,o.NA.value)]}</td>\n                <td>${[t.recommendation||(0,a.localize)(o.NA.key,o.NA.value)]}</td>\n                <td>${[m(t.moreInfoLink||s.extensionDefaultMoreInfoLink)]}</td>\n            </tr>`;for(const t of r)d+=`<tr>\n                <td>${[e]}</td>\n                <td>${[t.collationName||(0,a.localize)(o.NA.key,o.NA.value)]}</td>\n                <td>${[t.collationSourceVersion||(0,a.localize)(o.NA.key,o.NA.value)]}</td>\n                <td>${[t.collationTargetVersion||(0,a.localize)(o.NA.key,o.NA.value)]}</td>\n                <td>${[t.sourceEncoding||(0,a.localize)(o.NA.key,o.NA.value)]}</td>\n                <td>${[t.targetEncoding||(0,a.localize)(o.NA.key,o.NA.value)]}</td>\n                <td class=${[l.AssessmentSeverityEnum[t.assessmentSeverity]]}>${[l.AssessmentSeverityEnum[t.assessmentSeverity]]}</td>\n                <td>${[t.issueDescription||(0,a.localize)(o.NA.key,o.NA.value)]}</td>\n                <td>${[t.recommendation||(0,a.localize)(o.NA.key,o.NA.value)]}</td>\n                <td>${[t.collationImpactedObjects||(0,a.localize)(o.NA.key,o.NA.value)]}</td>\n            </tr>`;t.databaseExtensionContainer=`\n                <div>\n                <div class="section-heading">${[(0,a.localize)(o.DATABASE_EXTENSIONS_COMPATIBILITY.key,o.DATABASE_EXTENSIONS_COMPATIBILITY.value)]}</div>\n                    <table>\n                        <tr><th>${[(0,a.localize)(o.DATABASE_NAME.key,o.DATABASE_NAME.value)]}</th>\n                        <th>${[(0,a.localize)(o.PG_EXTENSION_NAME.key,o.PG_EXTENSION_NAME.value)]}</th>\n                        <th>${[(0,a.localize)(o.PG_EXTENSION_DESCRIPTION.key,o.PG_EXTENSION_DESCRIPTION.value)]}</th>\n                        <th>${[(0,a.localize)(o.PG_EXTENSION_SOURCE_VERSION.key,o.PG_EXTENSION_SOURCE_VERSION.value)]}</th>\n                        <th>${[(0,a.localize)(o.PG_EXTENSION_TARGET_VERSION.key,o.PG_EXTENSION_TARGET_VERSION.value)]}</th>\n                        <th>${[(0,a.localize)(o.ASSESSMENT_SEVERITY.key,o.ASSESSMENT_SEVERITY.value)]}</th>\n                        <th>${[(0,a.localize)(o.ISSUE_DESCRIPTION.key,o.ISSUE_DESCRIPTION.value)]}</th>\n                        <th>${[(0,a.localize)(o.RECOMMENDATION.key,o.RECOMMENDATION.value)]}</th>\n                        <th>${[(0,a.localize)(o.MORE_INFO.key,o.MORE_INFO.value)]}</th></tr>                       \n                        ${[u]}\n                    </table>\n                </div>`,t.databaseCollationContainer=`\n        <div>\n        <div class="section-heading">${[(0,a.localize)(o.DATABASE_COLLATIONS_COMPATIBILITY.key,o.DATABASE_COLLATIONS_COMPATIBILITY.value)]}</div>\n            <table>\n            <tr><th>${[(0,a.localize)(o.DATABASE_NAME.key,o.DATABASE_NAME.value)]}</th>\n            <th>${[(0,a.localize)(o.COLLATION_NAME.key,o.COLLATION_NAME.value)]}</th>\n            <th>${[(0,a.localize)(o.COLLATION_SOURCE_VERSION.key,o.COLLATION_SOURCE_VERSION.value)]}</th>\n            <th>${[(0,a.localize)(o.COLLATION_TARGET_VERSION.key,o.COLLATION_TARGET_VERSION.value)]}</th>\n            <th>${[(0,a.localize)(o.SOURCE_ENCODING.key,o.SOURCE_ENCODING.value)]}</th>\n            <th>${[(0,a.localize)(o.TARGET_ENCODING.key,o.TARGET_ENCODING.value)]}</th>\n            <th>${[(0,a.localize)(o.ASSESSMENT_SEVERITY.key,o.ASSESSMENT_SEVERITY.value)]}</th>\n            <th>${[(0,a.localize)(o.ISSUE_DESCRIPTION.key,o.ISSUE_DESCRIPTION.value)]}</th>\n            <th>${[(0,a.localize)(o.RECOMMENDATION.key,o.RECOMMENDATION.value)]}</th>\n            <th>${[(0,a.localize)(o.COLLATION_IMPACTED_OBJECTS.key,o.COLLATION_IMPACTED_OBJECTS.value)]}</th></tr>\n                ${[d]}\n            </table>\n        </div>`}}catch(e){console.log(e),(0,p.logError)(p.TelemetryViews.ViewAssessmentResultPage,"fetchDatabaseCompatibilityDataFailed","Unknown Exception:"+e)}}))},t.formatString=function(e,t){return e+" ("+t+")"},t.ConvertToHyperLink=m,t.getInstanceSize=f},252:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildStyling=void 0,t.buildStyling=function(){return'\n    <style>\n    * {\n        color: #4a4a4a;\n        font-family: "Segoe WPC", "Segoe UI", sans-serif;\n        font-size: 14px;\n    }\n\n    body {\n        margin: 40px;\n    }\n\n    div {\n        margin-bottom: 10px;\n    }\n\n    .header>* {\n        color: #0757A0;\n        font-size: 30px;\n        font-weight: 600;\n        margin: 10px 0px;\n    }\n\n    .sub-heading>* {\n        color: #0757A0;\n        font-size: 20px;\n        font-weight: 600;\n    }\n\n    .section-heading {\n        color: #0757A0;\n        font-size: 1.7em;\n    }\n\n    .sub-section-head {\n        color: #0757A0;\n        font-size: 1.2em;\n        text-align: left;\n    }\n\n    .link {\n        margin: 3px;\n    }\n\n    .section {\n        width: 80em\n    }\n\n    .bold {\n        font-weight: 600\n    }\n\n    .sku-section {\n        width: 80em;\n        font-weight: 600;\n    }\n\n    .margin-class {\n        margin-top: 40px\n    }\n\n    table {\n        border-collapse: collapse;       \n        width: 78em;\n        border: 1px solid silver;\n        table-layout: fixed;\n    }\n\n\n    table td,\n    table th {\n        border-bottom: 1px solid silver;\n        border-right: 1px dotted silver;\n        padding: 3px 5px;\n        white-space: normal;\n        word-wrap: break-word;\n    }\n\n    table th {\n        background-color: silver;\n    }\n\n    @media print {\n        body {\n            margin: 0;\n        }\n    }\n    .Blocker {\n        color: red;\n      }\n    .Info {\n        color: green;\n      }\n    .Warning {\n        color: orange;\n      }\n</style>\n    '}},6093:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ReportBuilder=void 0;const r=n(252),o=n(262),s=n(2571),a=n(9444),l=n(8874);t.ReportBuilder=class{constructor(e,t,n){this.assessmentId=e,this.assessmentName=t,this.connectionProfile=n}build(){return i(this,void 0,void 0,(function*(){yield(0,o.fetchPostgreSqlSkuRecommendationData)(this.assessmentId,this.assessmentName,this.connectionProfile),yield(0,o.fetchDatabaseCompatibilityData)(this.assessmentId,this.assessmentName,this.connectionProfile),yield(0,o.fetchServerCompatibilityData)(this.assessmentId,this.assessmentName,this.connectionProfile),yield(0,o.fetchTotalCompatibilitySummaryData)();let e=`\n        <html>\n        <head>\n            <title>${[(0,l.localize)(a.EXTENSION_NAME.key,a.EXTENSION_NAME.value)]}</title>\n        </head>\n        <body>\n            <div class="header">\n                <div>${[(0,l.localize)(a.EXTENSION_NAME.key,a.EXTENSION_NAME.value)]}</div>\n            </div>\n            <div class="sub-heading">\n                <div>${[(0,l.localize)(a.ASSESSMENT.key,a.ASSESSMENT.value)]}</div>\n            </div>\n            <div style="font-style: italic;">${[(0,l.localize)(a.ASSESSMENT_CREATED_ON.key,a.ASSESSMENT_CREATED_ON.value)]} - ${(0,s.formatDate)(new Date)}</div>\n            <br>            \n            <div class="section-heading">${[(0,l.localize)("Content","Content")]}</div>\n            <div><a href="#skuRecommendationSection">${[(0,l.localize)(a.RECOMMENDED_CONFIGURATION.key,a.RECOMMENDED_CONFIGURATION.value)]}</a></div>\n            <div><a href="#summarySection">${[(0,l.localize)(a.ASSESSMENT_SUMMARY.key,a.ASSESSMENT_SUMMARY.value)]}</a></div>\n            <div><a href="#FeatureCompatibilitySection">${[(0,l.localize)(a.FEATURE_COMPATIBILITY.key,a.FEATURE_COMPATIBILITY.value)]}</a></div>\n            <div><a href="#ServerSettingsCompatibilitySection">${[(0,l.localize)(a.SERVER_SETTINGS_COMPATIBILITY.key,a.SERVER_SETTINGS_COMPATIBILITY.value)]}</a></div>\n            <div><a href="#dbExtensionCompatibilitySection">${[(0,l.localize)(a.DATABASE_EXTENSIONS_COMPATIBILITY.key,a.DATABASE_EXTENSIONS_COMPATIBILITY.value)]}</a></div>\n            <div><a href="#dbCollationSection">${[(0,l.localize)(a.DATABASE_COLLATIONS_COMPATIBILITY.key,a.DATABASE_COLLATIONS_COMPATIBILITY.value)]}</a></div>\n\n            <div class="margin-class" id="skuRecommendationSection">\n                ${o.skuRecommendationContainer}\n            </div>`;return e+=`\n            <div class="margin-class" id="summarySection">\n                ${o.totalCompatibilitySummaryContainer}\n            </div>\n            <div class="margin-class"  id = "FeatureCompatibilitySection">\n                ${o.serverFeaturesCompatibilityContainer}\n            </div>\n            <div class="margin-class"  id = "ServerSettingsCompatibilitySection">\n                ${o.serverSettingsCompatibilityContainer}\n            </div>\n            <div class="margin-class"  id = "dbExtensionCompatibilitySection">\n                ${o.databaseExtensionContainer}\n            </div>\n            <div class="margin-class"  id = "dbCollationSection">\n                ${o.databaseCollationContainer}\n            </div>\n        ${(0,r.buildStyling)()}\n        </body>\n        </html>`,e}))}}},1326:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.htmlEscape=t.suggestReportFile=void 0;const i=n(1017),r=n(2037);t.suggestReportFile=function(e){const t=`DatabaseAssessmentReport_${n=new Date(e),`${n.toISOString().replace(/-/g,"").replace("T","").replace(/:/g,"").split(".")[0]}`}.html`;var n;return i.join(r.homedir(),t)},t.htmlEscape=function(e){return e.replace(/[<|>|&|"]/g,(function(e){switch(e){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";case'"':return"&quot;";case"'":return"&#39";default:return e}}))}},1471:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.DashboardTab=t.MenuCommands=t.PostgreSqlMigrationExtensionId=void 0;const r=n(9690),o=n(4665),s=n(2048),a=n(4862),l=n(8047),c=n(9444),u=n(8874),d=n(9658),p=n(1354);t.PostgreSqlMigrationExtensionId="microsoft.postgresql-migration",t.MenuCommands={StartAssessment:"postgresql-migration.startassessment",IssueReporter:"workbench.action.openIssueReporter",NewSupportRequest:"postgresql-migration.newsupportrequest",SendFeedback:"postgresql-migration.sendfeedback"};class h extends l.ParentTab{constructor(e){super(e,(0,u.localize)(c.DASHBOARD.key,c.DASHBOARD.value),"MainTab"),this.disposables=[],this.isRefreshing=!1}tabContent(e,t){return i(this,void 0,void 0,(function*(){this.connectionProfile=yield r.connection.getCurrentConnection(),this._view=e;const t=e.modelBuilder.flexContainer().withLayout({flexFlow:"column",width:"100%",height:"100%"}).component(),n=e.modelBuilder.toolbarContainer();n.addToolbarItems([{component:this.createNewMigrationButton()},{component:this.createNewSupportRequestButton()},{component:this.createFeedbackButton()}]),t.addItem(n.component(),{CSSStyles:{flex:"0 0 auto"}});const i=this.createHeader(e),s=o.Uri.file(a.IconPathHelper.dashboardBackground.light).with({scheme:"vscode-file"});t.addItem(i,{CSSStyles:{"background-image":`\n\t\t\t\t\t\turl(${s}),\n\t\t\t\t\t\tlinear-gradient(0deg, rgba(0, 0, 0, 0.05) 0%, rgba(0, 0, 0, 0) 60%)\n\t\t\t\t\t`,"background-repeat":"no-repeat","background-position":"92% 100%","margin-bottom":"20px"}});const l=yield this._createTasks(e);return i.addItem(l,{CSSStyles:{width:"800px",margin:"24px"}}),t.addItem(yield this._createFooter(e),{CSSStyles:{margin:"0 24px"}}),this.content=t,t}))}createHeader(e){const t=e.modelBuilder.flexContainer().withLayout({flexFlow:"column",width:800}).component(),n=e.modelBuilder.text().withProps({value:(0,u.localize)(c.DASHBOARD_TITLE.key,c.DASHBOARD_TITLE.value),ariaLabel:(0,u.localize)(c.DASHBOARD_TITLE.key,c.DASHBOARD_TITLE.value),width:"750px",CSSStyles:Object.assign({},s.DASHBOARD_TITLE_CSS)}).component(),i=e.modelBuilder.text().withProps({value:(0,u.localize)(c.DASHBOARD_DESCRIPTION.key,c.DASHBOARD_DESCRIPTION.value),ariaLabel:(0,u.localize)(c.DASHBOARD_DESCRIPTION.key,c.DASHBOARD_DESCRIPTION.value),CSSStyles:Object.assign({},s.NOTE_CSS)}).component();return t.addItems([n,i],{CSSStyles:{width:"800px","padding-left":"24px"}}),t}_createFooter(e){return i(this,void 0,void 0,(function*(){const t=e.modelBuilder.flexContainer().withLayout({flexFlow:"row",width:800,justifyContent:"flex-start"}).component(),n=this._createVideoLinks(e);return t.addItem(n,{CSSStyles:{"padding-left":"8px"}}),t}))}_createVideoLinks(e){const t=e.modelBuilder.flexContainer().withLayout({flexFlow:"column",width:"440px",height:"325px",justifyContent:"flex-start"}).withProps({CSSStyles:{border:"1px solid rgba(0, 0, 0, 0.1)",padding:"10px",overflow:"scroll"}}).component(),n=e.modelBuilder.text().withProps({value:(0,u.localize)(c.HELP_TITLE.key,c.HELP_TITLE.value),ariaLabel:(0,u.localize)(c.HELP_TITLE.key,c.HELP_TITLE.value),CSSStyles:Object.assign({},s.SECTION_HEADER_CSS)}).component();t.addItems([n],{CSSStyles:{"margin-bottom":"16px"}});const i=[{title:(0,u.localize)(c.DASHBOARD_HELP_LINK_DMS_GUIDE.key,c.DASHBOARD_HELP_LINK_DMS_GUIDE.value),description:(0,u.localize)(c.DASHBOARD_HELP_DESCRIPTION_DMS_GUIDE.key,c.DASHBOARD_HELP_DESCRIPTION_DMS_GUIDE.value),link:"https://aka.ms/postgrestoazure"},{title:(0,u.localize)(c.DASHBOARD_HELP_LINK_MIGRATE_USING_PORTAL.key,c.DASHBOARD_HELP_LINK_MIGRATE_USING_PORTAL.value),description:(0,u.localize)(c.DASHBOARD_HELP_LINK_MIGRATE_USING_PORTAL_DESCRIPTION.key,c.DASHBOARD_HELP_LINK_MIGRATE_USING_PORTAL_DESCRIPTION.value),link:"https://learn.microsoft.com/azure/dms/tutorial-postgresql-azure-postgresql-online-portal"},{title:(0,u.localize)(c.DASHBOARD_SIMPLIFYING_MIGRATION_GUIDE.key,c.DASHBOARD_SIMPLIFYING_MIGRATION_GUIDE.value),description:(0,u.localize)(c.DASHBOARD_SIMPLIFYING_MIGRATION_GUIDE_DESCRIPTION.key,c.DASHBOARD_SIMPLIFYING_MIGRATION_GUIDE_DESCRIPTION.value),link:"https://www.youtube.com/watch?v=C5bHbODozis"}];t.addItems(i.map((t=>this._createLink(e,t))),{});const r=e.modelBuilder.flexContainer().withLayout({flexFlow:"row",width:800}).component();return r.addItems([].map((t=>this._createVideoLink(e,t))),{}),t.addItem(r),t}_createLink(e,t){const n=e.modelBuilder.flexContainer().withProps({CSSStyles:{"flex-direction":"column",width:"400px","justify-content":"flex-start","margin-bottom":"12px"}}).component(),i=e.modelBuilder.flexContainer().withProps({CSSStyles:{"flex-direction":"row",width:"400px","justify-content":"flex-start","margin-bottom":"4px"}}).component(),r=e.modelBuilder.text().withProps({value:t.description,width:400,CSSStyles:Object.assign({},s.NOTE_CSS)}).component(),o=e.modelBuilder.hyperlink().withProps({label:t.title,url:t.link,showLinkIcon:!0,CSSStyles:Object.assign({},s.BODY_CSS)}).component();return i.addItem(o),n.addItems([i,r]),n}_createVideoLink(e,t){var n;const r=e.modelBuilder.flexContainer().withLayout({flexFlow:"column",width:150,justifyContent:"flex-start"}).component(),a=e.modelBuilder.divContainer().withProps({clickable:!0,width:150,height:"100px"}).component(),l=e.modelBuilder.text().withProps({value:t.description,width:150,height:"50px",CSSStyles:Object.assign({},s.BODY_CSS)}).component();return this.disposables.push(a.onDidClick((()=>i(this,void 0,void 0,(function*(){t.link&&(yield o.env.openExternal(o.Uri.parse(t.link)))}))))),r.addItem(a,{CSSStyles:{"background-image":`url(${o.Uri.file(null===(n=t.iconPath)||void 0===n?void 0:n.light)})`,"background-repeat":"no-repeat","background-position":"top",width:"150px",height:"104px","background-size":"150px 120px"}}),r.addItem(l),r}refresh(){return i(this,void 0,void 0,(function*(){this.isRefreshing}))}_createTasks(e){return i(this,void 0,void 0,(function*(){const n=e.modelBuilder.flexContainer().withLayout({flexFlow:"row",width:"100%"}).component(),i={title:(0,u.localize)(c.DESKTOP_ASSESSMENT_RUN_BUTTON_LABEL.key,c.DESKTOP_ASSESSMENT_RUN_BUTTON_LABEL.value),description:(0,u.localize)(c.DASHBOARD_ASSESSMENT_TASK_BUTTON_DESCRIPTION.key,c.DASHBOARD_ASSESSMENT_TASK_BUTTON_DESCRIPTION.value),iconPath:a.IconPathHelper.postgresicon,command:t.MenuCommands.StartAssessment},r=this._createTaskButton(e,i);return n.addItem(r,{}),n}))}_createTaskButton(e,t){const n=e.modelBuilder.button().withProps({buttonType:r.ButtonType.Informational,description:t.description,height:84,iconHeight:32,iconPath:t.iconPath,iconWidth:32,label:t.title,title:t.title,width:236,CSSStyles:{border:"1px solid",display:"flex","flex-direction":"column","justify-content":"flex-start","border-radius":"4px",transition:"all .5s ease","font-color":"#4A4A4A"}}).component();return this.disposables.push(n.onDidClick((()=>i(this,void 0,void 0,(function*(){(0,d.sendPostgresAssessmentActionEvent)(d.TelemetryViews.DashboardTab,d.TelemetryAction.NewAssessment,{instanceId:p.SHA256(this.connectionProfile.serverName).toString(p.enc.Hex)},{}),t.command&&(yield o.commands.executeCommand(t.command))}))))),e.modelBuilder.divContainer().withItems([n]).component()}createFeedbackButton(){const e=this._view.modelBuilder.button().withProps({buttonType:r.ButtonType.Normal,label:(0,u.localize)(c.DESKTOP_FEEDBACK_BUTTON_LABEL.key,c.DESKTOP_FEEDBACK_BUTTON_LABEL.value),description:(0,u.localize)(c.DESKTOP_FEEDBACK_BUTTON_DESCRIPTION.key,c.DESKTOP_FEEDBACK_BUTTON_DESCRIPTION.value),height:24,iconHeight:24,iconWidth:24,iconPath:a.IconPathHelper.sendFeedback}).component();return this.disposables.push(e.onDidClick((()=>i(this,void 0,void 0,(function*(){const e=t.MenuCommands.IssueReporter,n={extensionId:t.PostgreSqlMigrationExtensionId,issueTitle:(0,u.localize)(c.FEEDBACK_ISSUE_TITLE.key,c.FEEDBACK_ISSUE_TITLE.value)};return yield o.commands.executeCommand(e,n)}))))),e}createNewSupportRequestButton(){const e=this._view.modelBuilder.button().withProps({buttonType:r.ButtonType.Normal,label:(0,u.localize)(c.DESKTOP_SUPPORT_BUTTON_LABEL.key,c.DESKTOP_SUPPORT_BUTTON_LABEL.value),description:(0,u.localize)(c.DESKTOP_SUPPORT_BUTTON_DESCRIPTION.key,c.DESKTOP_SUPPORT_BUTTON_DESCRIPTION.value),height:24,iconHeight:24,iconWidth:24,iconPath:a.IconPathHelper.newSupportRequest}).component();return this.disposables.push(e.onDidClick((()=>i(this,void 0,void 0,(function*(){yield o.env.openExternal(o.Uri.parse("https://portal.azure.com/#blade/Microsoft_Azure_Support/HelpAndSupportBlade/newsupportrequest"))}))))),e}createNewMigrationButton(){const e=this._view.modelBuilder.button().withProps({buttonType:r.ButtonType.Normal,label:(0,u.localize)(c.DESKTOP_ASSESSMENT_BUTTON_LABEL.key,c.DESKTOP_ASSESSMENT_BUTTON_LABEL.value),description:(0,u.localize)(c.DESKTOP_ASSESSMENT_BUTTON_DESCRIPTION.key,c.DESKTOP_ASSESSMENT_BUTTON_DESCRIPTION.value),height:24,iconHeight:24,iconWidth:24,iconPath:a.IconPathHelper.addNew}).component();return this.disposables.push(e.onDidClick((()=>i(this,void 0,void 0,(function*(){const e=t.MenuCommands.StartAssessment,n={extensionId:t.PostgreSqlMigrationExtensionId,issueTitle:(0,u.localize)(c.DESKTOP_ASSESSMENT_BUTTON_LABEL.key,c.DESKTOP_ASSESSMENT_BUTTON_LABEL.value)};return(0,d.sendPostgresAssessmentActionEvent)(d.TelemetryViews.DashboardTab,d.TelemetryAction.NewAssessment,{instanceId:p.SHA256(this.connectionProfile.serverName).toString(p.enc.Hex)},{}),yield o.commands.executeCommand(e,n)}))))),e}}t.DashboardTab=h},8047:function(e,t){"use strict";var n=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ParentTab=void 0,t.ParentTab=class{constructor(e,t,n){this.title=t,this.id=n,this.extensionContext=e}dispose(){}Create(e,t){return n(this,void 0,void 0,(function*(){return this.content=yield this.tabContent(e,t),this}))}}},9658:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendPostgresAssessmentTelemetryEvent=t.sendPostgresAssessmentViewEvent=t.sendPostgresAssessmentActionEvent=t.logError=t.TelemetryAction=t.TelemetryViews=t.TelemetryReporter=void 0;const i=n(7437),r=n(2571),o=n(4147),s=n(5473),a=(0,r.getPackageInfo)(o);var l,c;t.TelemetryReporter=void 0!==a?new i.default(a.name,a.version,a.aiKey):null,(c=t.TelemetryViews||(t.TelemetryViews={})).DashboardTab="DashboardTab",c.AssessmentWizardController="AssessmentWizardController",c.GetDatabaseDetailsPage="GetDatabaseDetailsPage",c.AssessmentParameterPage="AssessmentParameterPage",c.ProgressAssessmentPage="ProgressAssessmentPage",c.ViewAssessmentResultPage="ViewAssessmentResultPage",(l=t.TelemetryAction||(t.TelemetryAction={})).NewAssessment="NewAssessment",l.FetchingDatabaseListFromDB="FetchingDatabaseListFromDB",l.SucccessfullyFetchedDatabaseListFromDB="SucccessfullyFetchedDatabaseListFromDB",l.SuccessfulDatabaseListPopulation="SuccessfulDatabaseListPopulation",l.WindowsAutomaticCollectionError="WindowsAutomaticCollectionError",l.MacAutomaticCollectionError="MacAutomaticCollectionError",l.SuperUserOrHasReadServerFileAccessError="SuperUserOrHasReadServerFileAccessError",l.LinuxAutomaticCollectionVersionError="LinuxAutomaticCollectionVersionError",l.PgVersion16Error="PgVersion16Error",l.SelectedDBlengthZeroError="SelectedDBlengthZeroError",l.StartAssessment="StartAssessment",l.SuccessfulAssessment="SuccessfulAssessment",l.FailedAssessment="FailedAssessment",l.CancelAssessment="CancelAssessment",l.GetAssessmentDetailsFailed="GetAssessmentDetailsFailed",l.StartAssessmentFailed="StartAssessmentFailed",l.GetServerCompatibilityFailed="GetServerCompatibilityFailed",l.GetDatabaseCompatibilityFailed="GetDatabaseCompatibilityFailed",l.GetSkuRecommendationFailed="GetSkuRecommendationFailed",l.GetDbSourcePropertiesFailed="GetDbSourcePropertiesFailed",l.SaveAssessmentReport="SaveAssessmentReport",l.AssessmentInstanceSummary="AssessmentInstanceSummary",l.AssessmentDatabaseSummary="AssessmentDatabaseSummary",l.AssessmentInstanceResult="AssessmentInstanceResult",l.AssessmentDatabaseResult="AssessmentDatabaseResult",l.AssessmentFeatureResult="AssessmentFeatureResult",l.AssessmentServerSettingsResult="AssessmentServerSettingsResult",l.AssessmentExtensionResult="AssessmentExtensionResult",l.AssessmentCollationResult="AssessmentCollationResult",l.AutomaticCollection="AutomaticCollection",l.ManualCollection="ManualCollection",l.StartCollection="StartCollection",l.ReStartCollectionFailed="ReStartCollectionFailed",l.StopCollection="StopCollection",l.CollectionCancelled="CollectionCancelled",l.CollectionCompleted="CollectionCompleted",l.SKUViewDetails="SKUViewDetails",l.ReadyDatabaseDetails="ReadyDatabaseDetails",l.ReadyWithConditionDatabaseDetails="ReadyWithConditionDatabaseDetails",l.NotReadyDatabaseDetails="NotReadyDatabaseDetails",l.GetDatabaseDetailsPageCancel="GetDatabaseDetailsPageCancel",l.AssessmentParameterPageCancel="AssessmentParameterPageCancel",l.Close="Close",l.Assess="Assess",l.Next="Next",l.Back="Back",l.TelemetryEvent="TelemetryEvent",t.logError=function(e,n,i){s.logger.logError(i),t.TelemetryReporter?t.TelemetryReporter.sendErrorEvent(e,n,i):s.logger.logError("TelemetryReporter is null")},t.sendPostgresAssessmentActionEvent=function(e,n,i,r){t.TelemetryReporter?t.TelemetryReporter.createActionEvent(e,n).withAdditionalProperties(i).withAdditionalMeasurements(r).send():s.logger.logError("TelemetryReporter is null")},t.sendPostgresAssessmentViewEvent=function(e,n,i){t.TelemetryReporter?t.TelemetryReporter.createViewEvent(e).withAdditionalProperties(n).withAdditionalMeasurements(i).send():s.logger.logError("TelemetryReporter is null")},t.sendPostgresAssessmentTelemetryEvent=function(e,n){t.TelemetryReporter?t.TelemetryReporter.createTelemetryEvent(e,n).send():s.logger.logError("TelemetryReporter is null")}},9132:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.AssessmentParameterPage=t.isSuperUserOrHasReadServerFileAccess=t.isLinuxOsVersionBelow11=t.isLinuxOs=t.perfDurationMinutes=t.perfDurationHours=t.isAutomated=t.iops=t.memory=t.storage=t.vcores=t.percentileUtilizationString=t.percentileUtilization=t.targetVersion=t.scaleFactor=t.manualEnteredDataFile=void 0;const r=n(9690),o=n(7287),s=n(9444),a=n(2048),l=n(8874),c=n(4528),u=n(6113),d=n(9658),p=n(6282),h=n(4876),m=n(5482);t.manualEnteredDataFile=JSON.parse("{}"),t.isAutomated=!1,t.perfDurationHours=1,t.perfDurationMinutes=0,t.isLinuxOs=!1,t.isLinuxOsVersionBelow11=!1,t.isSuperUserOrHasReadServerFileAccess=!1;class f extends o.AssessmentWizardPage{constructor(e,t,n){super(e,r.window.createWizardPage((0,l.localize)(s.ASSESSMENT_PARAMETERS.key,s.ASSESSMENT_PARAMETERS.value)),t),this.connectionProfile=n,this._disposables=[],this.serverVersionInNumber=0,this._config=new c.Config}registerContent(e){return i(this,void 0,void 0,(function*(){this._view=e;const n=this.createCollectAssessmentParameterContainer(e);this._disposables.push(this._view.onClosed((e=>{this._disposables.forEach((e=>{try{e.dispose()}catch(e){}}))})));try{const e=yield(0,p.getPostgreSqlVersion)(yield this.assessmentStateModel.getSourceConnectionProfile()),n=yield(0,p.getPostgreSqlShowVersion)(yield this.assessmentStateModel.getSourceConnectionProfile());if(t.isLinuxOs=this.isLinuxOS(e[0].options.name),t.isLinuxOsVersionBelow11=this.isVersionBelow11(n[0].options.name),t.isLinuxOs&&!t.isLinuxOsVersionBelow11){const e=yield(0,p.getIsSuperUserOrHasReadServerFileAccess)(yield this.assessmentStateModel.getSourceConnectionProfile());t.isSuperUserOrHasReadServerFileAccess="true"===e[0].options.name}}catch(e){this.wizard.message={text:String(e),level:r.window.MessageLevel.Error}}yield e.initializeModel(n)}))}createCollectAssessmentParameterContainer(e){const n=this._view.modelBuilder.text().withProps({value:(0,l.localize)(s.TARGET_VERSION_HEADING_TEXT.key,s.TARGET_VERSION_HEADING_TEXT.value),ariaLabel:(0,l.localize)(s.TARGET_VERSION_HEADING_TEXT.key,s.TARGET_VERSION_HEADING_TEXT.value),width:"553px",height:"22px",CSSStyles:{"font-size":"13px","font-weight":"600",margin:"10px 0 4px 15px","line-height":"18px"}}).component(),o=this._view.modelBuilder.text().withProps({value:(0,l.localize)(s.TARGET_VERSION_WO_COLON.key,s.TARGET_VERSION_WO_COLON.value),ariaLabel:(0,l.localize)(s.TARGET_VERSION_WO_COLON.key,s.TARGET_VERSION_WO_COLON.value),width:"190px",height:"30px",CSSStyles:{display:"inline",margin:"0 0 5px 15px","font-size":"13px"}}).component();this._targetVersionDropDown=this._view.modelBuilder.dropDown().withProps({ariaLabel:(0,l.localize)(s.TARGET_VERSION_WO_COLON.key,s.TARGET_VERSION_WO_COLON.value),value:"15",values:[],editable:!1,width:"212px",height:"20px",fireOnTextChange:!0,CSSStyles:{position:"absolute","margin-left":"120px","font-size":"13px"}}).component();const c=this._view.modelBuilder.text().withProps({value:(0,l.localize)(s.ASSESSMENT_PARAMETER_INFORMATION_TEXT.key,s.ASSESSMENT_PARAMETER_INFORMATION_TEXT.value),ariaLabel:(0,l.localize)(s.ASSESSMENT_PARAMETER_INFORMATION_TEXT.key,s.ASSESSMENT_PARAMETER_INFORMATION_TEXT.value),width:"553px",CSSStyles:{"font-style":"normal","font-size":"13px","font-weight":"400px",margin:"0 0 4px 15px","line-height":"18px"}}).component(),u=this._view.modelBuilder.text().withProps({value:(0,l.localize)(s.CHOOSECOLLECTIONTYPE_INFORMATION_TEXT.key,s.CHOOSECOLLECTIONTYPE_INFORMATION_TEXT.value),ariaLabel:(0,l.localize)(s.CHOOSECOLLECTIONTYPE_INFORMATION_TEXT.key,s.CHOOSECOLLECTIONTYPE_INFORMATION_TEXT.value),width:"553px",CSSStyles:{"font-style":"normal","font-size":"13px","font-weight":"600",margin:"20px 0 4px 15px","line-height":"18px"}}).component(),p=this._view.modelBuilder.hyperlink().withProps({label:(0,l.localize)(s.LEARN_MORE.key,s.LEARN_MORE.value),url:"https://aka.ms/postgrestoazure",CSSStyles:{"font-style":"normal","font-weight":"400","font-size":"13px","line-height":"18px",display:"flex","align-items":"center",order:"1",margin:"-6px 0 0 15px"},ariaLabel:(0,l.localize)(s.LEARN_MORE.key,s.LEARN_MORE.value),showLinkIcon:!0}).component();this._autoCollectDataComponent=this._view.modelBuilder.radioButton().withProps({name:(0,l.localize)(s.AUTOMATIC_COLLECTION.key,s.AUTOMATIC_COLLECTION.value),ariaLabel:(0,l.localize)(s.AUTOMATIC_COLLECTION.key,s.AUTOMATIC_COLLECTION.value),label:(0,l.localize)(s.AUTOMATIC_COLLECTION.key,s.AUTOMATIC_COLLECTION.value),checked:!1,enabled:!0,CSSStyles:Object.assign(Object.assign({},a.BODY_CSS),{"font-size":"13px",margin:"0 0 20px 12px","line-height":"15px",width:"300px"})}).component(),this._manualCollectDataComponent=this._view.modelBuilder.radioButton().withProps({name:(0,l.localize)(s.MANUAL_COLLECTION.key,s.MANUAL_COLLECTION.value),ariaLabel:(0,l.localize)(s.MANUAL_COLLECTION.key,s.MANUAL_COLLECTION.value),label:(0,l.localize)(s.MANUAL_COLLECTION.key,s.MANUAL_COLLECTION.value),checked:!0,CSSStyles:Object.assign(Object.assign({},a.BODY_CSS),{"font-size":"13px",margin:"0 0 20px 0","line-height":"15px",width:"300px"})}).component();const h=this._view.modelBuilder.flexContainer().withItems([this._autoCollectDataComponent,this._manualCollectDataComponent]).withLayout({flexFlow:"row",width:"600px"}).component(),f=this.createAutoCollectAssessmentParameterContainer(e),g=this.createManualCollectAssessmentParameterContainer(e);this._disposables.push(this._autoCollectDataComponent.onDidChangeCheckedState((e=>{if(e){this._manualCollectDataComponent.checked=!1,this._autoCollectDataComponent.checked=!0,this._isAutomatedParameter=!0,g.updateCssStyles({display:"none"}),f.updateCssStyles({display:"inline"}),this._vCoresTextInput.value="1",this._storageSizeInGbInput.value="1",this._iopsManualCollectionInput.value="1",this._cpuMemoryInGbInput.value="1";let e=!1;m.isMacOs?(e=!0,(0,d.logError)(d.TelemetryViews.AssessmentParameterPage,d.TelemetryAction.MacAutomaticCollectionError,"MacAutomaticCollectionError"),this.wizard.message={text:(0,l.localize)(s.MAC_AUTOMATIC_COLLECTION_ERROR.key,s.MAC_AUTOMATIC_COLLECTION_ERROR.value),level:r.window.MessageLevel.Error}):t.isLinuxOs?t.isLinuxOs&&t.isLinuxOsVersionBelow11?(e=!0,(0,d.logError)(d.TelemetryViews.AssessmentParameterPage,d.TelemetryAction.LinuxAutomaticCollectionVersionError,"LinuxAutomaticCollectionVersionError"),this.wizard.message={text:(0,l.localize)(s.LINUX_AUTOMATIC_COLLECTION__VERSION_ERROR.key,s.LINUX_AUTOMATIC_COLLECTION__VERSION_ERROR.value),level:r.window.MessageLevel.Error}):t.isSuperUserOrHasReadServerFileAccess||(e=!0,(0,d.logError)(d.TelemetryViews.AssessmentParameterPage,d.TelemetryAction.SuperUserOrHasReadServerFileAccessError,"SuperUserOrHasReadServerFileAccessError"),this.wizard.message={text:(0,l.localize)(s.PERMISSION_AUTOMATIC_COLLECTION__VERSION_ERROR.key,s.PERMISSION_AUTOMATIC_COLLECTION__VERSION_ERROR.value),level:r.window.MessageLevel.Error}):(e=!0,(0,d.logError)(d.TelemetryViews.AssessmentParameterPage,d.TelemetryAction.WindowsAutomaticCollectionError,"WindowsAutomaticCollectionError"),this.wizard.message={text:(0,l.localize)(s.WINDOWS_AUTOMATIC_COLLECTION_ERROR.key,s.WINDOWS_AUTOMATIC_COLLECTION_ERROR.value),level:r.window.MessageLevel.Error}),e&&(this._cpuMemoryInGbInput.value="",this._scaleFactorAutomaticDropDown.enabled=!1,this._dataCollectionHoursDropDown.enabled=!1,this._dataCollectionMinutesDropDown.enabled=!1,this._percentileUtilizationDropDown.enabled=!1)}}))),this._disposables.push(this._manualCollectDataComponent.onDidChangeCheckedState((e=>{e&&(this._manualCollectDataComponent.checked=!0,this._autoCollectDataComponent.checked=!1,this._isAutomatedParameter=!1,this._vCoresTextInput.value="",this._storageSizeInGbInput.value="",this._iopsManualCollectionInput.value="",this._cpuMemoryInGbInput.value="",g.updateCssStyles({display:"inline"}),f.updateCssStyles({display:"none"}),this.wizard.message={text:""})})));const v=this._view.modelBuilder.flexContainer().withLayout({flexFlow:"row"}).withProps({CSSStyles:{"margin-top":"6px"}}).component();v.addItem(o,{flex:"0 0 auto"}),v.addItem(this._targetVersionDropDown,{flex:"0 0 auto"});const _=this._view.modelBuilder.flexContainer().withItems([c,p,n,v,u,h,g,f]).withLayout({flexFlow:"column"}).withProps({CSSStyles:{"margin-left":"15px"}}).component();return this._targetVersionDropDown.onValueChanged((()=>i(this,void 0,void 0,(function*(){t.targetVersion=this._targetVersionDropDown.value})))),_}createAutoCollectAssessmentParameterContainer(e){const n={text:(0,l.localize)(s.LEARN_MORE.key,s.LEARN_MORE.value),url:"https://aka.ms/postgrestoazure"},r=this._view.modelBuilder.infoBox().withProps({style:"information",text:(0,l.localize)(s.AUTOMATIC_COLLECTION_INFORMATION_TEXT.key,s.AUTOMATIC_COLLECTION_INFORMATION_TEXT.value),ariaLabel:(0,l.localize)(s.AUTOMATIC_COLLECTION_INFORMATION_TEXT.key,s.AUTOMATIC_COLLECTION_INFORMATION_TEXT.value),width:"645px",announceText:!0,links:[n],display:"flex",CSSStyles:{"font-style":"normal","font-size":"13px","font-weight":"400","margin-left":"15px"}}).component(),o=this._view.modelBuilder.text().withProps({value:(0,l.localize)(s.DATA_COLLECTION_DURATION_TEXT.key,s.DATA_COLLECTION_DURATION_TEXT.value),ariaLabel:(0,l.localize)(s.DATA_COLLECTION_DURATION_TEXT.key,s.DATA_COLLECTION_DURATION_TEXT.value),width:"553px",CSSStyles:{"font-style":"normal","font-size":"13px","font-weight":"600",margin:"20px 0 7px 15px","line-height":"18px"}}).component(),a=this._view.modelBuilder.text().withProps({value:(0,l.localize)(s.TIME_DURATION_TEXT.key,s.TIME_DURATION_TEXT.value),ariaLabel:(0,l.localize)(s.TIME_DURATION_TEXT.key,s.TIME_DURATION_TEXT.value),description:(0,l.localize)(s.TIME_DURATION_INFORMATION_TEXT.key,s.TIME_DURATION_INFORMATION_TEXT.value),width:"195px",CSSStyles:{"font-style":"normal","font-size":"13px","font-weight":"400px",margin:"15px 0 4px 15px","line-height":"18px"}}).component(),c=this._view.modelBuilder.text().withProps({value:(0,l.localize)(s.HOURS_TEXT.key,s.HOURS_TEXT.value),ariaLabel:(0,l.localize)(s.HOURS_TEXT.key,s.HOURS_TEXT.value),CSSStyles:{"font-style":"normal","font-size":"13px","font-weight":"400px",margin:"10px 0 4px 25px","line-height":"18px"}}).component();this._dataCollectionHoursDropDown=this._view.modelBuilder.dropDown().withProps({ariaLabel:(0,l.localize)(s.HOURS_TEXT.key,s.HOURS_TEXT.value),value:"1",values:Array.from({length:25},((e,t)=>t.toString())),editable:!1,width:"60px",height:"20px",fireOnTextChange:!0,CSSStyles:{position:"absolute","margin-left":"10px","margin-top":"6px","font-size":"13px"}}).component();const u=this._view.modelBuilder.flexContainer().withLayout({flexFlow:"row",width:150}).component();u.addItem(c,{flex:"0 0 auto"}),u.addItem(this._dataCollectionHoursDropDown,{flex:"0 0 auto"}),this._dataCollectionHoursDropDown.onValueChanged((()=>i(this,void 0,void 0,(function*(){"24"==this._dataCollectionHoursDropDown.value?this._dataCollectionMinutesDropDown.values=["00"]:"0"==this._dataCollectionHoursDropDown.value?this._dataCollectionMinutesDropDown.values=["10","20","30","40","50"]:this._dataCollectionMinutesDropDown.values=["00","10","20","30","40","50"],t.perfDurationHours=Number(this._dataCollectionHoursDropDown.value),t.perfDurationMinutes=Number(this._dataCollectionMinutesDropDown.value)}))));const d=this._view.modelBuilder.text().withProps({value:(0,l.localize)(s.MINUTES_TEXT.key,s.MINUTES_TEXT.value),ariaLabel:(0,l.localize)(s.MINUTES_TEXT.key,s.MINUTES_TEXT.value),CSSStyles:{"font-style":"normal","font-size":"13px","font-weight":"400px",margin:"10px 0 4px 0","line-height":"18px"}}).component();this._dataCollectionMinutesDropDown=this._view.modelBuilder.dropDown().withProps({ariaLabel:(0,l.localize)(s.MINUTES_TEXT.key,s.MINUTES_TEXT.value),value:"00",values:["00","10","20","30","40","50"],editable:!1,width:"60px",height:"20px",fireOnTextChange:!0,CSSStyles:{position:"absolute","margin-left":"10px","margin-top":"6px","font-size":"13px"}}).component();const p=this._view.modelBuilder.flexContainer().withLayout({flexFlow:"row"}).component();p.addItem(d,{flex:"0 0 auto"}),p.addItem(this._dataCollectionMinutesDropDown,{flex:"0 0 auto"}),this._dataCollectionMinutesDropDown.onValueChanged((()=>i(this,void 0,void 0,(function*(){t.perfDurationMinutes=Number(this._dataCollectionMinutesDropDown.value)}))));const h=this._view.modelBuilder.flexContainer().withLayout({flexFlow:"row"}).component();h.addItem(a,{flex:"0 0 auto"}),h.addItem(u,{flex:"0 0 auto"}),h.addItem(p,{flex:"0 0 auto"});const m=this._view.modelBuilder.text().withProps({value:(0,l.localize)(s.REOMMENDATION_PARAMETERS_TEXT.key,s.REOMMENDATION_PARAMETERS_TEXT.value),ariaLabel:(0,l.localize)(s.REOMMENDATION_PARAMETERS_TEXT.key,s.REOMMENDATION_PARAMETERS_TEXT.value),width:"553px",CSSStyles:{"font-style":"normal","font-size":"13px","font-weight":"600",margin:"7px 0 12px 15px","line-height":"18px"}}).component(),f=this.createScaleFactorAutomaticContainer(e),g=this.createPercentileUtilizationContainer(e);return this._view.modelBuilder.flexContainer().withItems([r,o,h,m,f,g]).withLayout({flexFlow:"column"}).component()}createManualCollectAssessmentParameterContainer(e){const n=this._view.modelBuilder.text().withProps({value:(0,l.localize)(s.PERFORMANCE_PARAMETERS.key,s.PERFORMANCE_PARAMETERS.value),ariaLabel:(0,l.localize)(s.PERFORMANCE_PARAMETERS.key,s.PERFORMANCE_PARAMETERS.value),description:(0,l.localize)(s.PERFORMANCE_INFORMATION_TEXT.key,s.PERFORMANCE_INFORMATION_TEXT.value),width:"500px",height:"24px",CSSStyles:Object.assign(Object.assign({},a.LABEL_CSS),{"font-size":"14px",margin:"25px 0 5px 15px","line-height":"18px"})}).component(),r=this._view.modelBuilder.text().withProps({value:(0,l.localize)(s.VCORES_TEXT.key,s.VCORES_TEXT.value),ariaLabel:(0,l.localize)(s.VCORES_TEXT.key,s.VCORES_TEXT.value),description:(0,l.localize)(s.VCORES_INFORMATION_TEXT.key,s.VCORES_INFORMATION_TEXT.value),requiredIndicator:!0,width:"150px",height:"30px",CSSStyles:{display:"inline",margin:"0 0 5px 15px","font-size":"13px"}}).component();this._vCoresTextInput=this._view.modelBuilder.inputBox().withProps({ariaLabel:(0,l.localize)(s.VCORES_TEXT.key,s.VCORES_TEXT.value),placeHolder:(0,l.localize)(s.ENTER_VALUE.key,s.ENTER_VALUE.value),width:"210px",required:!0,maxLength:20,CSSStyles:{position:"absolute","margin-left":"30px","margin-top":"6px","margin-bottom":"10px","font-size":"13px"}}).withValidation((e=>this.validateInputNumberComponent(e))).component(),this._vCoresTextInput.onTextChanged((()=>i(this,void 0,void 0,(function*(){t.vcores=this._vCoresTextInput.value}))));const o=this._view.modelBuilder.flexContainer().withLayout({flexFlow:"row"}).component();o.addItem(r,{flex:"0 0 auto"}),o.addItem(this._vCoresTextInput,{flex:"0 0 auto"});const c=this._view.modelBuilder.text().withProps({value:(0,l.localize)(s.STORAGE_TEXT.key,s.STORAGE_TEXT.value),ariaLabel:(0,l.localize)(s.STORAGE_TEXT.key,s.STORAGE_TEXT.value),description:(0,l.localize)(s.STORAGE_INFORMATION_TEXT.key,s.STORAGE_INFORMATION_TEXT.value),requiredIndicator:!0,width:"150px",height:"30px",CSSStyles:{display:"inline",margin:"0 0 5px 15px","font-size":"13px"}}).component();this._storageSizeInGbInput=this._view.modelBuilder.inputBox().withProps({ariaLabel:(0,l.localize)(s.STORAGE_TEXT.key,s.STORAGE_TEXT.value),placeHolder:(0,l.localize)(s.ENTER_VALUE_IN_GB.key,s.ENTER_VALUE_IN_GB.value),width:"210px",required:!0,maxLength:20,CSSStyles:{position:"absolute","margin-left":"30px","margin-top":"6px","margin-bottom":"10px","font-size":"13px"}}).withValidation((e=>this.validateInputNumberComponent(e))).component(),this._storageSizeInGbInput.onTextChanged((()=>i(this,void 0,void 0,(function*(){t.storage=this._storageSizeInGbInput.value}))));const u=this._view.modelBuilder.flexContainer().withLayout({flexFlow:"row"}).component();u.addItem(c,{flex:"0 0 auto"}),u.addItem(this._storageSizeInGbInput,{flex:"0 0 auto"});const d=this._view.modelBuilder.text().withProps({value:(0,l.localize)(s.MEMORY_TEXT.key,s.MEMORY_TEXT.value),ariaLabel:(0,l.localize)(s.MEMORY_TEXT.key,s.MEMORY_TEXT.value),description:(0,l.localize)(s.MEMORY_INFORMATION_TEXT.key,s.MEMORY_INFORMATION_TEXT.value),requiredIndicator:!0,width:"150px",height:"30px",CSSStyles:{display:"inline",margin:"0 0 5px 15px","font-size":"13px"}}).component();this._cpuMemoryInGbInput=this._view.modelBuilder.inputBox().withProps({ariaLabel:(0,l.localize)(s.MEMORY_TEXT.key,s.MEMORY_TEXT.value),placeHolder:(0,l.localize)(s.ENTER_VALUE_IN_GB.key,s.ENTER_VALUE_IN_GB.value),width:"210px",required:!0,maxLength:20,CSSStyles:{position:"absolute","margin-left":"30px","margin-top":"6px","margin-bottom":"10px","font-size":"13px"}}).withValidation((e=>this.validateInputNumberComponent(e))).component(),this._cpuMemoryInGbInput.onTextChanged((()=>i(this,void 0,void 0,(function*(){t.memory=this._cpuMemoryInGbInput.value}))));const p=this._view.modelBuilder.flexContainer().withLayout({flexFlow:"row"}).component();p.addItem(d,{flex:"0 0 auto"}),p.addItem(this._cpuMemoryInGbInput,{flex:"0 0 auto"});const h=this._view.modelBuilder.text().withProps({value:(0,l.localize)(s.IOPS_TEXT.key,s.IOPS_TEXT.value),ariaLabel:(0,l.localize)(s.IOPS_TEXT.key,s.IOPS_TEXT.value),description:(0,l.localize)(s.IOPS_INFORMATION_TEXT.key,s.IOPS_INFORMATION_TEXT.value),requiredIndicator:!0,width:"150px",height:"30px",CSSStyles:{display:"inline",margin:"0 0 5px 15px","font-size":"13px"}}).component();this._iopsManualCollectionInput=this._view.modelBuilder.inputBox().withProps({ariaLabel:(0,l.localize)(s.IOPS_TEXT.key,s.IOPS_TEXT.value),placeHolder:(0,l.localize)(s.ENTER_VALUE.key,s.ENTER_VALUE.value),width:"210px",required:!0,maxLength:20,CSSStyles:{position:"absolute","margin-left":"30px","margin-top":"6px","margin-bottom":"5px","font-size":"13px"}}).withValidation((e=>this.validateIopsComponent(e))).component(),this._iopsManualCollectionInput.onTextChanged((()=>i(this,void 0,void 0,(function*(){t.iops=this._iopsManualCollectionInput.value}))));const m=this._view.modelBuilder.flexContainer().withLayout({flexFlow:"row"}).component();m.addItem(h,{flex:"0 0 auto"}),m.addItem(this._iopsManualCollectionInput,{flex:"0 0 auto"});const f=this._view.modelBuilder.text().withProps({value:(0,l.localize)(s.REOMMENDATION_PARAMETERS_TEXT.key,s.REOMMENDATION_PARAMETERS_TEXT.value),description:(0,l.localize)(s.REOMMENDATION_PARAMETERS_TEXT.key,s.REOMMENDATION_PARAMETERS_TEXT.value),ariaLabel:(0,l.localize)(s.REOMMENDATION_PARAMETERS_TEXT.key,s.REOMMENDATION_PARAMETERS_TEXT.value),width:"553px",CSSStyles:{"font-style":"normal","font-size":"13px","font-weight":"600",margin:"0 0 4px 15px","line-height":"18px"}}).component(),g=this.createScaleFactorManualContainer(e);this._expandAssessmentDetailsParameter=this._config.getExpandAssessmentDetails();const v=this._view.modelBuilder.flexContainer().withLayout({flexFlow:"column"}).component();v.addItem(n,{flex:"0 0 auto"}),v.addItem(o,{flex:"0 0 auto"}),v.addItem(p,{flex:"0 0 auto"}),v.addItem(u,{flex:"0 0 auto"}),v.addItem(m,{flex:"0 0 auto"}),v.addItem(f,{flex:"0 0 auto"}),v.addItem(g,{flex:"0 0 auto"});const _=this._view.modelBuilder.flexContainer().withLayout({flexFlow:"column"}).withProps({CSSStyles:{"margin-left":"15px"}}).component();return _.addItem(v,{flex:"0 0 auto"}),_}createScaleFactorManualContainer(e){const n=this._view.modelBuilder.text().withProps({value:(0,l.localize)(s.SCALE_FACTOR.key,s.SCALE_FACTOR.value),ariaLabel:(0,l.localize)(s.SCALE_FACTOR.key,s.SCALE_FACTOR.value),description:(0,l.localize)(s.SCALE_FACTOR_INFORMATION_TEXT.key,s.SCALE_FACTOR_INFORMATION_TEXT.value),width:"150px",height:"30px",CSSStyles:{display:"inline",margin:"0 0 5px 15px","font-size":"13px"}}).component();this._scaleFactorManualDropDown=this._view.modelBuilder.dropDown().withProps({ariaLabel:(0,l.localize)(s.SCALE_FACTOR.key,s.SCALE_FACTOR.value),value:"1.0",values:["0.2","0.5","0.7","1.0","1.2","1.5","1.7","2.0"],editable:!1,width:"212px",height:"20px",fireOnTextChange:!0,CSSStyles:{position:"absolute","margin-left":"30px","margin-top":"6px","font-size":"13px"}}).component();const r=this._view.modelBuilder.flexContainer().withLayout({flexFlow:"row"}).component();return r.addItem(n,{flex:"0 0 auto"}),r.addItem(this._scaleFactorManualDropDown,{flex:"0 0 auto"}),this._scaleFactorManualDropDown.onValueChanged((()=>i(this,void 0,void 0,(function*(){t.scaleFactor=Number(this._scaleFactorManualDropDown.value)})))),r}createScaleFactorAutomaticContainer(e){const n=this._view.modelBuilder.text().withProps({value:(0,l.localize)(s.SCALE_FACTOR.key,s.SCALE_FACTOR.value),ariaLabel:(0,l.localize)(s.SCALE_FACTOR.key,s.SCALE_FACTOR.value),description:(0,l.localize)(s.SCALE_FACTOR_INFORMATION_TEXT.key,s.SCALE_FACTOR_INFORMATION_TEXT.value),width:"190px",height:"30px",CSSStyles:{display:"inline",margin:"0 0 5px 15px","font-size":"13px"}}).component();this._scaleFactorAutomaticDropDown=this._view.modelBuilder.dropDown().withProps({ariaLabel:(0,l.localize)(s.SCALE_FACTOR.key,s.SCALE_FACTOR.value),value:"1.0",values:["0.2","0.5","0.7","1.0","1.2","1.5","1.7","2.0"],editable:!1,width:"244px",height:"20px",fireOnTextChange:!0,CSSStyles:{position:"absolute","margin-left":"30px","margin-top":"6px","font-size":"13px"}}).component();const r=this._view.modelBuilder.flexContainer().withLayout({flexFlow:"row"}).component();return r.addItem(n,{flex:"0 0 auto"}),r.addItem(this._scaleFactorAutomaticDropDown,{flex:"0 0 auto"}),this._scaleFactorAutomaticDropDown.onValueChanged((()=>i(this,void 0,void 0,(function*(){t.scaleFactor=Number(this._scaleFactorAutomaticDropDown.value)})))),r}createPercentileUtilizationContainer(e){const n=this._view.modelBuilder.text().withProps({value:(0,l.localize)(s.PERCENTILE_UTILIZATION.key,s.PERCENTILE_UTILIZATION.value),ariaLabel:(0,l.localize)(s.PERCENTILE_UTILIZATION.key,s.PERCENTILE_UTILIZATION.value),description:(0,l.localize)(s.PERCENTILE_UTILIZATION_INFORMATION_TEXT.key,s.PERCENTILE_UTILIZATION_INFORMATION_TEXT.value),width:"190px",height:"30px",CSSStyles:{display:"inline",margin:"0 0 5px 15px","font-size":"13px"}}).component();this._percentileUtilizationDropDown=this._view.modelBuilder.dropDown().withProps({ariaLabel:(0,l.localize)(s.PERCENTILE_UTILIZATION.key,s.PERCENTILE_UTILIZATION.value),value:(0,l.localize)(s.NINETY_FIVE.key,s.NINETY_FIVE.value),values:[(0,l.localize)(s.NINETY_NINE.key,s.NINETY_NINE.value),(0,l.localize)(s.NINETY_FIVE.key,s.NINETY_FIVE.value),(0,l.localize)(s.NINETY.key,s.NINETY.value),(0,l.localize)(s.FIFTY.key,s.FIFTY.value)],editable:!1,width:"244px",height:"20px",fireOnTextChange:!0,CSSStyles:{position:"absolute","margin-left":"30px","margin-top":"6px","font-size":"13px"}}).component();const r=this._view.modelBuilder.flexContainer().withLayout({flexFlow:"row"}).component();return r.addItem(n,{flex:"0 0 auto"}),r.addItem(this._percentileUtilizationDropDown,{flex:"0 0 auto"}),this._percentileUtilizationDropDown.onValueChanged((()=>i(this,void 0,void 0,(function*(){t.percentileUtilizationString=this._percentileUtilizationDropDown.value,this._percentileUtilizationDropDown.value==(0,l.localize)(s.NINETY.key,s.NINETY.value)?t.percentileUtilization=h.PercentileUtilization.Ninety:this._percentileUtilizationDropDown.value==(0,l.localize)(s.FIFTY.key,s.FIFTY.value)?t.percentileUtilization=h.PercentileUtilization.Fifty:this._percentileUtilizationDropDown.value==(0,l.localize)(s.NINETY_NINE.key,s.NINETY_NINE.value)?t.percentileUtilization=h.PercentileUtilization.NinetyNine:t.percentileUtilization=h.PercentileUtilization.NinetyFive})))),r}validateInputNumberComponent(e){var t;const n=null===(t=e.value)||void 0===t?void 0:t.trim();return void 0===n||n.length<0?(e.validationErrorMessage=(0,l.localize)(s.ENTER_VALID_INPUT.key,s.ENTER_VALID_INPUT.value),!1):!!/^([0-9]*[1-9][0-9]*(\.[0-9]+)?|[0]+\.[0-9]*[1-9][0-9]*)$/.test(n)||(e.validationErrorMessage=(0,l.localize)(s.ENTER_VALID_INPUT.key,s.ENTER_VALID_INPUT.value),!1)}validateIopsComponent(e){var t;const n=null===(t=e.value)||void 0===t?void 0:t.trim();return void 0===n||n.length<0?(e.validationErrorMessage=(0,l.localize)(s.ENTER_VALID_INPUT.key,s.ENTER_VALID_INPUT.value),!1):!(!/^[1-9][0-9]+$/.test(n)&&!/^[1-9]+$/.test(n)&&(e.validationErrorMessage=(0,l.localize)(s.ENTER_VALID_INPUT.key,s.ENTER_VALID_INPUT.value),1))}onPageEnter(e){return i(this,void 0,void 0,(function*(){this.populateTargetVersionDropdown(),t.manualEnteredDataFile="",this.wizard.customButtons[0].hidden=!0,this.wizard.nextButton.label=(0,l.localize)(s.ASSESS.key,s.ASSESS.value),!t.isLinuxOs||t.isLinuxOs&&t.isLinuxOsVersionBelow11||!t.isSuperUserOrHasReadServerFileAccess?(this._manualCollectDataComponent.focus(),this._manualCollectDataComponent.checked=!0,this._autoCollectDataComponent.checked=!1):(this._autoCollectDataComponent.focus(),this._manualCollectDataComponent.checked=!1,this._autoCollectDataComponent.checked=!0),this.wizard.registerNavigationValidator((e=>(this.wizard.message={text:""},e.newPage,e.lastPage,!0))),this.wizard.nextButton.onClick((()=>i(this,void 0,void 0,(function*(){(0,d.sendPostgresAssessmentActionEvent)(d.TelemetryViews.AssessmentParameterPage,d.TelemetryAction.Assess,{instanceId:(0,u.createHash)("sha256").update(this.connectionProfile.serverName).digest("hex")},{})})))),this.wizard.cancelButton.onClick((()=>i(this,void 0,void 0,(function*(){(0,d.sendPostgresAssessmentActionEvent)(d.TelemetryViews.AssessmentParameterPage,d.TelemetryAction.AssessmentParameterPageCancel,{instanceId:(0,u.createHash)("sha256").update(this.connectionProfile.serverName).digest("hex")},{})})))),(0,d.sendPostgresAssessmentViewEvent)(d.TelemetryViews.AssessmentParameterPage,{instanceId:(0,u.createHash)("sha256").update(this.connectionProfile.serverName).digest("hex")},{})}))}onPageLeave(e){return i(this,void 0,void 0,(function*(){this.wizard.nextButton.label=(0,l.localize)(s.NEXT.key,s.NEXT.value),this._isAutomatedParameter?(t.isAutomated=!0,t.perfDurationHours=Number(this._dataCollectionHoursDropDown.value),t.perfDurationMinutes=Number(this._dataCollectionMinutesDropDown.value),(0,d.sendPostgresAssessmentActionEvent)(d.TelemetryViews.AssessmentParameterPage,d.TelemetryAction.AutomaticCollection,{instanceId:(0,u.createHash)("sha256").update(this.connectionProfile.serverName).digest("hex")},{})):(t.isAutomated=!1,(0,d.sendPostgresAssessmentActionEvent)(d.TelemetryViews.AssessmentParameterPage,d.TelemetryAction.ManualCollection,{instanceId:(0,u.createHash)("sha256").update(this.connectionProfile.serverName).digest("hex")},{}));const e={expandAssessmentDetails:this._expandAssessmentDetailsParameter,performanceQueryDurationInMinutes:60*Number(t.perfDurationHours)+Number(t.perfDurationMinutes),performanceStatistics:{vCores:Number(t.vcores),storageSizeInGb:Number(t.storage),cpuMemoryInGb:Number(t.memory),IOPS:Number(t.iops),scaleFactor:t.scaleFactor}};(0,d.sendPostgresAssessmentTelemetryEvent)("userInputMetrics",{instanceId:(0,u.createHash)("sha256").update(this.connectionProfile.serverName).digest("hex"),vCores:`${t.vcores}`,storageSizeInGb:`${t.storage}`,cpuMemoryInGb:`${t.memory}`,iOPS:`${t.iops}`,isAutomated:`${t.isAutomated}`,targetVersion:`${t.targetVersion}`}),t.manualEnteredDataFile=JSON.parse(JSON.stringify(e)),this.wizard.registerNavigationValidator((e=>!0))}))}handleStateChange(e){throw new Error("Method not implemented.")}isLinuxOS(e){return!!(e&&e.toLowerCase().indexOf("linux")>0)}isVersionBelow11(e){const t=e.split(" ")[0];return this.serverVersionInNumber=Number(t.substring(0,t.lastIndexOf("."))),this.serverVersionInNumber<11}populateTargetVersionDropdown(){const e=[11,12,13,14,15].filter((e=>e>=this.serverVersionInNumber));this._targetVersionDropDown.values=e.map(String),this._targetVersionDropDown.value=e.map(String)[e.length-1]}}t.AssessmentParameterPage=f},5482:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.DatabaseSelectorPage=t.isMacOs=t.isOsVersionAbove15=t.userSelectedDbsWithSizeMap=t.userSelectedDbs=void 0;const r=n(9690),o=n(7287),s=n(2048),a=n(4862),l=n(5473),c=n(9444),u=n(6282),d=n(8874),p=n(9658),h=n(6113);t.userSelectedDbsWithSizeMap=new Map,t.isOsVersionAbove15=!1,t.isMacOs=!1;class m extends o.AssessmentWizardPage{constructor(e,t,n){super(e,r.window.createWizardPage((0,d.localize)(c.DATABASE_FOR_ASSESSMENT_PAGE_TITLE.key,c.DATABASE_FOR_ASSESSMENT_PAGE_TITLE.value)),t),this.connectionProfile=n,this._disposables=[]}registerContent(e){return i(this,void 0,void 0,(function*(){this._view=e;try{const e=yield(0,u.getPostgreSqlShowVersion)(yield this.assessmentStateModel.getSourceConnectionProfile());t.isOsVersionAbove15=this.isVersionAbove15(e[0].options.name)}catch(e){this.wizard.message={text:String(e),level:r.window.MessageLevel.Error}}const n=(yield(0,u.getPostgreSqlShowVersion)(yield this.assessmentStateModel.getSourceConnectionProfile()))[0].options.name.split(" ")[0];(0,p.sendPostgresAssessmentTelemetryEvent)("sourceVersion",{instanceId:(0,h.createHash)("sha256").update(this.connectionProfile.serverName).digest("hex"),postgreSqlServerVersion:n}),this._loaderComponent=this._view.modelBuilder.flexContainer().withLayout({height:"100%",flexFlow:"column"}).withProps({CSSStyles:{"margin-left":"30px"}}).component(),this._loaderComponent.addItem(this.createLoaderComponent(),{flex:"0 0 auto"}),this._flex=e.modelBuilder.flexContainer().withLayout({height:"100%",flexFlow:"column"}).withProps({ariaLive:"polite",CSSStyles:{margin:"0 28px 0 2px",overflow:"hidden"}}).component(),this._flex.addItem(this._loaderComponent,{flex:"0 0 auto"}),yield e.initializeModel(this._flex),this._rootContainer=yield this.createRootContainer(e),this._flex.removeItem(this._loaderComponent),this._flex.addItem(this._rootContainer,{flex:"1 1 auto"}),this._disposables.push(this._view.onClosed((e=>{this._disposables.forEach((e=>{try{e.dispose()}catch(e){l.logger.logDebug("TODO")}}))}))),(0,p.sendPostgresAssessmentActionEvent)(p.TelemetryViews.GetDatabaseDetailsPage,p.TelemetryAction.SuccessfulDatabaseListPopulation,{instanceId:(0,h.createHash)("sha256").update(this.connectionProfile.serverName).digest("hex")},{})}))}createLoaderComponent(){return this._databaseLoader=this._view.modelBuilder.loadingComponent().component(),this._databaseProgress=this._view.modelBuilder.text().withProps({value:(0,d.localize)(c.LOADING_DATABASE_LIST.key,c.LOADING_DATABASE_LIST.value),ariaLabel:(0,d.localize)(c.LOADING_DATABASE_LIST.key,c.LOADING_DATABASE_LIST.value),CSSStyles:Object.assign(Object.assign({},s.PAGE_TITLE_CSS),{"margin-right":"20px"})}).component(),this._progressContainer=this._view.modelBuilder.flexContainer().withLayout({height:"100%",flexFlow:"row",alignItems:"center"}).component(),this._progressContainer.addItem(this._databaseProgress,{flex:"0 0 auto"}),this._progressContainer.addItem(this._databaseLoader,{flex:"0 0 auto"}),this._progressContainer}onPageEnter(){return i(this,void 0,void 0,(function*(){this.wizard.registerNavigationValidator((e=>t.isOsVersionAbove15?((0,p.logError)(p.TelemetryViews.GetDatabaseDetailsPage,p.TelemetryAction.PgVersion16Error,"PgVersion16Error"),this.wizard.message={text:(0,d.localize)(c.VERSION_CHECK_16_AND_ABOVE_ERROR.key,c.VERSION_CHECK_16_AND_ABOVE_ERROR.value),level:r.window.MessageLevel.Error},!1):(this.wizard.message={text:"",level:r.window.MessageLevel.Error},e.newPage<e.lastPage||(0===this.selectedDbs().length?((0,p.logError)(p.TelemetryViews.GetDatabaseDetailsPage,p.TelemetryAction.SelectedDBlengthZeroError,"SelectedDBlengthZeroError"),this.wizard.message={text:(0,d.localize)(c.SELECT_DATABASE_TO_CONTINUE.key,c.SELECT_DATABASE_TO_CONTINUE.value),level:r.window.MessageLevel.Error},!1):(this.wizard.nextButton.enabled=!0,!0))))),(0,p.sendPostgresAssessmentViewEvent)(p.TelemetryViews.GetDatabaseDetailsPage,{instanceId:(0,h.createHash)("sha256").update(this.connectionProfile.serverName).digest("hex")},{}),this.wizard.cancelButton.onClick((()=>i(this,void 0,void 0,(function*(){(0,p.sendPostgresAssessmentActionEvent)(p.TelemetryViews.GetDatabaseDetailsPage,p.TelemetryAction.GetDatabaseDetailsPageCancel,{instanceId:(0,h.createHash)("sha256").update(this.connectionProfile.serverName).digest("hex")},{})}))))}))}onPageLeave(){var e,n,o;return i(this,void 0,void 0,(function*(){const i=null!==(e=this.assessmentStateModel._assessedDatabaseList)&&void 0!==e?e:[],s=this.assessmentStateModel._databasesForAssessment;this.assessmentStateModel._runAssessments=0===i.length||i.length!==s.length||i.some((e=>s.indexOf(e)<0)),t.userSelectedDbs=s;const a=(null===(n=this._databaseSelectorTable)||void 0===n?void 0:n.data)||[],l=((null===(o=this._databaseSelectorTable)||void 0===o?void 0:o.selectedRows)||[]).filter((e=>e<a.length)).map((e=>a[e][3]))||[],c=(a.map(((e,t)=>a[t][3]))||[]).toString(),d=l.toString(),m=(yield(0,u.getPostgreSqlShowVersion)(yield this.assessmentStateModel.getSourceConnectionProfile()))[0].options.name.split(" ")[0],f=yield(0,u.getPostgreSqlVersion)(yield this.assessmentStateModel.getSourceConnectionProfile());let g="";1==this.isLinuxOS(f[0].options.name)?g="Linux":1==this.isMacOS(f[0].options.name)?(g="Mac",t.isMacOs=!0):g="Windows",(0,p.sendPostgresAssessmentTelemetryEvent)("userDBMetrics",{instanceId:(0,h.createHash)("sha256").update(this.connectionProfile.serverName).digest("hex"),totalDbCount:`${a.length}`,allDbSizesinMB:c,selectedDbCount:`${l.length}`,selectedDbSizesInMB:d,osPlatform:g,postgreSqlServerVersion:m}),this.wizard.message={text:"",level:r.window.MessageLevel.Error},this.wizard.registerNavigationValidator((e=>!0))}))}handleStateChange(e){return i(this,void 0,void 0,(function*(){}))}createSearchComponent(){const e=this._view.modelBuilder.inputBox().withProps({stopEnterPropagation:!0,placeHolder:(0,d.localize)(c.SEARCH.key,c.SEARCH.value),width:200}).component();return this._disposables.push(e.onTextChanged((e=>this._filterTableList(e)))),this._view.modelBuilder.divContainer().withItems([e]).withProps({CSSStyles:{width:"200px","margin-top":"8px"}}).component()}_filterTableList(e,t){return i(this,void 0,void 0,(function*(){const n=[],i=t||this.selectedDbs();let r=this._databaseTableValues;this._databaseTableValues&&(null==e?void 0:e.length)>0&&(r=this._databaseTableValues.filter((t=>{var n,i,r,o;const s=null==e?void 0:e.toLowerCase();return(null===(i=null===(n=t[2])||void 0===n?void 0:n.toLowerCase())||void 0===i?void 0:i.indexOf(s))>-1||(null===(o=null===(r=t[3])||void 0===r?void 0:r.toLowerCase())||void 0===o?void 0:o.indexOf(s))>-1})));for(let e=0;e<r.length;e++){const t=r[e][2];i.includes(t)&&n.push(e)}yield this._databaseSelectorTable.updateProperty("data",r),this._databaseSelectorTable.selectedRows=n,yield this.updateValuesOnSelection()}))}createRootContainer(e){return i(this,void 0,void 0,(function*(){(0,p.sendPostgresAssessmentActionEvent)(p.TelemetryViews.GetDatabaseDetailsPage,p.TelemetryAction.FetchingDatabaseListFromDB,{instanceId:(0,h.createHash)("sha256").update(this.connectionProfile.serverName).digest("hex")},{}),yield this._loadDatabaseList(this.assessmentStateModel,this.assessmentStateModel._assessedDatabaseList),(0,p.sendPostgresAssessmentActionEvent)(p.TelemetryViews.GetDatabaseDetailsPage,p.TelemetryAction.SucccessfullyFetchedDatabaseListFromDB,{instanceId:(0,h.createHash)("sha256").update(this.connectionProfile.serverName).digest("hex")},{});const t=this._view.modelBuilder.text().withProps({value:(0,d.localize)(c.DATABASE_FOR_ASSESSMENT_DESCRIPTION.key,c.DATABASE_FOR_ASSESSMENT_DESCRIPTION.value),ariaLabel:(0,d.localize)(c.DATABASE_FOR_ASSESSMENT_DESCRIPTION.key,c.DATABASE_FOR_ASSESSMENT_DESCRIPTION.value),CSSStyles:Object.assign({},s.BODY_CSS)}).component();this._dbCount=this._view.modelBuilder.text().withProps({value:c.DATABASES_SELECTED(this.selectedDbs().length,this._databaseTableValues.length),CSSStyles:Object.assign(Object.assign({},s.BODY_CSS),{"margin-top":"8px"})}).component();const n="no-borders";this._databaseSelectorTable=this._view.modelBuilder.table().withProps({data:[],width:650,height:"100%",forceFitColumns:r.ColumnSizingMode.ForceFit,columns:[{value:"",width:10,type:r.ColumnType.checkBox,action:r.ActionOnCellCheckboxCheck.selectRow,resizable:!1,cssClass:n,headerCssClass:n},{value:"databaseicon",name:"",width:10,type:r.ColumnType.icon,headerCssClass:n,cssClass:n,resizable:!1},{name:(0,d.localize)(c.DATABASE.key,c.DATABASE.value),value:"database",type:r.ColumnType.text,width:350,cssClass:n,headerCssClass:n},{name:(0,d.localize)(c.SIZE.key,c.SIZE.value),value:"size",type:r.ColumnType.text,width:80,cssClass:n,headerCssClass:n}]}).component(),this._disposables.push(this._databaseSelectorTable.onRowSelected((e=>i(this,void 0,void 0,(function*(){yield this.updateValuesOnSelection()}))))),yield this._filterTableList("",this.assessmentStateModel._databasesForAssessment);const o=e.modelBuilder.flexContainer().withLayout({flexFlow:"column",height:"100%"}).withProps({CSSStyles:{margin:"0px 28px 0px 28px"}}).component();return o.addItem(t,{flex:"0 0 auto"}),o.addItem(this.createSearchComponent(),{flex:"0 0 auto"}),o.addItem(this._dbCount,{flex:"0 0 auto"}),o.addItem(this._databaseSelectorTable),o}))}_loadDatabaseList(e,n){return i(this,void 0,void 0,(function*(){const i=(yield(0,u.getDatabasesList)(yield e.getSourceConnectionProfile())).filter((e=>!u.excludeDatabases.includes(e.options.name)))||[];i.sort(((e,t)=>e.options.name.localeCompare(t.options.name))),this._dbNames=[],this._databaseTableValues=i.map((e=>{const i=e.options.name;return this._dbNames.push(i),t.userSelectedDbsWithSizeMap.set(i,e.options.sizeInGB),[(null==n?void 0:n.indexOf(i))>-1,{icon:a.IconPathHelper.onPremPostgresIcon,title:i},i,e.options.sizeInGB]}))||[]}))}selectedDbs(){var e,t;const n=(null===(e=this._databaseSelectorTable)||void 0===e?void 0:e.data)||[];return((null===(t=this._databaseSelectorTable)||void 0===t?void 0:t.selectedRows)||[]).filter((e=>e<n.length)).map((e=>n[e][2]))||[]}updateValuesOnSelection(){var e;return i(this,void 0,void 0,(function*(){const t=this.selectedDbs()||[];yield this._dbCount.updateProperties({value:c.DATABASES_SELECTED(t.length,(null===(e=this._databaseSelectorTable.data)||void 0===e?void 0:e.length)||0)}),this.assessmentStateModel._databasesForAssessment=t}))}isVersionAbove15(e){const t=e.split(" ")[0];return Number(t.substring(0,t.lastIndexOf(".")))>=16}isLinuxOS(e){return!!(e&&e.toLowerCase().indexOf("linux")>0)}isMacOS(e){return!!(e&&e.toLowerCase().indexOf("apple")>0)}}t.DatabaseSelectorPage=m},2568:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ViewAssessmentResultsPage=t.negativeJustifications=t.positiveJustifications=t.dbSourceProperties=t.totalCycle=t.dataCollectionStatus=t.minutes=t.cycleCount=t.confidenceRatingStarsCount=t.recommendationReasonTexts=t.assessmentId=t.getskuRecommendationValue=t.getskuRecommendationType=t.dbReadyCount=t.dbNotReadyCount=t.serverOverallSeverityClass=t.serverOverallSeverity=t.serverBlockerCount=t.serverWarningCount=t.serverInfoCount=t.databaseReadinessMap=t.targetServerVersion=t.sourceServerVersion=void 0;const r=n(9690),o=n(4665),s=n(7287),a=n(9444),l=n(2048),c=n(4862),u=n(8874),d=n(112),p=n(9658),h=n(6901),m=n(1326),f=n(6093),g=n(7147),v=n(8657),_=n(2571),y=n(6819),S=n(5482),E=n(7495),T=n(6113),C=n(2277),b=n(6210),I=n(9132),R=n(9132),A=n(4528),O={border:"none","text-align":"left","white-space":"nowrap","text-overflow":"ellipsis",overflow:"hidden"},w={border:"none","text-align":"right","white-space":"nowrap","text-overflow":"ellipsis",overflow:"hidden"},x={border:"none","text-align":"left","white-space":"nowrap","text-overflow":"ellipsis",overflow:"hidden","border-bottom":"1px solid #C4C4C4"},P={border:"none","text-align":"right","white-space":"nowrap","text-overflow":"ellipsis",overflow:"hidden","border-bottom":"1px solid #C4C4C4"},N={opacity:".5","text-decoration":"none",cursor:"not-allowed","pointer-events":"none"};t.databaseReadinessMap=new Map,t.dbNotReadyCount=0,t.dbReadyCount=0,t.getskuRecommendationType="",t.getskuRecommendationValue="",t.recommendationReasonTexts=[],t.confidenceRatingStarsCount=0,t.cycleCount=0,t.minutes=0,t.totalCycle=0;let D=0,M=0,k=0;class L extends s.AssessmentWizardPage{constructor(e,t,n,i){super(e,r.window.createWizardPage((0,u.localize)(a.VIEW_ASSESSMENT_RESULTS.key,a.VIEW_ASSESSMENT_RESULTS.value)),t),this.connectionProfile=i,this._disposables=[],this._databaseExtensionCompatibilityMap=new Map,this._databaseCollationsCompatibilityMap=new Map,this._notAvailable="NA",this.currentDbName="",this._isExtensionOpen=!1,this._isCollationOpen=!1,this._isfeatureOpen=!1,this._isServerSettingsOpen=!1,this._cycleCount=0,this._totalCycleCount=6,this._maxVCores=64,this._maxMemoryInGb=432,this._maxStorageInGb=16384,this._maxIOPs=18e3,this._firstStarLowerlimit=1,this._secondStarLowerlimit=30,this._thirdStarLowerlimit=59,this._fourthStarLowerlimit=88,this._fifthStarLowerlimit=117,this._assessmentName=n,this._config=new A.Config}registerContent(e){return i(this,void 0,void 0,(function*(){this._view=e,this._assessmentInProgressComponent=this._view.modelBuilder.flexContainer().withLayout({height:"100%",flexFlow:"column"}).withProps({CSSStyles:{"margin-left":"30px"}}).component(),this._assessmentInProgressComponent.addItem(this.createAssessmentProgress(),{flex:"0 0 auto"}),this._assessmentInProgressComponent.addItem(yield this.createAssessmentInfo(),{flex:"0 0 auto"}),this._rootContainer=this._view.modelBuilder.flexContainer().withLayout({height:"100%",flexFlow:"column"}).withProps({ariaLive:"polite",CSSStyles:{margin:"0 28px 0 14px",overflow:"hidden"}}).component(),this._rootContainer.addItem(this._assessmentInProgressComponent,{flex:"0 0 auto"}),this._headercontainer=this._view.modelBuilder.flexContainer().withLayout({flexFlow:"row",width:"100%",height:"15%"}).withProps({CSSStyles:{"margin-top":"1px"}}).component(),this._targetPlatformComponent=this._createTargetPlatformTextContainer(this._view),this._recommendedConfigurationComponent=this._createRecommendedConfigurationTextContainer(this._view),this._dataCollectionStatusComponent=this._createdataCollectionStatusTextContainer(this._view),this._headercontainer.addItem(this._targetPlatformComponent,{flex:"0 0 auto"});const t=this._view.modelBuilder.button().withProps({label:(0,u.localize)(a.SAVE_ASSESSMENT_REPORT.key,a.SAVE_ASSESSMENT_REPORT.value),ariaLabel:(0,u.localize)(a.SAVE_ASSESSMENT_REPORT.key,a.SAVE_ASSESSMENT_REPORT.value),CSSStyles:{"font-style":"normal","font-weight":"600","font-size":"13px","line-height":"18px",display:"flex","align-items":"center",order:"1",color:"#242424","margin-top":"0","margin-left":"8px",width:"140px"}}).component();this._rootContainer.addItem(this._headercontainer,{flex:"0 0 auto",CSSStyles:{height:"100px"}}),this._footercontainer=this._view.modelBuilder.flexContainer().withLayout({flexFlow:"row",width:"100%",height:"calc(100% - 15px)"}).withProps({ariaLive:"polite",CSSStyles:{margin:"15px 0 0 0","border-top":"1px solid #cecece"}}).component(),this._selectDbMessage=this.createSelectDbMessage(),this._resultComponent=yield this.createComponentResult(this._view),this._treeComponent=yield this.createComponent(this._view,["postgres"]),this._footercontainer.addItem(this._treeComponent,{flex:"0 0 auto",CSSStyles:{width:"280px",height:"100%"}}),this._footercontainer.addItem(this._resultComponent,{flex:"0 0 auto"}),this._rootContainer.addItem(this._footercontainer,{flex:"0 0 auto",CSSStyles:{height:"calc(100% - 100px)"}}),t.onDidClick((()=>i(this,void 0,void 0,(function*(){yield this.saveReport()})))),this._view.initializeModel(this._rootContainer),this._disposables.push(this._view.onClosed((e=>{this._disposables.forEach((e=>{try{e.dispose()}catch(e){throw new Error("Temp Error")}}))})))}))}createAssessmentInfo(){return i(this,void 0,void 0,(function*(){return this._assessmentInfo=this._view.modelBuilder.text().withProps({value:a.ASSESSMENT_IN_PROGRESS_CONTENT(v.hostname),CSSStyles:Object.assign(Object.assign({},l.BODY_CSS),{width:"660px"})}).component(),this._assessmentInfo}))}createAssessmentProgress(){return this._assessmentLoader=this._view.modelBuilder.loadingComponent().component(),this._assessmentProgress=this._view.modelBuilder.text().withProps({value:(0,u.localize)(a.ASSESSMENT_IN_PROGRESS.key,a.ASSESSMENT_IN_PROGRESS.value),ariaLabel:(0,u.localize)(a.ASSESSMENT_IN_PROGRESS.key,a.ASSESSMENT_IN_PROGRESS.value),CSSStyles:Object.assign(Object.assign({},l.PAGE_TITLE_CSS),{"margin-right":"20px"})}).component(),this._progressContainer=this._view.modelBuilder.flexContainer().withLayout({height:"100%",flexFlow:"row",alignItems:"center"}).component(),this._progressContainer.addItem(this._assessmentProgress,{flex:"0 0 auto"}),this._progressContainer.addItem(this._assessmentLoader,{flex:"0 0 auto"}),this._progressContainer}createSelectDbMessage(){const e=this._view.modelBuilder.text().withProps({value:a.SELECT_DB_PROMPT,CSSStyles:Object.assign(Object.assign({},l.BODY_CSS),{width:"400px",margin:"10px 0px 0px 0px","text-align":"left"})}).component();return this._dbMessageContainer=this._view.modelBuilder.flexContainer().withItems([e]).withProps({CSSStyles:{"margin-top":"5px","margin-left":"15px"}}).component(),this._dbMessageContainer}createSelectIssueMessage(){const e=this._view.modelBuilder.text().withProps({value:a.SELECT_ISSUES_PROMPT,CSSStyles:Object.assign(Object.assign({},l.BODY_CSS),{width:"550px",margin:"10px 0px 0px 0px","text-align":"left"})}).component();return this._IssueSelectionContainer=this._view.modelBuilder.flexContainer().withItems([e]).withProps({CSSStyles:{"margin-top":"0","margin-left":"15px"}}).component(),this._IssueSelectionContainer}createComponentResult(e){return i(this,void 0,void 0,(function*(){this._view=e;const t=this.createTopContainer();this._bottomContainer=this.createBottomContainer();const n=this._view.modelBuilder.flexContainer().withLayout({flexFlow:"column",height:"calc(100% - 23px)"}).withProps({CSSStyles:{margin:"15px 0px 0px 18px","overflow-y":"hidden",display:"none"}}).component();return n.addItem(t,{flex:"0 0 auto",CSSStyles:{height:"23px"}}),n.addItem(this._bottomContainer,{flex:"0 0 auto",CSSStyles:{height:"calc(100% - 20px)"}}),n}))}createTopContainer(){const e=this.createAssessmentResultsTitle(),t=this.createAssessmentDetailsTitle(),n=this._view.modelBuilder.flexContainer().withItems([]).withProps({CSSStyles:{"border-bottom":"solid 1px #C4C4C4"}}).component();return n.addItem(e,{flex:"0 0 auto"}),n.addItem(t,{flex:"0 0 auto"}),this._view.modelBuilder.flexContainer().withItems([n]).withLayout({flexFlow:"column"}).component()}createAssessmentResultsTitle(){return this._recommendationTitle=this._view.modelBuilder.text().withProps({value:(0,u.localize)(a.FINDINGS.key,a.FINDINGS.value),ariaLabel:(0,u.localize)(a.FINDINGS.key,a.FINDINGS.value),CSSStyles:Object.assign(Object.assign({},l.LABEL_CSS),{margin:"0 8px 4px 0",width:"201px"})}).component(),this._recommendationTitle}createAssessmentDetailsTitle(){return this._recommendation=this._view.modelBuilder.text().withProps({value:(0,u.localize)(a.ISSUES_DETAILS.key,a.ISSUES_DETAILS.value),ariaLabel:(0,u.localize)(a.ISSUES_DETAILS.key,a.ISSUES_DETAILS.value),CSSStyles:Object.assign(Object.assign({},l.LABEL_CSS),{padding:"0 0 0 25px",width:"200px","border-left":"1px solid #CECECE",height:"101%"})}).component(),this._recommendation}createBottomContainer(){this._featureCompatibilityTable=this.createFeatureCompatibilityTable(),this._settingCompatibilityTable=this.createSettingCompatibilityTable(),this._dbExtensionsCompatibilityTable=this.createExtensionsCompatibilityTable(),this._dbCollationsCompatibilityTable=this.createCollationsCompatibilityTable(),this._featureCompatibilityContainer=this.createAssessmentContainer(),this._serverSettingsContainer=this.createServerSettingContainer(),this._dbExtensionContainer=this.createExtensionContainer(),this._dbCollationContainer=this.createCollationContainer(),this._serverSummaryContainer=this.createServerSummaryComponent(),this._dbSummaryContainer=this.createDatabaseSummaryComponent(),this._selectIssueMessage=this.createSelectIssueMessage();const e=this._view.modelBuilder.flexContainer().withLayout({flexFlow:"row",height:"100%"}).withProps({CSSStyles:{height:"100%"}}).component();return this._serverWarningsListContainer=this._view.modelBuilder.flexContainer().withLayout({flexFlow:"column",width:"209px",height:"100%"}).withProps({CSSStyles:{"border-right":"1px solid #CECECE","overflow-y":"scroll"}}).component(),this._serverSummaryHeadingButton=this._view.modelBuilder.button().withProps({label:(0,u.localize)(a.SUMMARY.key,a.SUMMARY.value),ariaLabel:(0,u.localize)(a.SUMMARY.key,a.SUMMARY.value),buttonType:r.ButtonType.Normal,height:24,width:90,iconHeight:8,iconWidth:8,iconPath:c.IconPathHelper.noIcon,CSSStyles:Object.assign(Object.assign({},l.LABEL_CSS),{"text-align":"left",margin:"5px 0 0 15px"})}).component(),this._dbSummaryHeadingButton=this._view.modelBuilder.button().withProps({label:(0,u.localize)(a.SUMMARY.key,a.SUMMARY.value),ariaLabel:(0,u.localize)(a.SUMMARY.key,a.SUMMARY.value),buttonType:r.ButtonType.Normal,height:24,width:90,iconHeight:8,iconWidth:8,iconPath:c.IconPathHelper.noIcon,CSSStyles:Object.assign(Object.assign({},l.LABEL_CSS),{"text-align":"left",margin:"5px 0 0 15px"})}).component(),this._serverSummaryHeadingButton.onDidClick((()=>i(this,void 0,void 0,(function*(){(0,p.sendPostgresAssessmentActionEvent)(p.TelemetryViews.ViewAssessmentResultPage,p.TelemetryAction.AssessmentInstanceSummary,{assessmentId:t.assessmentId,instanceId:(0,T.createHash)("sha256").update(this.connectionProfile.serverName).digest("hex")},{}),this.resetFeaturesButton(),this.resetServerSettingButton(),this.serverSummaryHeadingButtonAction()})))),this._dbSummaryHeadingButton.onDidClick((()=>i(this,void 0,void 0,(function*(){(0,p.sendPostgresAssessmentActionEvent)(p.TelemetryViews.ViewAssessmentResultPage,p.TelemetryAction.AssessmentDatabaseSummary,{assessmentId:t.assessmentId,instanceId:(0,T.createHash)("sha256").update(this.connectionProfile.serverName).digest("hex")},{}),this.resetCollationButton(),this.resetExtensionButton(),this.dbSummaryHeadingButtonAction()})))),this._serverWarningsListContainer.addItem(this._serverSummaryHeadingButton,{flex:"0 0 auto",order:0,CSSStyles:{border:"0",color:"#cecece"}}),this._featureHeadingButton=this._view.modelBuilder.button().withProps({label:a.FEATURES_HEADING_WITH_COUNT(0),ariaLabel:a.FEATURES_HEADING_WITH_COUNT(0),buttonType:r.ButtonType.Normal,height:24,iconHeight:8,iconWidth:8,iconPath:c.IconPathHelper.expandButtonClosed,CSSStyles:Object.assign(Object.assign({},l.LABEL_CSS),{"text-align":"left",margin:"5px 0 0 5px"})}).component(),this._serverSettingsHeadingButton=this._view.modelBuilder.button().withProps({label:a.SERVER_SETTINGS_HEADING_WITH_COUNT(0),ariaLabel:a.SERVER_SETTINGS_HEADING_WITH_COUNT(0),buttonType:r.ButtonType.Normal,height:24,iconHeight:8,iconWidth:8,iconPath:c.IconPathHelper.expandButtonClosed,CSSStyles:Object.assign(Object.assign({},l.LABEL_CSS),{"text-align":"left",margin:"4px 0 5px 5px"})}).component(),this._serverWarningsListContainer.addItem(this._featureHeadingButton,{flex:"0 0 auto",order:1,CSSStyles:{border:"0",color:"#cecece",width:"125px","margin-bottom":"5px"}}),this._featureHeadingButton.onDidClick((()=>i(this,void 0,void 0,(function*(){this._featureCompatibilityIssues.length>0&&(this._isfeatureOpen?this.resetFeaturesButton():(this._featureHeadingButton.iconPath=c.IconPathHelper.expandButtonOpen,this._featureHeadingButton.ariaLabel=(0,u.localize)(a.EXPANDED.key,a.EXPANDED.value),this._isfeatureOpen=!0,this._bottomContainer.removeItem(this._serverSummaryContainer),this._serverWarningsListContainer.addItem(this._featureCompatibilityTable,{flex:"0 0 auto",order:2,CSSStyles:{"margin-left":"22px"}}),this._assessmentFeatureResultsList.selectedOptionId="0"))})))),this._serverWarningsListContainer.addItem(this._serverSettingsHeadingButton,{flex:"0 0 auto",order:3,CSSStyles:{border:"0",color:"#cecece",width:"170px"}}),this._serverSettingsHeadingButton.onDidClick((()=>i(this,void 0,void 0,(function*(){this._serverSettingsCompatibility.length>0&&(this._isServerSettingsOpen?this.resetServerSettingButton():(this._serverSettingsHeadingButton.iconPath=c.IconPathHelper.expandButtonOpen,this._serverSettingsHeadingButton.ariaLabel=(0,u.localize)(a.EXPANDED.key,a.EXPANDED.value),this._isServerSettingsOpen=!0,this._bottomContainer.removeItem(this._serverSummaryContainer),this._serverWarningsListContainer.addItem(this._settingCompatibilityTable,{flex:"0 0 auto",order:4,CSSStyles:{"margin-left":"22px"}}),this._assessmentServerSettingsList.selectedOptionId="0"))})))),this._dbWarningsListContainer=this._view.modelBuilder.flexContainer().withLayout({flexFlow:"column",width:"209px",height:"100%"}).withProps({CSSStyles:{"border-right":"1px solid #CECECE","overflow-y":"scroll"}}).component(),this._extensionHeadingButton=this._view.modelBuilder.button().withProps({label:a.EXTENSIONS_HEADING_WITH_COUNT(0),ariaLabel:a.EXTENSIONS_HEADING_WITH_COUNT(0),buttonType:r.ButtonType.Normal,height:24,iconHeight:8,iconWidth:8,iconPath:c.IconPathHelper.expandButtonClosed,CSSStyles:Object.assign(Object.assign({},l.LABEL_CSS),{margin:"5px 0 0 5px"})}).component(),this._collationHeadingButton=this._view.modelBuilder.button().withProps({label:a.COLLATIONS_HEADING_WITH_COUNT(0),ariaLabel:a.COLLATIONS_HEADING_WITH_COUNT(0),buttonType:r.ButtonType.Normal,height:24,iconHeight:8,iconWidth:8,iconPath:c.IconPathHelper.expandButtonClosed,CSSStyles:Object.assign(Object.assign({},l.LABEL_CSS),{"text-align":"left",margin:"4px 0 5px 5px"})}).component(),this._dbWarningsListContainer.addItem(this._dbSummaryHeadingButton,{flex:"0 0 auto",order:0,CSSStyles:{border:"0",color:"#cecece"}}),this._dbWarningsListContainer.addItem(this._extensionHeadingButton,{flex:"0 0 auto",order:1,CSSStyles:{border:"0",color:"#cecece",width:"140px","margin-bottom":"5px"}}),this._extensionHeadingButton.onDidClick((()=>i(this,void 0,void 0,(function*(){this._extensionCompatibilityIssues.length>0&&(this._isExtensionOpen?this.resetExtensionButton():(this._extensionHeadingButton.iconPath=c.IconPathHelper.expandButtonOpen,this._extensionHeadingButton.ariaLabel=(0,u.localize)(a.EXPANDED.key,a.EXPANDED.value),this._isExtensionOpen=!0,this._bottomContainer.removeItem(this._dbSummaryContainer),this._dbWarningsListContainer.addItem(this._dbExtensionsCompatibilityTable,{flex:"0 0 auto",order:2,CSSStyles:{"margin-left":"22px"}}),this._assessmentExtensionResultsList.selectedOptionId="0"))})))),this._collationHeadingButton.onDidClick((()=>i(this,void 0,void 0,(function*(){this._collationCompatibilityIssues.length>0&&(this._isCollationOpen?this.resetCollationButton():(this._collationHeadingButton.iconPath=c.IconPathHelper.expandButtonOpen,this._collationHeadingButton.ariaLabel=(0,u.localize)(a.EXPANDED.key,a.EXPANDED.value),this._isCollationOpen=!0,this._bottomContainer.removeItem(this._dbSummaryContainer),this._dbWarningsListContainer.addItem(this._dbCollationsCompatibilityTable,{flex:"0 0 auto",order:4,CSSStyles:{"max-height":"150px","overflow-y":"auto",display:"block","margin-left":"22px"}}),this._assessmentCollationResultsList.selectedOptionId="0"))})))),this._dbWarningsListContainer.addItem(this._collationHeadingButton,{flex:"0 0 auto",order:3,CSSStyles:{border:"0",color:"#cecece",width:"135px"}}),e.addItem(this._serverWarningsListContainer,{flex:"0 0 auto",CSSStyles:{"overflow-y":"scroll"}}),e.addItem(this._dbWarningsListContainer,{flex:"0 0 auto",CSSStyles:{"overflow-y":"scroll"}}),e.addItem(this._featureCompatibilityContainer,{flex:"0 0 auto",CSSStyles:{"overflow-y":"auto",height:"100%"}}),e.addItem(this._serverSettingsContainer,{flex:"0 0 auto",CSSStyles:{"overflow-y":"auto",height:"100%"}}),e.addItem(this._dbExtensionContainer,{flex:"0 0 auto",CSSStyles:{"overflow-y":"auto",height:"100%"}}),e.addItem(this._dbCollationContainer,{flex:"0 0 auto",CSSStyles:{"overflow-y":"auto",height:"100%"}}),e.addItem(this._serverSummaryContainer,{flex:"0 0 auto",CSSStyles:{"overflow-y":"auto",height:"100%"}}),e.addItem(this._dbSummaryContainer,{flex:"0 0 auto",CSSStyles:{"overflow-y":"auto",height:"100%"}}),e}serverSummaryHeadingButtonAction(){this._bottomContainer.addItem(this._serverSummaryContainer,{flex:"0 0 auto",CSSStyles:{height:"100%"}}),this.refreshServerSummaryDetails()}dbSummaryHeadingButtonAction(){this._bottomContainer.addItem(this._dbSummaryContainer,{flex:"0 0 auto",CSSStyles:{height:"100%"}}),this._dbSummaryHeadingButton.focus(),this.refreshDatabaseSummaryDetails()}createFeatureCompatibilityTable(){return this._assessmentFeatureResultsList=this._view.modelBuilder.listView().withProps({width:"165px",options:[]}).component(),this._disposables.push(this._assessmentFeatureResultsList.onDidClick((e=>i(this,void 0,void 0,(function*(){const e=this._featureCompatibilityIssues[parseInt(this._assessmentFeatureResultsList.selectedOptionId)];yield this.refreshAssessmentDetails(e),yield this.refreshResults("feature"),(0,p.sendPostgresAssessmentActionEvent)(p.TelemetryViews.ViewAssessmentResultPage,p.TelemetryAction.AssessmentFeatureResult,{assessmentId:t.assessmentId,instanceId:(0,T.createHash)("sha256").update(this.connectionProfile.serverName).digest("hex")},{})}))))),this._view.modelBuilder.flexContainer().withItems([this._assessmentFeatureResultsList]).withLayout({flexFlow:"column",height:"100%"}).withProps({CSSStyles:{}}).component()}createSettingCompatibilityTable(){return this._assessmentServerSettingsList=this._view.modelBuilder.listView().withProps({width:"165px",options:[]}).component(),this._disposables.push(this._assessmentServerSettingsList.onDidClick((e=>i(this,void 0,void 0,(function*(){const e=this._serverSettingsCompatibility[parseInt(this._assessmentServerSettingsList.selectedOptionId)];yield this.refreshServerSettingsDetails(e),yield this.refreshResults("serverSettings"),(0,p.sendPostgresAssessmentActionEvent)(p.TelemetryViews.ViewAssessmentResultPage,p.TelemetryAction.AssessmentServerSettingsResult,{assessmentId:t.assessmentId,instanceId:(0,T.createHash)("sha256").update(this.connectionProfile.serverName).digest("hex")},{})}))))),this._view.modelBuilder.flexContainer().withItems([this._assessmentServerSettingsList]).withLayout({flexFlow:"column",height:"100%"}).withProps({CSSStyles:{}}).component()}createExtensionsCompatibilityTable(){return this._assessmentExtensionResultsList=this._view.modelBuilder.listView().withProps({width:"165px",options:[]}).component(),this._disposables.push(this._assessmentExtensionResultsList.onDidClick((e=>i(this,void 0,void 0,(function*(){const e=this._databaseExtensionCompatibilityMap.get(this.currentDbName)[parseInt(this._assessmentExtensionResultsList.selectedOptionId)];yield this.refreshExtensionDetails(e),yield this.refreshResults("extension"),(0,p.sendPostgresAssessmentActionEvent)(p.TelemetryViews.ViewAssessmentResultPage,p.TelemetryAction.AssessmentExtensionResult,{assessmentId:t.assessmentId,instanceId:(0,T.createHash)("sha256").update(this.connectionProfile.serverName).digest("hex")},{})}))))),this._view.modelBuilder.flexContainer().withItems([this._assessmentExtensionResultsList]).withLayout({flexFlow:"column",height:"100%"}).withProps({CSSStyles:{}}).component()}createCollationsCompatibilityTable(){return this._assessmentCollationResultsList=this._view.modelBuilder.listView().withProps({width:"165px",options:[]}).component(),this._disposables.push(this._assessmentCollationResultsList.onDidClick((e=>i(this,void 0,void 0,(function*(){const e=this._databaseCollationsCompatibilityMap.get(this.currentDbName)[parseInt(this._assessmentCollationResultsList.selectedOptionId)];yield this.refreshCollationDetails(e),yield this.refreshResults("collation"),(0,p.sendPostgresAssessmentActionEvent)(p.TelemetryViews.ViewAssessmentResultPage,p.TelemetryAction.AssessmentCollationResult,{assessmentId:t.assessmentId,instanceId:(0,T.createHash)("sha256").update(this.connectionProfile.serverName).digest("hex")},{})}))))),this._view.modelBuilder.flexContainer().withItems([this._assessmentCollationResultsList]).withLayout({flexFlow:"column"}).withProps({CSSStyles:{}}).component()}createServerSummaryComponent(){const e=this._view.modelBuilder.flexContainer().withProps({CSSStyles:{display:"flex","flex-direction":"column"}}).component(),t=this.createServerSummaryContainer();return e.addItem(t),e}createServerSummaryContainer(){const e=this._view.modelBuilder.text().withProps({value:(0,u.localize)(a.ASSESSMENT_SUMMARY.key,a.ASSESSMENT_SUMMARY.value),ariaLabel:(0,u.localize)(a.ASSESSMENT_SUMMARY.key,a.ASSESSMENT_SUMMARY.value),CSSStyles:Object.assign(Object.assign({},l.BODY_CSS),{"margin-top":"12px",height:"10px",width:"540px","font-size":"18px","font-weight":"600"})}).component();this._serverSummaryDescription=this._view.modelBuilder.text().withProps({value:"",CSSStyles:Object.assign(Object.assign({},l.BODY_CSS),{"margin-top":"12px",height:"25px",width:"540px","border-bottom":"solid 1px #C4C4C4"})}).component();const t=this._view.modelBuilder.text().withProps({value:(0,u.localize)(a.MIGRATION_READINESS_HEADING.key,a.MIGRATION_READINESS_HEADING.value),ariaLabel:(0,u.localize)(a.MIGRATION_READINESS_HEADING.key,a.MIGRATION_READINESS_HEADING.value),CSSStyles:Object.assign(Object.assign({},l.BODY_CSS),{"font-size":"15px","font-weight":"600"})}).component(),n=this._view.modelBuilder.flexContainer().withLayout({flexFlow:"row",height:"100%"}).withProps({CSSStyles:{height:"100%"}}).component();this._assessedDatabaseText=this._view.modelBuilder.text().withProps({value:a.ASSESSED_DATABASES(),CSSStyles:Object.assign(Object.assign({},l.BODY_CSS),{"margin-top":"5px","font-weight":"600"})}).component(),this._assessedDatabaseValue=this._view.modelBuilder.text().withProps({value:"",CSSStyles:Object.assign(Object.assign({},l.BODY_CSS),{"margin-top":"5px","font-weight":"600","margin-left":"5px"})}).component(),n.addItem(this._assessedDatabaseText,{flex:"0 0 auto"}),n.addItem(this._assessedDatabaseValue,{flex:"1 1 auto"});const i=this.createReadyComponent(),r=this.createReadyWithConditionComponent(),o=this.createNotReadyComponent(),s=this._view.modelBuilder.text().withProps({value:(0,u.localize)(a.SERVER_ISSUES_SUMMARY_TEXT.key,a.SERVER_ISSUES_SUMMARY_TEXT.value),ariaLabel:(0,u.localize)(a.SERVER_ISSUES_SUMMARY_TEXT.key,a.SERVER_ISSUES_SUMMARY_TEXT.value),CSSStyles:Object.assign(Object.assign({},l.BODY_CSS),{"font-size":"15px","font-weight":"600",margin:"16px 0 10px 0"})}).component(),c=this._view.modelBuilder.flexContainer().withLayout({flexFlow:"row",height:"100%"}).withProps({CSSStyles:{height:"100%"}}).component(),d=this._view.modelBuilder.text().withProps({value:a.TOTAL_ISSUES_FOUND(),CSSStyles:Object.assign(Object.assign({},l.BODY_CSS),{"margin-top":"0"})}).component();this._totalIssuesFoundValue=this._view.modelBuilder.text().withProps({value:"",CSSStyles:Object.assign(Object.assign({},l.BODY_CSS),{"margin-top":"0","font-weight":"600","margin-left":"5px"})}).component(),c.addItem(d,{flex:"0 0 auto"}),c.addItem(this._totalIssuesFoundValue,{flex:"1 1 auto"});const p=this._view.modelBuilder.text().withProps({value:(0,u.localize)(a.ISSUE_BY_SEVERITY.key,a.ISSUE_BY_SEVERITY.value),ariaLabel:(0,u.localize)(a.ISSUE_BY_SEVERITY.key,a.ISSUE_BY_SEVERITY.value),CSSStyles:Object.assign(Object.assign({},l.BODY_CSS),{"font-weight":"600"})}).component(),h=this.createIssueBySeverityBlockerComponent(),m=this.createIssueBySeverityWarningComponent(),f=this.createIssueBySeverityInfoComponent(),g=this._view.modelBuilder.text().withProps({value:(0,u.localize)(a.ISSUE_BY_TYPE.key,a.ISSUE_BY_TYPE.value),ariaLabel:(0,u.localize)(a.ISSUE_BY_TYPE.key,a.ISSUE_BY_TYPE.value),CSSStyles:Object.assign(Object.assign({},l.BODY_CSS),{"font-weight":"600"})}).component(),v=this._view.modelBuilder.flexContainer().withLayout({flexFlow:"row",height:"100%"}).withProps({CSSStyles:{height:"100%"}}).component(),_=this._view.modelBuilder.text().withProps({value:a.FEATURE_ISSUES_TEXT(),CSSStyles:Object.assign(Object.assign({},l.BODY_CSS),{"margin-left":"24px"})}).component();this._issueByTypeFeaturesIssues=this._view.modelBuilder.text().withProps({value:"",CSSStyles:Object.assign(Object.assign({},l.LABEL_CSS),{"font-weight":"600",margin:"5px 0 0 5px"})}).component(),v.addItem(_,{flex:"0 0 auto"}),v.addItem(this._issueByTypeFeaturesIssues,{flex:"1 1 auto"});const y=this._view.modelBuilder.flexContainer().withLayout({flexFlow:"row",height:"100%"}).withProps({CSSStyles:{height:"100%"}}).component(),S=this._view.modelBuilder.text().withProps({value:a.SERVER_PARAMTER_ISSUES_TEXT(),CSSStyles:Object.assign(Object.assign({},l.BODY_CSS),{"margin-left":"24px"})}).component();return this._issueByTypeServerSettingIssues=this._view.modelBuilder.text().withProps({value:"",CSSStyles:Object.assign(Object.assign({},l.LABEL_CSS),{"font-weight":"600",margin:"5px 0 0 5px"})}).component(),y.addItem(S,{flex:"0 0 auto"}),y.addItem(this._issueByTypeServerSettingIssues,{flex:"1 1 auto"}),this._view.modelBuilder.flexContainer().withItems([e,this._serverSummaryDescription,t,n,o,r,i,s,c,p,h,m,f,g,v,y]).withLayout({flexFlow:"column",height:"100%"}).withProps({CSSStyles:{"margin-left":"24px",height:"100%"}}).component()}createReadyComponent(){const e=this._view.modelBuilder.flexContainer().withLayout({flexFlow:"row",height:"100%"}).withProps({CSSStyles:{"margin-left":"24px",height:"100%","line-height":"30px"}}).component(),n=this._view.modelBuilder.text().withProps({value:a.READY_TEXT(),width:59,CSSStyles:Object.assign(Object.assign({},l.BODY_CSS),{margin:"5px 0 4px"})}).component();this._readySummaryCount=this._view.modelBuilder.hyperlink().withProps({label:"",url:"",CSSStyles:Object.assign(Object.assign({},l.BODY_CSS),{"margin-top":"2px","font-weight":"600"})}).component();const r=new b.databaseDialog;return this._disposables.push(this._readySummaryCount.onDidClick((()=>i(this,void 0,void 0,(function*(){yield r.openDialog(a.READY_FOR_MIGRATION(t.dbReadyCount)),(0,p.sendPostgresAssessmentActionEvent)(p.TelemetryViews.ViewAssessmentResultPage,p.TelemetryAction.ReadyDatabaseDetails,{assessmentId:t.assessmentId,instanceId:(0,T.createHash)("sha256").update(this.connectionProfile.serverName).digest("hex")},{})}))))),e.addItem(n,{flex:"0 0 auto"}),e.addItem(this._readySummaryCount,{flex:"0 0 auto",CSSStyles:{width:"125px"}}),e.addItem(this.createReadyImage(),{flex:"2 2 auto"}),e}createReadyImage(){return this._readyBarImage=this._view.modelBuilder.image().withProps({iconPath:c.IconPathHelper.migrationReady,iconHeight:300,iconWidth:300,width:1,height:25}).withProps({CSSStyles:{"background-position":"0","margin-top":"3px","border-left":"1px solid #CECECE"}}).component(),this._readyBarImage}createReadyWithConditionComponent(){const e=this._view.modelBuilder.flexContainer().withLayout({flexFlow:"row",height:"100%"}).withProps({CSSStyles:{"margin-left":"24px",height:"100%","line-height":"30px"}}).component(),n=this._view.modelBuilder.text().withProps({value:a.READY_WITH_CONDITION(),width:150,CSSStyles:Object.assign(Object.assign({},l.BODY_CSS),{margin:"5px 0 4px"})}).component();this._readyWithConditionSummaryCount=this._view.modelBuilder.hyperlink().withProps({label:"",url:"",CSSStyles:Object.assign(Object.assign({},l.BODY_CSS),{"margin-top":"2px","font-weight":"600"})}).component();const r=new b.databaseDialog;return this._disposables.push(this._readyWithConditionSummaryCount.onDidClick((()=>i(this,void 0,void 0,(function*(){yield r.openDialog(a.READY_WITH_CONDITIONS_FOR_MIGRATION(t.databaseReadinessMap.size-t.dbReadyCount-t.dbNotReadyCount)),(0,p.sendPostgresAssessmentActionEvent)(p.TelemetryViews.ViewAssessmentResultPage,p.TelemetryAction.ReadyWithConditionDatabaseDetails,{assessmentId:t.assessmentId,instanceId:(0,T.createHash)("sha256").update(this.connectionProfile.serverName).digest("hex")},{})}))))),e.addItem(n,{flex:"0 0 auto"}),e.addItem(this._readyWithConditionSummaryCount,{flex:"0 0 auto",CSSStyles:{width:"34px"}}),e.addItem(this.createReadyWithConditionImage(),{flex:"2 2 auto"}),e}createReadyWithConditionImage(){return this._readyWithConditionsBarImage=this._view.modelBuilder.image().withProps({iconPath:c.IconPathHelper.readyWithCondition,iconHeight:300,iconWidth:300,width:1,height:25}).withProps({CSSStyles:{"background-position":"0","margin-top":"3px","border-left":"1px solid #CECECE"}}).component(),this._readyWithConditionsBarImage}createNotReadyComponent(){const e=this._view.modelBuilder.flexContainer().withLayout({flexFlow:"row",height:"100%"}).withProps({CSSStyles:{"margin-left":"24px",height:"100%","line-height":"30px"}}).component(),n=this._view.modelBuilder.text().withProps({value:a.NOT_READY(),width:84,CSSStyles:Object.assign(Object.assign({},l.BODY_CSS),{margin:"5px 0 4px"})}).component();this._notReadySummaryCount=this._view.modelBuilder.hyperlink().withProps({label:"",url:"",CSSStyles:Object.assign(Object.assign({},l.BODY_CSS),{"margin-top":"2px","font-weight":"600"})}).component();const r=new b.databaseDialog;return this._disposables.push(this._notReadySummaryCount.onDidClick((()=>i(this,void 0,void 0,(function*(){yield r.openDialog(a.NOT_READY_FOR_MIGRATION(t.dbNotReadyCount)),(0,p.sendPostgresAssessmentActionEvent)(p.TelemetryViews.ViewAssessmentResultPage,p.TelemetryAction.NotReadyDatabaseDetails,{assessmentId:t.assessmentId,instanceId:(0,T.createHash)("sha256").update(this.connectionProfile.serverName).digest("hex")},{})}))))),e.addItem(n,{flex:"0 0 auto"}),e.addItem(this._notReadySummaryCount,{flex:"0 0 auto",CSSStyles:{width:"100px"}}),e.addItem(this.createNotReadyImage(),{flex:"2 2 auto"}),e}createNotReadyImage(){return this._notReadyBarImage=this._view.modelBuilder.image().withProps({iconPath:c.IconPathHelper.notReady,iconHeight:300,iconWidth:300,width:1,height:25}).withProps({CSSStyles:{"background-position":"0","margin-top":"3px","border-left":"1px solid #CECECE"}}).component(),this._notReadyBarImage}createIssueBySeverityBlockerComponent(){const e=this._view.modelBuilder.flexContainer().withLayout({flexFlow:"row",height:"100%"}).withProps({CSSStyles:{"margin-left":"24px",height:"100%"}}).component();e.addItem(this.createBlockerImage(),{flex:"0 0 auto"});const t=this._view.modelBuilder.text().withProps({value:a.BLOCKING_ISSUE_TEXT(),CSSStyles:Object.assign(Object.assign({},l.BODY_CSS),{"margin-top":"2px"})}).component();return this._serverSummaryBlockerCount=this._view.modelBuilder.text().withProps({value:"",CSSStyles:Object.assign(Object.assign({},l.LABEL_CSS),{"margin-top":"2px","font-weight":"600","margin-left":"5px"})}).component(),e.addItem(t,{flex:"0 0 auto"}),e.addItem(this._serverSummaryBlockerCount,{flex:"1 1 auto"}),e}createBlockerImage(){return this._view.modelBuilder.image().withProps({iconPath:c.IconPathHelper.blocker,iconHeight:12,iconWidth:12,width:20,height:26}).withProps({CSSStyles:{"background-position":"0"}}).component()}createIssueBySeverityWarningComponent(){const e=this._view.modelBuilder.flexContainer().withLayout({flexFlow:"row",height:"100%"}).withProps({CSSStyles:{"margin-left":"24px",height:"100%"}}).component();e.addItem(this.createWarningImage(),{flex:"0 0 auto"});const t=this._view.modelBuilder.text().withProps({value:a.WARNING_ISSUE_TEXT(),CSSStyles:Object.assign(Object.assign({},l.BODY_CSS),{"margin-top":"2px"})}).component();return this._serverSummaryWarningCount=this._view.modelBuilder.text().withProps({value:"",CSSStyles:Object.assign(Object.assign({},l.BODY_CSS),{"margin-top":"2px","font-weight":"600","margin-left":"5px"})}).component(),e.addItem(t,{flex:"0 0 auto"}),e.addItem(this._serverSummaryWarningCount,{flex:"1 1 auto"}),e}createWarningImage(){return this._view.modelBuilder.image().withProps({iconPath:c.IconPathHelper.warning,iconHeight:12,iconWidth:12,width:20,height:26}).withProps({CSSStyles:{"background-position":"0"}}).component()}createIssueBySeverityInfoComponent(){const e=this._view.modelBuilder.flexContainer().withLayout({flexFlow:"row",height:"100%"}).withProps({CSSStyles:{"margin-left":"24px",height:"100%"}}).component();e.addItem(this.createInfoImage(),{flex:"0 0 auto"});const t=this._view.modelBuilder.text().withProps({value:a.INFO_TEXT(),CSSStyles:Object.assign(Object.assign({},l.BODY_CSS),{"margin-top":"2px"})}).component();return this._serverSummaryInfoCount=this._view.modelBuilder.text().withProps({value:"",CSSStyles:Object.assign(Object.assign({},l.BODY_CSS),{"margin-top":"2px","font-weight":"600","margin-left":"5px"})}).component(),e.addItem(t,{flex:"0 0 auto"}),e.addItem(this._serverSummaryInfoCount,{flex:"1 1 auto"}),e}createInfoImage(){return this._view.modelBuilder.image().withProps({iconPath:c.IconPathHelper.info,iconHeight:12,iconWidth:12,width:20,height:26}).withProps({CSSStyles:{"background-position":"0"}}).component()}createDatabaseSummaryComponent(){const e=this._view.modelBuilder.flexContainer().withProps({CSSStyles:{display:"flex","flex-direction":"column"}}).component(),t=this.createDatabaseSummaryContainer();return e.addItem(t),e}createDatabaseSummaryContainer(){const e=this._view.modelBuilder.text().withProps({value:(0,u.localize)(a.DATABASE_ASSESSMENT_SUMMARY.key,a.DATABASE_ASSESSMENT_SUMMARY.value),ariaLabel:(0,u.localize)(a.DATABASE_ASSESSMENT_SUMMARY.key,a.DATABASE_ASSESSMENT_SUMMARY.value),CSSStyles:Object.assign(Object.assign({},l.LABEL_CSS),{"margin-top":"12px",height:"10px",width:"540px","font-size":"18px","font-weight":"600"})}).component();this._dbSummaryDescription=this._view.modelBuilder.text().withProps({value:"",CSSStyles:Object.assign(Object.assign({},l.BODY_CSS),{"margin-top":"12px",height:"25px",width:"540px","border-bottom":"solid 1px #C4C4C4"})}).component();const t=this._view.modelBuilder.text().withProps({value:(0,u.localize)(a.DATABASE_MIGRATION_READINESS_HEADING.key,a.DATABASE_MIGRATION_READINESS_HEADING.value),ariaLabel:(0,u.localize)(a.DATABASE_MIGRATION_READINESS_HEADING.key,a.DATABASE_MIGRATION_READINESS_HEADING.value),CSSStyles:Object.assign(Object.assign({},l.BODY_CSS),{"font-weight":"600","margin-top":"5px"})}).component(),n=this.createDBReadinessComponent();this._dbReadinessDescription=this._view.modelBuilder.text().withProps({value:"",CSSStyles:Object.assign(Object.assign({},l.BODY_CSS),{"margin-top":"0","margin-left":"55px"})}).component();const i=this._view.modelBuilder.text().withProps({value:(0,u.localize)(a.DB_ISSUES_SUMMARY_TEXT.key,a.DB_ISSUES_SUMMARY_TEXT.value),ariaLabel:(0,u.localize)(a.DB_ISSUES_SUMMARY_TEXT.key,a.DB_ISSUES_SUMMARY_TEXT.value),CSSStyles:Object.assign(Object.assign({},l.BODY_CSS),{"font-size":"15px","font-weight":"600",margin:"15px 0 0 0"})}).component(),r=this._view.modelBuilder.flexContainer().withLayout({flexFlow:"row",height:"100%"}).withProps({CSSStyles:{height:"100%"}}).component(),o=this._view.modelBuilder.text().withProps({value:a.TOTAL_ISSUES_FOUND(),CSSStyles:Object.assign(Object.assign({},l.BODY_CSS),{"font-weight":"400","margin-top":"10px"})}).component();this._dbTotalIssuesFoundValue=this._view.modelBuilder.text().withProps({value:"",CSSStyles:Object.assign(Object.assign({},l.LABEL_CSS),{"margin-top":"10px","margin-left":"5px"})}).component(),r.addItem(o,{flex:"0 0 auto"}),r.addItem(this._dbTotalIssuesFoundValue,{flex:"1 1 auto"});const s=this._view.modelBuilder.flexContainer().withLayout({flexFlow:"row",height:"100%"}).withProps({CSSStyles:{height:"100%"}}).component(),c=this._view.modelBuilder.text().withProps({value:a.DATABASE_SIZE(),CSSStyles:Object.assign(Object.assign({},l.BODY_CSS),{"margin-top":"10px"})}).component();this._dbSummarySize=this._view.modelBuilder.text().withProps({value:"",CSSStyles:Object.assign(Object.assign({},l.LABEL_CSS),{"margin-top":"10px","margin-left":"5px"})}).component(),s.addItem(c,{flex:"0 0 auto"}),s.addItem(this._dbSummarySize,{flex:"1 1 auto"});const d=this._view.modelBuilder.text().withProps({value:(0,u.localize)(a.ISSUE_BY_SEVERITY.key,a.ISSUE_BY_SEVERITY.value),ariaLabel:(0,u.localize)(a.ISSUE_BY_SEVERITY.key,a.ISSUE_BY_SEVERITY.value),CSSStyles:Object.assign(Object.assign({},l.BODY_CSS),{"font-weight":"600","margin-top":"10px"})}).component(),p=this.createDbIssueBySeverityBlockerComponent(),h=this.createDbIssueBySeverityWarningComponent(),m=this._view.modelBuilder.text().withProps({value:(0,u.localize)(a.ISSUE_BY_TYPE.key,a.ISSUE_BY_TYPE.value),ariaLabel:(0,u.localize)(a.ISSUE_BY_TYPE.key,a.ISSUE_BY_TYPE.value),CSSStyles:Object.assign(Object.assign({},l.BODY_CSS),{"font-weight":"600","margin-top":"10px"})}).component(),f=this._view.modelBuilder.flexContainer().withLayout({flexFlow:"row",height:"100%"}).withProps({CSSStyles:{"margin-left":"24px",height:"100%"}}).component(),g=this._view.modelBuilder.text().withProps({value:a.EXTENSION_ISSUES_WITH_COUNT(),CSSStyles:Object.assign(Object.assign({},l.BODY_CSS),{"margin-top":"0"})}).component();this._issueByTypeExtensionIssues=this._view.modelBuilder.text().withProps({value:"",CSSStyles:Object.assign(Object.assign({},l.LABEL_CSS),{"font-weight":"600",margin:"0 0 0 5px"})}).component(),f.addItem(g,{flex:"0 0 auto"}),f.addItem(this._issueByTypeExtensionIssues,{flex:"1 1 auto"});const v=this._view.modelBuilder.flexContainer().withLayout({flexFlow:"row",height:"100%"}).withProps({CSSStyles:{"margin-left":"24px",height:"100%"}}).component(),_=this._view.modelBuilder.text().withProps({value:a.COLLATION_ISSUES_WITH_COUNT(),CSSStyles:Object.assign(Object.assign({},l.BODY_CSS),{"margin-top":"0"})}).component();return this._issueByTypeCollationIssues=this._view.modelBuilder.text().withProps({value:"",CSSStyles:Object.assign(Object.assign({},l.LABEL_CSS),{"font-weight":"600",margin:"0 0 0 5px"})}).component(),v.addItem(_,{flex:"0 0 auto"}),v.addItem(this._issueByTypeCollationIssues,{flex:"1 1 auto"}),this._view.modelBuilder.flexContainer().withItems([e,this._dbSummaryDescription,t,n,i,r,s,d,p,h,m,f,v]).withLayout({flexFlow:"column",height:"100%"}).withProps({CSSStyles:{"margin-left":"24px",height:"100%"}}).component()}createDBReadinessComponent(){const e=this._view.modelBuilder.flexContainer().withLayout({flexFlow:"row",height:"100%"}).withProps({CSSStyles:{"margin-left":"24px",height:"100%"}}).component();return e.addItem(this.createDBReadinessImage(),{flex:"0 0 auto"}),e.addItem(this.createDbReadinessText(),{flex:"1 1 auto"}),e}createDBReadinessImage(){return this._dbReadinessImage=this._view.modelBuilder.image().withProps({iconPath:c.IconPathHelper.ready,iconHeight:20,iconWidth:20,width:30,height:26}).withProps({CSSStyles:{"background-position":"0"}}).component(),this._dbReadinessImage}createDbReadinessText(){return this._dbReadinessText=this._view.modelBuilder.text().withProps({value:"",CSSStyles:Object.assign(Object.assign({},l.LABEL_CSS),{"margin-top":"2px"})}).component(),this._dbReadinessText}createDbIssueBySeverityBlockerComponent(){const e=this._view.modelBuilder.flexContainer().withLayout({flexFlow:"row",height:"100%"}).withProps({CSSStyles:{"margin-left":"24px",height:"100%"}}).component();e.addItem(this.createBlockerImage(),{flex:"0 0 auto"});const t=this._view.modelBuilder.text().withProps({value:a.BLOCKING_ISSUE_TEXT(),CSSStyles:Object.assign(Object.assign({},l.BODY_CSS),{"margin-top":"2px"})}).component();return this._dbSummaryBlockerCount=this._view.modelBuilder.text().withProps({value:"",CSSStyles:Object.assign(Object.assign({},l.LABEL_CSS),{"margin-top":"2px","margin-left":"5px"})}).component(),e.addItem(t,{flex:"0 0 auto"}),e.addItem(this._dbSummaryBlockerCount,{flex:"1 1 auto"}),e}createDbIssueBySeverityWarningComponent(){const e=this._view.modelBuilder.flexContainer().withLayout({flexFlow:"row",height:"100%"}).withProps({CSSStyles:{"margin-left":"24px",height:"100%"}}).component();e.addItem(this.createWarningImage(),{flex:"0 0 auto"});const t=this._view.modelBuilder.text().withProps({value:a.WARNING_ISSUE_TEXT(),CSSStyles:Object.assign(Object.assign({},l.BODY_CSS),{"margin-top":"2px"})}).component();return this._dbSummaryWarningCount=this._view.modelBuilder.text().withProps({value:"",CSSStyles:Object.assign(Object.assign({},l.LABEL_CSS),{"margin-top":"2px","margin-left":"5px"})}).component(),e.addItem(t,{flex:"0 0 auto"}),e.addItem(this._dbSummaryWarningCount,{flex:"1 1 auto"}),e}createExtensionContainer(){const e=this.createExtensionTitle(),t=this.createExtensionSeverityText(),n=this.createExtensionDescriptionContainer(),i=this._view.modelBuilder.flexContainer().withItems([e,t]).withLayout({flexFlow:"column",height:"100%"}).withProps({CSSStyles:{"margin-left":"24px",height:"100%"}}).component();return i.addItem(n,{flex:"0 0 auto",CSSStyles:{height:"100%",flexFlow:"column"}}),i}createExtensionTitle(){return this._extensionTitle=this._view.modelBuilder.text().withProps({value:"",CSSStyles:Object.assign(Object.assign({},l.LABEL_CSS),{"margin-top":"12px",height:"10px",width:"540px"})}).component(),this._extensionTitle}createExtensionSeverityText(){return this._extensionSeverityText=this._view.modelBuilder.text().withProps({value:"",CSSStyles:Object.assign(Object.assign({},l.BODY_CSS),{"margin-top":"12px",height:"25px",width:"540px","border-bottom":"solid 1px #C4C4C4"})}).component(),this._extensionSeverityText}createExtensionDescriptionContainer(){const e=this.createExtensionDescription(),t=this._view.modelBuilder.flexContainer().withLayout({flexFlow:"row",height:"100%"}).withProps({CSSStyles:{height:"100%"}}).component();return t.addItem(e,{flex:"0 0 auto",CSSStyles:{width:"530px",height:"calc(100% - 65px)","overflow-y":"auto"}}),t}createExtensionDescription(){const e=Object.assign(Object.assign({},l.LIGHT_LABEL_CSS),{width:"200px",margin:"12px 0 0","font-weight":"600"}),t=Object.assign(Object.assign({},l.BODY_CSS),{width:"500px","word-wrap":"break-word"}),n=this._view.modelBuilder.text().withProps({value:(0,u.localize)(a.DESCRIPTION.key,a.DESCRIPTION.value),ariaLabel:(0,u.localize)(a.DESCRIPTION.key,a.DESCRIPTION.value),CSSStyles:e}).component();this._extensionDescriptionText=this._view.modelBuilder.text().withProps({CSSStyles:t}).component();const i=this._view.modelBuilder.text().withProps({value:(0,u.localize)(a.PG_EXTENSION_SOURCE_VERSION.key,a.PG_EXTENSION_SOURCE_VERSION.value),ariaLabel:(0,u.localize)(a.PG_EXTENSION_SOURCE_VERSION.key,a.PG_EXTENSION_SOURCE_VERSION.value),CSSStyles:e}).component();this._extensionSourceVersionText=this._view.modelBuilder.text().withProps({CSSStyles:t}).component();const r=this._view.modelBuilder.text().withProps({value:(0,u.localize)(a.PG_EXTENSION_TARGET_VERSION.key,a.PG_EXTENSION_TARGET_VERSION.value),ariaLabel:(0,u.localize)(a.PG_EXTENSION_TARGET_VERSION.key,a.PG_EXTENSION_TARGET_VERSION.value),CSSStyles:e}).component();this._extensionTargetVersionText=this._view.modelBuilder.text().withProps({CSSStyles:t}).component();const o=this._view.modelBuilder.text().withProps({value:(0,u.localize)(a.ISSUE.key,a.ISSUE.value),ariaLabel:(0,u.localize)(a.ISSUE.key,a.ISSUE.value),CSSStyles:e}).component();this._extensionIssueDescriptionText=this._view.modelBuilder.text().withProps({CSSStyles:t}).component();const s=this._view.modelBuilder.text().withProps({value:(0,u.localize)(a.RECOMMENDATION.key,a.RECOMMENDATION.value),ariaLabel:(0,u.localize)(a.RECOMMENDATION.key,a.RECOMMENDATION.value),CSSStyles:e}).component();this._extensionRecommendationText=this._view.modelBuilder.text().withProps({CSSStyles:t}).component();const c=this._view.modelBuilder.text().withProps({value:(0,u.localize)(a.MORE_INFO.key,a.MORE_INFO.value),ariaLabel:(0,u.localize)(a.MORE_INFO.key,a.MORE_INFO.value),CSSStyles:e}).component();return this._extensionMoreInfo=this._view.modelBuilder.hyperlink().withProps({label:"",url:"",CSSStyles:t,ariaLabel:(0,u.localize)(a.MORE_INFO.key,a.MORE_INFO.value),showLinkIcon:!0}).component(),this._view.modelBuilder.flexContainer().withItems([n,this._extensionDescriptionText,o,this._extensionIssueDescriptionText,i,this._extensionSourceVersionText,r,this._extensionTargetVersionText,s,this._extensionRecommendationText,c,this._extensionMoreInfo]).withLayout({flexFlow:"column"}).component()}createCollationContainer(){const e=this.createCollationTitle(),t=this.createCollationSeverityText(),n=this.createCollationDescriptionContainer(),i=this._view.modelBuilder.flexContainer().withItems([e,t]).withLayout({flexFlow:"column",height:"100%"}).withProps({CSSStyles:{"margin-left":"24px",height:"100%"}}).component();return i.addItem(n,{flex:"0 0 auto",CSSStyles:{height:"100%",flexFlow:"column"}}),i}createCollationTitle(){return this._collationTitle=this._view.modelBuilder.text().withProps({value:"",CSSStyles:Object.assign(Object.assign({},l.LABEL_CSS),{"margin-top":"12px",height:"10px",width:"540px"})}).component(),this._collationTitle}createCollationSeverityText(){return this._collationSeverityText=this._view.modelBuilder.text().withProps({value:"",CSSStyles:Object.assign(Object.assign({},l.BODY_CSS),{"margin-top":"12px",height:"25px",width:"540px","border-bottom":"solid 1px #C4C4C4"})}).component(),this._collationSeverityText}createCollationDescriptionContainer(){const e=this.createCollationDescription(),t=this._view.modelBuilder.flexContainer().withLayout({flexFlow:"row",height:"100%"}).withProps({CSSStyles:{height:"100%"}}).component();return t.addItem(e,{flex:"0 0 auto",CSSStyles:{width:"530px",height:"calc(100% - 65px)","overflow-y":"auto"}}),t}createCollationDescription(){const e=Object.assign(Object.assign({},l.LIGHT_LABEL_CSS),{width:"200px",margin:"12px 0 0","font-weight":"600"}),t=Object.assign(Object.assign({},l.BODY_CSS),{width:"500px","word-wrap":"break-word"}),n=Object.assign(Object.assign({},l.BODY_CSS),{width:"500px","word-wrap":"break-word","margin-left":"30px"}),i=this._view.modelBuilder.text().withProps({value:(0,u.localize)(a.COLLATION_SOURCE_VERSION.key,a.COLLATION_SOURCE_VERSION.value),ariaLabel:(0,u.localize)(a.COLLATION_SOURCE_VERSION.key,a.COLLATION_SOURCE_VERSION.value),CSSStyles:e}).component();this._collationSourceVersionText=this._view.modelBuilder.text().withProps({CSSStyles:t}).component();const r=this._view.modelBuilder.text().withProps({value:(0,u.localize)(a.COLLATION_TARGET_VERSION.key,a.COLLATION_TARGET_VERSION.value),ariaLabel:(0,u.localize)(a.COLLATION_TARGET_VERSION.key,a.COLLATION_TARGET_VERSION.value),CSSStyles:e}).component();this._collationTargetVersionText=this._view.modelBuilder.text().withProps({CSSStyles:t}).component();const o=this._view.modelBuilder.text().withProps({value:(0,u.localize)(a.SOURCE_ENCODING.key,a.SOURCE_ENCODING.value),ariaLabel:(0,u.localize)(a.SOURCE_ENCODING.key,a.SOURCE_ENCODING.value),CSSStyles:e}).component();this._sourceEncoding=this._view.modelBuilder.text().withProps({CSSStyles:t}).component();const s=this._view.modelBuilder.text().withProps({value:(0,u.localize)(a.ISSUE.key,a.ISSUE.value),ariaLabel:(0,u.localize)(a.ISSUE.key,a.ISSUE.value),CSSStyles:e}).component();this._collationIssueDescriptionText=this._view.modelBuilder.text().withProps({CSSStyles:t}).component();const c=this._view.modelBuilder.text().withProps({value:(0,u.localize)(a.RECOMMENDATION.key,a.RECOMMENDATION.value),ariaLabel:(0,u.localize)(a.RECOMMENDATION.key,a.RECOMMENDATION.value),CSSStyles:e}).component();this._collationRecommendationText=this._view.modelBuilder.text().withProps({CSSStyles:t}).component();const d=this._view.modelBuilder.text().withProps({value:(0,u.localize)(a.COLLATION_IMPACTED_OBJECTS.key,a.COLLATION_IMPACTED_OBJECTS.value),ariaLabel:(0,u.localize)(a.COLLATION_IMPACTED_OBJECTS.key,a.COLLATION_IMPACTED_OBJECTS.value),CSSStyles:e}).component();return this._collationImpactedObject=this._view.modelBuilder.text().withProps({CSSStyles:n}).component(),this._view.modelBuilder.flexContainer().withItems([s,this._collationIssueDescriptionText,i,this._collationSourceVersionText,r,this._collationTargetVersionText,o,this._sourceEncoding,c,this._collationRecommendationText,d,this._collationImpactedObject]).withLayout({flexFlow:"column"}).component()}createServerSettingContainer(){const e=this.createServerSettingTitle(),t=this.createServerSettingSeverityText(),n=this.createServerSettingsDescriptionContainer(),i=this._view.modelBuilder.flexContainer().withItems([e,t]).withLayout({flexFlow:"column",height:"100%"}).withProps({CSSStyles:{"margin-left":"24px",height:"100%"}}).component();return i.addItem(n,{flex:"0 0 auto",CSSStyles:{height:"100%",flexFlow:"column"}}),i}createServerSettingTitle(){return this._serverSettingsTitle=this._view.modelBuilder.text().withProps({value:"",CSSStyles:Object.assign(Object.assign({},l.LABEL_CSS),{"margin-top":"12px",height:"10px",width:"540px"})}).component(),this._serverSettingsTitle}createServerSettingSeverityText(){return this._serverSettingSeverityText=this._view.modelBuilder.text().withProps({value:"",CSSStyles:Object.assign(Object.assign({},l.BODY_CSS),{"margin-top":"12px",height:"25px",width:"540px","border-bottom":"solid 1px #C4C4C4"})}).component(),this._serverSettingSeverityText}createServerSettingsDescriptionContainer(){const e=this.createServerSettingDescription(),t=this._view.modelBuilder.flexContainer().withLayout({flexFlow:"row",height:"100%"}).withProps({CSSStyles:{height:"100%"}}).component();return t.addItem(e,{flex:"0 0 auto",CSSStyles:{width:"530px",height:"calc(100% - 65px)","overflow-y":"auto"}}),t}createServerSettingDescription(){const e=Object.assign(Object.assign({},l.LIGHT_LABEL_CSS),{width:"200px",margin:"12px 0 0","font-weight":"600"}),t=Object.assign(Object.assign({},l.BODY_CSS),{width:"500px","word-wrap":"break-word"}),n=this._view.modelBuilder.text().withProps({value:(0,u.localize)(a.ISSUE.key,a.ISSUE.value),ariaLabel:(0,u.localize)(a.ISSUE.key,a.ISSUE.value),CSSStyles:e}).component();this._serverSettingDescriptionText=this._view.modelBuilder.text().withProps({CSSStyles:t}).component();const i=this._view.modelBuilder.text().withProps({value:(0,u.localize)(a.SOURCE_PARAMETER_VALUE.key,a.SOURCE_PARAMETER_VALUE.value),ariaLabel:(0,u.localize)(a.SOURCE_PARAMETER_VALUE.key,a.SOURCE_PARAMETER_VALUE.value),CSSStyles:e}).component();this._sourceParameterValueText=this._view.modelBuilder.text().withProps({CSSStyles:t}).component();const r=this._view.modelBuilder.text().withProps({value:(0,u.localize)(a.TARGET_PARAMETER_VALUE.key,a.TARGET_PARAMETER_VALUE.value),ariaLabel:(0,u.localize)(a.TARGET_PARAMETER_VALUE.key,a.TARGET_PARAMETER_VALUE.value),CSSStyles:e}).component();this._targetParameterValueText=this._view.modelBuilder.text().withProps({CSSStyles:t}).component();const o=this._view.modelBuilder.text().withProps({value:(0,u.localize)(a.PARAMETER_TYPE.key,a.PARAMETER_TYPE.value),ariaLabel:(0,u.localize)(a.PARAMETER_TYPE.key,a.PARAMETER_TYPE.value),CSSStyles:e}).component();this._parameterTypeText=this._view.modelBuilder.text().withProps({CSSStyles:t}).component();const s=this._view.modelBuilder.text().withProps({value:(0,u.localize)(a.DESCRIPTION.key,a.DESCRIPTION.value),ariaLabel:(0,u.localize)(a.DESCRIPTION.key,a.DESCRIPTION.value),CSSStyles:e}).component();this._parameterDescriptionText=this._view.modelBuilder.text().withProps({CSSStyles:t}).component();const c=this._view.modelBuilder.text().withProps({value:(0,u.localize)(a.RECOMMENDATION.key,a.RECOMMENDATION.value),ariaLabel:(0,u.localize)(a.RECOMMENDATION.key,a.RECOMMENDATION.value),CSSStyles:e}).component();return this._recommendationText=this._view.modelBuilder.text().withProps({CSSStyles:t}).component(),this._view.modelBuilder.flexContainer().withItems([s,this._parameterDescriptionText,n,this._serverSettingDescriptionText,i,this._sourceParameterValueText,r,this._targetParameterValueText,o,this._parameterTypeText,c,this._recommendationText]).withLayout({flexFlow:"column"}).component()}createAssessmentContainer(){const e=this.createAssessmentTitle(),t=this.createFeatureSeverityText(),n=this.createDescriptionContainer(),i=this._view.modelBuilder.flexContainer().withItems([e,t]).withLayout({flexFlow:"column",height:"100%"}).withProps({CSSStyles:{"margin-left":"24px",height:"100%"}}).component();return i.addItem(n,{flex:"0 0 auto",CSSStyles:{height:"100%",flexFlow:"column"}}),i}createAssessmentTitle(){return this._featureTitle=this._view.modelBuilder.text().withProps({value:"",CSSStyles:Object.assign(Object.assign({},l.LABEL_CSS),{"margin-top":"12px",height:"10px",width:"540px"})}).component(),this._featureTitle}createFeatureSeverityText(){return this._featureSeverityText=this._view.modelBuilder.text().withProps({value:"",CSSStyles:Object.assign(Object.assign({},l.BODY_CSS),{"margin-top":"12px",height:"25px",width:"540px","border-bottom":"solid 1px #C4C4C4"})}).component(),this._featureSeverityText}createDescriptionContainer(){const e=this.createDescription(),t=this._view.modelBuilder.flexContainer().withLayout({flexFlow:"row",height:"100%"}).withProps({CSSStyles:{height:"100%"}}).component();return t.addItem(e,{flex:"0 0 auto",CSSStyles:{width:"530px",height:"calc(100% - 65px)","overflow-y":"auto"}}),t}createDescription(){const e=Object.assign(Object.assign({},l.LIGHT_LABEL_CSS),{width:"200px",margin:"12px 0 0","font-weight":"600"}),t=Object.assign(Object.assign({},l.BODY_CSS),{width:"500px","word-wrap":"break-word"}),n=this._view.modelBuilder.text().withProps({value:(0,u.localize)(a.DESCRIPTION.key,a.DESCRIPTION.value),ariaLabel:(0,u.localize)(a.DESCRIPTION.key,a.DESCRIPTION.value),CSSStyles:e}).component();this._descriptionText=this._view.modelBuilder.text().withProps({CSSStyles:t}).component();const i=this._view.modelBuilder.text().withProps({value:(0,u.localize)(a.RECOMMENDATION.key,a.RECOMMENDATION.value),ariaLabel:(0,u.localize)(a.RECOMMENDATION.key,a.RECOMMENDATION.value),CSSStyles:e}).component();this._featureRecommendationText=this._view.modelBuilder.text().withProps({CSSStyles:t}).component();const r=this._view.modelBuilder.text().withProps({value:(0,u.localize)(a.MORE_INFO.key,a.MORE_INFO.value),CSSStyles:e}).component();return this._moreInfo=this._view.modelBuilder.hyperlink().withProps({label:"",url:"",CSSStyles:t,ariaLabel:(0,u.localize)(a.MORE_INFO.key,a.MORE_INFO.value),showLinkIcon:!0}).component(),this._view.modelBuilder.flexContainer().withItems([n,this._descriptionText,i,this._featureRecommendationText,r,this._moreInfo]).withLayout({flexFlow:"column"}).component()}createComponent(e,t){return i(this,void 0,void 0,(function*(){this._view=e;const t=e.modelBuilder.flexContainer().withLayout({flexFlow:"column",height:"calc(100% - 8px)"}).withProps({CSSStyles:{"border-right":"solid 1px #C4C4C4"}}).component();return t.addItem(this.createSearchComponent(),{flex:"0 0 auto",CSSStyles:{height:"40px"}}),t.addItem(this.createInstanceComponent(),{flex:"0 0 auto",CSSStyles:{height:"60px"}}),t.addItem(this.createDatabaseComponent(),{flex:"0 0 auto",CSSStyles:{"overflow-y":"auto",height:"calc(100% - 100px)"}}),t}))}createSearchComponent(){const e=this._view.modelBuilder.inputBox().withProps({stopEnterPropagation:!0,placeHolder:(0,u.localize)(a.SEARCH.key,a.SEARCH.value),width:240}).component();return this._disposables.push(e.onTextChanged((e=>this._filterTableList(e)))),this._view.modelBuilder.divContainer().withItems([e]).withProps({CSSStyles:{margin:"15px 15px 0px 15px"}}).component()}_filterTableList(e){if(this._databaseTableValues&&(null==e?void 0:e.length)>0){const t=[];this._databaseTableValues.forEach(((n,i)=>{var r;const o=null===(r=n[0])||void 0===r?void 0:r.value,s=null==o?void 0:o.toLowerCase(),a=null==e?void 0:e.toLowerCase();(null==s?void 0:s.includes(a))&&t.push(i)})),this._databaseTable.setFilter(t)}else this._databaseTable.setFilter(void 0)}createInstanceComponent(){this._instanceTable=this._view.modelBuilder.declarativeTable().withProps({ariaLabel:(0,u.localize)(a.PGSQL_SERVER_INSTANCE.key,a.PGSQL_SERVER_INSTANCE.value),enableRowSelection:!0,width:220,CSSStyles:{"table-layout":"fixed",cursor:"pointer"},columns:[{displayName:(0,u.localize)(a.INSTANCE.key,a.INSTANCE.value),valueType:r.DeclarativeDataType.string,width:160,isReadOnly:!0,headerCssStyles:x},{displayName:(0,u.localize)(a.FINDINGS.key,a.FINDINGS.value),valueType:r.DeclarativeDataType.string,width:60,isReadOnly:!0,headerCssStyles:P}]}).component();const e=this._view.modelBuilder.divContainer().withItems([this._instanceTable]).withProps({CSSStyles:{margin:"10px 15px 0px 15px"}}).component();return this._disposables.push(this._instanceTable.onRowSelected((e=>{this.instanceTableSelectAction()}))),e}instanceTableSelectAction(){this.resetButtons(),this._featureCompatibilityIssues=this._featuresCompatibility,this._serverSettingsIssues=this._serverSettingsCompatibility,this._resultComponent.updateCssStyles({display:"block"}),this._dbMessageContainer.updateCssStyles({display:"none"}),this._recommendation.value=(0,u.localize)(a.ISSUES_DETAILS.key,a.ISSUES_DETAILS.value),this._recommendationTitle.value=a.FINDINGS_COUNT(this._featureCompatibilityIssues.length+this._serverSettingsIssues.length),this.refreshResults("server"),(0,p.sendPostgresAssessmentActionEvent)(p.TelemetryViews.ViewAssessmentResultPage,p.TelemetryAction.AssessmentInstanceResult,{assessmentId:t.assessmentId,instanceId:(0,T.createHash)("sha256").update(this.connectionProfile.serverName).digest("hex")},{})}resetFeaturesButton(){this._featureHeadingButton.iconPath=c.IconPathHelper.expandButtonClosed,this._featureHeadingButton.ariaLabel=(0,u.localize)(a.COLLAPSED.key,a.COLLAPSED.value),this._isfeatureOpen=!1,this._serverWarningsListContainer.removeItem(this._featureCompatibilityTable),this._bottomContainer.removeItem(this._featureCompatibilityContainer),this._bottomContainer.addItem(this._serverSummaryContainer,{flex:"0 0 auto",CSSStyles:{height:"100%"}}),this._serverSummaryHeadingButton.focus()}resetServerSettingButton(){this._serverSettingsHeadingButton.iconPath=c.IconPathHelper.expandButtonClosed,this._serverSettingsHeadingButton.ariaLabel=(0,u.localize)(a.COLLAPSED.key,a.COLLAPSED.value),this._isServerSettingsOpen=!1,this._serverWarningsListContainer.removeItem(this._settingCompatibilityTable),this._bottomContainer.removeItem(this._serverSettingsContainer),this._bottomContainer.addItem(this._serverSummaryContainer,{flex:"0 0 auto",CSSStyles:{height:"100%"}}),this._serverSummaryHeadingButton.focus()}resetExtensionButton(){this._extensionHeadingButton.iconPath=c.IconPathHelper.expandButtonClosed,this._extensionHeadingButton.ariaLabel=(0,u.localize)(a.COLLAPSED.key,a.COLLAPSED.value),this._isExtensionOpen=!1,this._dbWarningsListContainer.removeItem(this._dbExtensionsCompatibilityTable),this._bottomContainer.removeItem(this._dbExtensionContainer),this._bottomContainer.addItem(this._dbSummaryContainer,{flex:"0 0 auto",CSSStyles:{height:"100%"}}),this._dbSummaryHeadingButton.focus()}resetCollationButton(){this._collationHeadingButton.iconPath=c.IconPathHelper.expandButtonClosed,this._collationHeadingButton.ariaLabel=(0,u.localize)(a.COLLAPSED.key,a.COLLAPSED.value),this._isCollationOpen=!1,this._dbWarningsListContainer.removeItem(this._dbCollationsCompatibilityTable),this._bottomContainer.removeItem(this._dbCollationContainer),this._bottomContainer.addItem(this._dbSummaryContainer,{flex:"0 0 auto",CSSStyles:{height:"100%"}}),this._dbSummaryHeadingButton.focus()}resetButtons(){this.resetFeaturesButton(),this.resetServerSettingButton(),this.resetExtensionButton(),this.resetCollationButton()}refreshResults(e){return i(this,void 0,void 0,(function*(){if("server"===e){this._bottomContainer.clearItems(),this._bottomContainer.addItem(this._serverWarningsListContainer,{flex:"0 0 auto"}),this._bottomContainer.addItem(this._serverSummaryContainer,{flex:"0 0 auto",CSSStyles:{height:"100%"}});const e=this._featureCompatibilityIssues.sort(((e,t)=>e.featureName.localeCompare(t.featureName))).map(((e,t)=>({alwaysShowTabs:!0,id:t.toString(),label:e.featureName,icon:1===e.assessmentSeverity?c.IconPathHelper.warning:3===e.assessmentSeverity?c.IconPathHelper.blocker:c.IconPathHelper.info}))),t=this._serverSettingsCompatibility.sort(((e,t)=>e.parameterName.localeCompare(t.parameterName))).map(((e,t)=>({id:t.toString(),label:e.parameterName,icon:1===e.assessmentSeverity?c.IconPathHelper.warning:3===e.assessmentSeverity?c.IconPathHelper.blocker:c.IconPathHelper.info})));this._assessmentFeatureResultsList.options=e,this._assessmentServerSettingsList.options=t}else if("db"===e){this._bottomContainer.clearItems(),this._bottomContainer.addItem(this._dbWarningsListContainer,{flex:"0 0 auto"}),this._bottomContainer.addItem(this._dbSummaryContainer,{flex:"0 0 auto",CSSStyles:{height:"100%"}});const e=this._extensionCompatibilityIssues.sort(((e,t)=>e.extensionName.localeCompare(t.extensionName))).map(((e,t)=>({id:t.toString(),label:e.extensionName,icon:1===e.assessmentSeverity?c.IconPathHelper.warning:3===e.assessmentSeverity?c.IconPathHelper.blocker:c.IconPathHelper.info}))),t=this._collationCompatibilityIssues.sort(((e,t)=>e.collationName.localeCompare(t.collationName))).map(((e,t)=>({id:t.toString(),label:e.collationName,icon:1===e.assessmentSeverity?c.IconPathHelper.warning:3===e.assessmentSeverity?c.IconPathHelper.blocker:c.IconPathHelper.info})));this._assessmentExtensionResultsList.options=e,this._assessmentCollationResultsList.options=t,this._assessmentExtensionResultsList.options.length&&(this._assessmentExtensionResultsList.selectedOptionId="0"),this._assessmentCollationResultsList.options.length&&(this._assessmentCollationResultsList.selectedOptionId="0")}else"feature"===e?(yield this._dbMessageContainer.updateCssStyles({display:"none"}),this._isfeatureOpen&&(this._bottomContainer.removeItem(this._serverSummaryContainer),this._bottomContainer.addItem(this._featureCompatibilityContainer,{flex:"0 0 auto"})),this._bottomContainer.removeItem(this._serverSettingsContainer)):"serverSettings"===e?(yield this._dbMessageContainer.updateCssStyles({display:"none"}),this._bottomContainer.removeItem(this._featureCompatibilityContainer),this._isServerSettingsOpen&&(this._bottomContainer.removeItem(this._serverSummaryContainer),this._bottomContainer.addItem(this._serverSettingsContainer,{flex:"0 0 auto"}))):"extension"===e?(yield this._dbMessageContainer.updateCssStyles({display:"none"}),this._bottomContainer.removeItem(this._dbCollationContainer),this._isExtensionOpen&&(this._bottomContainer.removeItem(this._dbSummaryContainer),this._bottomContainer.addItem(this._dbExtensionContainer,{flex:"0 0 auto",CSSStyles:{height:"100%"}}))):"collation"===e&&(yield this._dbMessageContainer.updateCssStyles({display:"none"}),this._bottomContainer.removeItem(this._dbExtensionContainer),this._isCollationOpen&&(this._bottomContainer.removeItem(this._dbSummaryContainer),this._bottomContainer.addItem(this._dbCollationContainer,{flex:"0 0 auto"})))}))}refreshAssessmentDetails(e){return i(this,void 0,void 0,(function*(){this._featureTitle.value=a.NAME_WITH_PREFIX((null==e?void 0:e.featureName)||this._notAvailable),this._featureSeverityText.value=a.SEVERITY_WITH_PREFIX(y.AssessmentSeverityEnum[null==e?void 0:e.assessmentSeverity]||this._notAvailable),this._descriptionText.value=(null==e?void 0:e.description)||this._notAvailable,this._moreInfo.url=(null==e?void 0:e.moreInfoLink)||"",this._moreInfo.label=(null==e?void 0:e.moreInfoLink)||"",this._moreInfo.ariaLabel=(null==e?void 0:e.featureName)||"",this._featureRecommendationText.value=(null==e?void 0:e.recommendation)||this._notAvailable}))}refreshServerSettingsDetails(e){return i(this,void 0,void 0,(function*(){this._serverSettingsTitle.value=a.NAME_WITH_PREFIX((null==e?void 0:e.parameterName)||this._notAvailable),this._serverSettingSeverityText.value=a.SEVERITY_WITH_PREFIX(y.AssessmentSeverityEnum[null==e?void 0:e.assessmentSeverity]||this._notAvailable),this._serverSettingDescriptionText.value=(null==e?void 0:e.description)||this._notAvailable,this._sourceParameterValueText.value=(null==e?void 0:e.parameterSourceValue)||this._notAvailable,this._targetParameterValueText.value=(null==e?void 0:e.parameterTargetValue)||this._notAvailable,this._parameterTypeText.value=(null==e?void 0:e.isReadOnly)?"Read Only":"Dynamic",this._parameterDescriptionText.value=(null==e?void 0:e.parameterDescription)||this._notAvailable,this._recommendationText.value=(null==e?void 0:e.recommendation)||this._notAvailable}))}refreshExtensionDetails(e){return i(this,void 0,void 0,(function*(){this._extensionTitle.value=a.NAME_WITH_PREFIX((null==e?void 0:e.extensionName)||this._notAvailable),this._extensionSeverityText.value=a.SEVERITY_WITH_PREFIX(y.AssessmentSeverityEnum[null==e?void 0:e.assessmentSeverity]||this._notAvailable),this._extensionDescriptionText.value=(null==e?void 0:e.extensionDescription)||this._notAvailable,this._extensionSourceVersionText.value=(null==e?void 0:e.extensionSourceVersion)||this._notAvailable,this._extensionTargetVersionText.value=(null==e?void 0:e.extensionTargetVersion)||this._notAvailable,this._extensionIssueDescriptionText.value=(null==e?void 0:e.issueDescription)||this._notAvailable,this._extensionRecommendationText.value=(null==e?void 0:e.recommendation)||this._notAvailable,this._extensionMoreInfo.url=(null==e?void 0:e.moreInfoLink)||_.extensionDefaultMoreInfoLink,this._extensionMoreInfo.label=(null==e?void 0:e.moreInfoLink)||_.extensionDefaultMoreInfoLink,this._extensionMoreInfo.ariaLabel=(null==e?void 0:e.extensionName)||""}))}refreshCollationDetails(e){return i(this,void 0,void 0,(function*(){this._collationTitle.value=a.NAME_WITH_PREFIX((null==e?void 0:e.collationName)||this._notAvailable),this._collationSeverityText.value=a.SEVERITY_WITH_PREFIX(y.AssessmentSeverityEnum[null==e?void 0:e.assessmentSeverity]||this._notAvailable),this._collationSourceVersionText.value=(null==e?void 0:e.collationSourceVersion)||this._notAvailable,this._collationTargetVersionText.value=(null==e?void 0:e.collationTargetVersion)||this._notAvailable,this._sourceEncoding.value=(null==e?void 0:e.sourceEncoding)||this._notAvailable,this._collationIssueDescriptionText.value=(null==e?void 0:e.issueDescription)||this._notAvailable,this._collationRecommendationText.value=(null==e?void 0:e.recommendation)||this._notAvailable,this._collationImpactedObject.value=(null==e?void 0:e.collationImpactedObjects)||this._notAvailable}))}refreshServerSummaryDetails(){return i(this,void 0,void 0,(function*(){this._serverSummaryDescription.value=a.ASSESSMENT_SUMMARY_DESCRIPTION(t.databaseReadinessMap.size),this._assessedDatabaseValue.value=String(t.databaseReadinessMap.size),this._readySummaryCount.label="("+String(t.dbReadyCount)+")",this._notReadySummaryCount.label="("+String(t.dbNotReadyCount)+")",this._readyWithConditionSummaryCount.label="("+String(t.databaseReadinessMap.size-t.dbReadyCount-t.dbNotReadyCount)+")",this._totalIssuesFoundValue.value=String(t.serverBlockerCount+t.serverInfoCount+t.serverWarningCount),this._serverSummaryBlockerCount.value=String(t.serverBlockerCount),this._serverSummaryWarningCount.value=String(t.serverWarningCount),this._serverSummaryInfoCount.value=String(t.serverInfoCount),this._issueByTypeFeaturesIssues.value=String(this._featuresCompatibility.length),this._issueByTypeServerSettingIssues.value=String(this._serverSettingsCompatibility.length),this._notReadyBarImage.width=this.getNotReadyWidth(),this._readyBarImage.width=this.getReadyWidth(),this._readyWithConditionsBarImage.width=this.getReadyWithConditionWidth(),"(0)"===this._readyWithConditionSummaryCount.label&&this._readyWithConditionSummaryCount.updateCssStyles(N),"(0)"===this._readySummaryCount.label&&this._readySummaryCount.updateCssStyles(N),"(0)"===this._notReadySummaryCount.label&&this._notReadySummaryCount.updateCssStyles(N)}))}refreshDatabaseSummaryDetails(){var e,n,r;return i(this,void 0,void 0,(function*(){this._dbSummaryDescription.value=a.ASSESSMENT_SUMMARY_DESCRIPTION(t.databaseReadinessMap.size),this._dbReadinessImage.iconPath=this.getIconUsingSeverity(),this._dbReadinessText.value=null===(e=t.databaseReadinessMap.get(this.currentDbName))||void 0===e?void 0:e.OverallSeverity,this._dbReadinessDescription.value=this.getReadinessDescription(),this._dbTotalIssuesFoundValue.value=String(this._extensionCompatibilityIssues.length+this._collationCompatibilityIssues.length),this._dbSummarySize.value=S.userSelectedDbsWithSizeMap.get(this.currentDbName),this._dbSummaryBlockerCount.value=String(null===(n=t.databaseReadinessMap.get(this.currentDbName))||void 0===n?void 0:n.blocker),this._dbSummaryWarningCount.value=String(null===(r=t.databaseReadinessMap.get(this.currentDbName))||void 0===r?void 0:r.warning),this._issueByTypeCollationIssues.value=String(this._collationCompatibilityIssues.length),this._issueByTypeExtensionIssues.value=String(this._extensionCompatibilityIssues.length)}))}getIconUsingSeverity(){var e;const n=null===(e=t.databaseReadinessMap.get(this.currentDbName))||void 0===e?void 0:e.OverallSeverity;return n===y.ReadinessEnum.Ready?c.IconPathHelper.onPremPostgresIcon:n===y.ReadinessEnum.ReadyWithCondition?c.IconPathHelper.dbReadyWithConditionsPostgresIcon:c.IconPathHelper.dbNotReadyPostgresIcon}getReadinessDescription(){var e,n,i;const r=null===(e=t.databaseReadinessMap.get(this.currentDbName))||void 0===e?void 0:e.OverallSeverity;return r===y.ReadinessEnum.Ready?a.DB_READY():r===y.ReadinessEnum.ReadyWithCondition?a.DB_READY_WITH_CONDITION(null===(n=t.databaseReadinessMap.get(this.currentDbName))||void 0===n?void 0:n.warning):a.DB_NOT_READY_WITH_COUNT(null===(i=t.databaseReadinessMap.get(this.currentDbName))||void 0===i?void 0:i.blocker)}createDatabaseComponent(){return this._databaseTable=this._view.modelBuilder.declarativeTable().withProps({ariaLabel:a.DATABASES_TABLE_TILE,enableRowSelection:!0,width:220,CSSStyles:{"table-layout":"fixed",cursor:"pointer"},columns:[{displayName:(0,u.localize)(a.DATABASE.key,a.DATABASE.value),valueType:r.DeclarativeDataType.string,width:160,isReadOnly:!0,headerCssStyles:x},{displayName:(0,u.localize)(a.FINDINGS.key,a.FINDINGS.value),valueType:r.DeclarativeDataType.string,width:60,isReadOnly:!0,headerCssStyles:P}]}).component(),this._disposables.push(this._databaseTable.onDataChanged((()=>i(this,void 0,void 0,(function*(){}))))),this._disposables.push(this._databaseTable.onRowSelected((e=>i(this,void 0,void 0,(function*(){this.resetButtons(),this.currentDbName=this._dbNames[e.row],this._extensionCompatibilityIssues=this._databaseExtensionCompatibilityMap.get(this.currentDbName),this._collationCompatibilityIssues=this._databaseCollationsCompatibilityMap.get(this.currentDbName),this._recommendation.value=(0,u.localize)(a.ISSUES_DETAILS.key,a.ISSUES_DETAILS.value),yield this._resultComponent.updateCssStyles({display:"block"}),yield this._dbMessageContainer.updateCssStyles({display:"none"}),this._recommendationTitle.value=a.FINDINGS_COUNT(this._extensionCompatibilityIssues.length+this._collationCompatibilityIssues.length),this._extensionHeadingButton.label=a.EXTENSIONS_HEADING_WITH_COUNT(this._extensionCompatibilityIssues.length),this._collationHeadingButton.label=a.COLLATIONS_HEADING_WITH_COUNT(this._collationCompatibilityIssues.length),yield this.refreshResults("db"),(0,p.sendPostgresAssessmentActionEvent)(p.TelemetryViews.ViewAssessmentResultPage,p.TelemetryAction.AssessmentDatabaseResult,{assessmentId:t.assessmentId,instanceId:(0,T.createHash)("sha256").update(this.connectionProfile.serverName).digest("hex")},{}),this.dbSummaryHeadingButtonAction()}))))),this._view.modelBuilder.divContainer().withItems([this._databaseTable]).withProps({width:"100%",CSSStyles:{margin:"0px 15px 0px 15px"}}).component()}initialize(){return i(this,void 0,void 0,(function*(){if(!R.isAutomated){const e=yield(0,d.getSkuRecommendation)(t.assessmentId,this._assessmentName,this.connectionProfile),n=e.body;t.positiveJustifications=n.positiveJustifications,t.negativeJustifications=n.negativeJustifications,(0,_.ValidateNullSKU)(e.body)?(this._skuRecommendationType.value=(0,u.localize)(a.NO_SKU.key,a.NO_SKU.value),this._skuRecommendationValue.value=""):(this._skuRecommendationType.value=a.RECOMMENDED_TARGET_TYPE(n.serviceTier,n.computeName),this._skuRecommendationValue.value=a.RECOMMENDED_TARGET_VALUE(n.vcores,n.memoryInGiB,n.storageSizeInGiB)),t.getskuRecommendationType=this._skuRecommendationType.value,t.getskuRecommendationValue=this._skuRecommendationValue.value,(0,p.sendPostgresAssessmentTelemetryEvent)("ManualCollectionSKURecommended",{assessmentId:t.assessmentId,instanceId:(0,T.createHash)("sha256").update(this.connectionProfile.serverName).digest("hex"),skuRecommendationType:t.getskuRecommendationType,skuRecommendationValue:t.getskuRecommendationValue})}const e=(yield(0,d.getServerCompatibilitySummary)(t.assessmentId,this._assessmentName,this.connectionProfile)).body;t.sourceServerVersion=e.serverVersion,t.targetServerVersion=e.targetServerVersion,this._targetVersionValue.value=t.targetServerVersion,this._featuresCompatibility=e.postgreSqlFeaturesCompatibility,this._serverSettingsCompatibility=e.postgreSqlServerSettingsCompatibility,this._featureHeadingButton.label=a.FEATURES_HEADING_WITH_COUNT(this._featuresCompatibility.length),this._serverSettingsHeadingButton.label=a.SERVER_SETTINGS_HEADING_WITH_COUNT(this._serverSettingsCompatibility.length);const n=(yield(0,d.getDatabaseCompatibilitySummary)(t.assessmentId,this._assessmentName,this.connectionProfile)).body;if(!R.isAutomated){const e=yield(0,d.getDbSourceProperties)(t.assessmentId,this._assessmentName,this.connectionProfile);t.dbSourceProperties=e.body,(0,p.sendPostgresAssessmentTelemetryEvent)("ManualCollectionSourceProperties",{assessmentId:t.assessmentId,instanceId:(0,T.createHash)("sha256").update(this.connectionProfile.serverName).digest("hex"),vCores:t.dbSourceProperties.logicalCpuCount,memoryMb:t.dbSourceProperties.memoryInMb,dataStorageMb:t.dbSourceProperties.dataStorageInMb,dataFileIops:t.dbSourceProperties.dataFileIOPs,scaleFactor:String(I.scaleFactor)})}for(const[e,t]of Object.entries(n)){const n=t.databaseExtensionsCompatibility,i=t.collationsCompatibilities;this._databaseExtensionCompatibilityMap.set(e,n),this._databaseCollationsCompatibilityMap.set(e,i)}let i=[];this._databaseTableValues=[],this._dbNames=this.assessmentStateModel._databasesForAssessment,this._serverName=v.hostname,i=[[{value:this.createIconTextCell(c.IconPathHelper.postgresicon,this._serverName),style:O},{value:this._featuresCompatibility.length+this._serverSettingsCompatibility.length,style:w}]],t.databaseReadinessMap=new Map,this._dbNames.forEach((e=>{var t,n;const i=(null===(t=this._databaseExtensionCompatibilityMap.get(e))||void 0===t?void 0:t.length)+(null===(n=this._databaseCollationsCompatibilityMap.get(e))||void 0===n?void 0:n.length);this.calculateDatabaseOverallSeverity(e,this._databaseExtensionCompatibilityMap.get(e),this._databaseCollationsCompatibilityMap.get(e)),this._databaseTableValues.push([{value:this.createIconTextCell(c.IconPathHelper.postgresicon,e),style:O},{value:i,style:w}])})),yield this._instanceTable.setDataValues(i),yield this._databaseTable.setDataValues(this._databaseTableValues),this.calculateInstanceOverallSeverity(this._featuresCompatibility,this._serverSettingsCompatibility),R.isAutomated||this.populateRecommendationReason()}))}populateRecommendationReason(){if(t.recommendationReasonTexts=[],t.positiveJustifications)t.positiveJustifications.forEach((e=>{t.recommendationReasonTexts.push((0,u.localize)(e.key,e.message,...e.placeholders))}));else if(1===I.scaleFactor)Number(t.dbSourceProperties.logicalCpuCount)>this._maxVCores&&t.recommendationReasonTexts.push(a.VCORES_UPPER_LIMIT(t.dbSourceProperties.logicalCpuCount,this._maxVCores)),Number(this.convertToGB(t.dbSourceProperties.memoryInMb))>this._maxMemoryInGb&&t.recommendationReasonTexts.push(a.MEMORY_UPPER_LIMIT(this.convertToGB(t.dbSourceProperties.memoryInMb),this._maxMemoryInGb)),Number(this.convertToGB(t.dbSourceProperties.dataStorageInMb))>this._maxStorageInGb&&t.recommendationReasonTexts.push(a.STORAGE_UPPER_LIMIT(this.convertToGB(t.dbSourceProperties.dataStorageInMb),this._maxStorageInGb)),Number(t.dbSourceProperties.dataFileIOPs)>this._maxIOPs&&t.recommendationReasonTexts.push(a.IOPS_UPPER_LIMIT(t.dbSourceProperties.dataFileIOPs,this._maxIOPs));else{const e=Math.ceil(Number(t.dbSourceProperties.logicalCpuCount)*Number(I.scaleFactor)),n=Math.ceil(Number(this.convertToGB(t.dbSourceProperties.memoryInMb))*Number(I.scaleFactor)),i=Math.ceil(Number(this.convertToGB(t.dbSourceProperties.dataStorageInMb))*Number(I.scaleFactor)),r=Math.ceil(Number(t.dbSourceProperties.dataFileIOPs)*Number(I.scaleFactor));e>this._maxVCores&&t.recommendationReasonTexts.push(a.VCORES_UPPER_LIMIT_WITH_SCALE(Number(I.scaleFactor),e,this._maxVCores)),n>this._maxMemoryInGb&&t.recommendationReasonTexts.push(a.MEMORY_UPPER_LIMIT_WITH_SCALE(Number(I.scaleFactor),n,this._maxMemoryInGb)),i>this._maxStorageInGb&&t.recommendationReasonTexts.push(a.STORAGE_UPPER_LIMIT_WITH_SCALE(Number(I.scaleFactor),i,this._maxStorageInGb)),r>this._maxIOPs&&t.recommendationReasonTexts.push(a.IOPS_UPPER_LIMIT_WITH_SCALE(Number(I.scaleFactor),r,this._maxIOPs))}}calculateInstanceOverallSeverity(e,n){t.serverWarningCount=0,t.serverInfoCount=0,t.serverBlockerCount=0,t.dbNotReadyCount=0,t.dbReadyCount=0;let i="",r="";for(let n=0;n<e.length;n++)y.AssessmentSeverityEnum[e[n].assessmentSeverity]===y.AssessmentSeverityEnum[y.AssessmentSeverityEnum.Warning]?t.serverWarningCount++:y.AssessmentSeverityEnum[e[n].assessmentSeverity]===y.AssessmentSeverityEnum[y.AssessmentSeverityEnum.Info]?t.serverInfoCount++:y.AssessmentSeverityEnum[e[n].assessmentSeverity]===y.AssessmentSeverityEnum[y.AssessmentSeverityEnum.Blocker]&&t.serverBlockerCount++;for(let e=0;e<n.length;e++)y.AssessmentSeverityEnum[n[e].assessmentSeverity]===y.AssessmentSeverityEnum[y.AssessmentSeverityEnum.Warning]?t.serverWarningCount++:y.AssessmentSeverityEnum[n[e].assessmentSeverity]===y.AssessmentSeverityEnum[y.AssessmentSeverityEnum.Info]?t.serverInfoCount++:y.AssessmentSeverityEnum[n[e].assessmentSeverity]===y.AssessmentSeverityEnum[y.AssessmentSeverityEnum.Blocker]&&t.serverBlockerCount++;i=t.serverBlockerCount>0?y.ReadinessEnum.NotReady:t.serverWarningCount>0?y.ReadinessEnum.ReadyWithCondition:t.serverInfoCount>0?y.ReadinessEnum.Ready:"Unknown",t.databaseReadinessMap.forEach((e=>{e.OverallSeverity===y.ReadinessEnum.NotReady?t.dbNotReadyCount++:e.OverallSeverity===y.ReadinessEnum.Ready&&t.dbReadyCount++})),r=t.dbNotReadyCount===t.databaseReadinessMap.size?y.ReadinessEnum.NotReady:t.dbReadyCount===t.databaseReadinessMap.size?y.ReadinessEnum.Ready:y.ReadinessEnum.ReadyWithCondition,r===y.ReadinessEnum.Ready&&i===y.ReadinessEnum.Ready?(t.serverOverallSeverityClass=y.AssessmentSeverityEnum[y.AssessmentSeverityEnum.Info],t.serverOverallSeverity=y.ReadinessEnum.Ready):r===y.ReadinessEnum.NotReady||i===y.ReadinessEnum.NotReady?(t.serverOverallSeverityClass=y.AssessmentSeverityEnum[y.AssessmentSeverityEnum.Blocker],t.serverOverallSeverity=y.ReadinessEnum.NotReady):(t.serverOverallSeverityClass=y.AssessmentSeverityEnum[y.AssessmentSeverityEnum.Warning],t.serverOverallSeverity=y.ReadinessEnum.ReadyWithCondition)}calculateDatabaseOverallSeverity(e,n,i){D=0,M=0,k=0;for(let e=0;e<n.length;e++)y.AssessmentSeverityEnum[n[e].assessmentSeverity]===y.AssessmentSeverityEnum[y.AssessmentSeverityEnum.Warning]?(D++,(0,p.sendPostgresAssessmentTelemetryEvent)("DBExtensionWarning",{instanceId:(0,T.createHash)("sha256").update(this.connectionProfile.serverName).digest("hex"),assessmentId:t.assessmentId,extensionName:n[e].extensionName,extensionSourceVersion:n[e].extensionSourceVersion,extensionTargetVersion:n[e].extensionTargetVersion})):y.AssessmentSeverityEnum[n[e].assessmentSeverity]===y.AssessmentSeverityEnum[y.AssessmentSeverityEnum.Info]?M++:y.AssessmentSeverityEnum[n[e].assessmentSeverity]===y.AssessmentSeverityEnum[y.AssessmentSeverityEnum.Blocker]&&(k++,(0,p.sendPostgresAssessmentTelemetryEvent)("DBExtensionBlocker",{instanceId:(0,T.createHash)("sha256").update(this.connectionProfile.serverName).digest("hex"),assessmentId:t.assessmentId,extensionName:n[e].extensionName,extensionSourceVersion:n[e].extensionSourceVersion,extensionTargetVersion:n[e].extensionTargetVersion}));for(let e=0;e<i.length;e++)y.AssessmentSeverityEnum[i[e].assessmentSeverity]===y.AssessmentSeverityEnum[y.AssessmentSeverityEnum.Warning]?(D++,(0,p.sendPostgresAssessmentTelemetryEvent)("DBCollationWarning",{instanceId:(0,T.createHash)("sha256").update(this.connectionProfile.serverName).digest("hex"),assessmentId:t.assessmentId,collationName:i[e].collationName,sourceEncoding:i[e].sourceEncoding,targetEncoding:i[e].targetEncoding,collationSourceVersion:i[e].collationSourceVersion,collationTargetVersion:i[e].collationTargetVersion})):y.AssessmentSeverityEnum[i[e].assessmentSeverity]===y.AssessmentSeverityEnum[y.AssessmentSeverityEnum.Info]?M++:y.AssessmentSeverityEnum[i[e].assessmentSeverity]===y.AssessmentSeverityEnum[y.AssessmentSeverityEnum.Blocker]&&(k++,(0,p.sendPostgresAssessmentTelemetryEvent)("DBCollationBlocker",{instanceId:(0,T.createHash)("sha256").update(this.connectionProfile.serverName).digest("hex"),assessmentId:t.assessmentId,collationName:i[e].collationName,sourceEncoding:i[e].sourceEncoding,targetEncoding:i[e].targetEncoding,collationSourceVersion:i[e].collationSourceVersion,collationTargetVersion:i[e].collationTargetVersion}));const r=new h.DbAssessmentSeverityCount;r.blocker=k,r.info=M,r.warning=D,k>0?(r.overallSeverityClass=y.AssessmentSeverityEnum[y.AssessmentSeverityEnum.Blocker],r.OverallSeverity=y.ReadinessEnum.NotReady):D>0?(r.overallSeverityClass=y.AssessmentSeverityEnum[y.AssessmentSeverityEnum.Warning],r.OverallSeverity=y.ReadinessEnum.ReadyWithCondition):(r.overallSeverityClass=y.AssessmentSeverityEnum[y.AssessmentSeverityEnum.Info],r.OverallSeverity=y.ReadinessEnum.Ready),t.databaseReadinessMap.set(e,r)}createIconTextCell(e,t){return t}startAssessment(e){return i(this,void 0,void 0,(function*(){return t.assessmentId=(0,C.v4)(),this.wizard.cancelButton.onClick((()=>i(this,void 0,void 0,(function*(){return this.CancelAssessment()})))),a.ASSESSMENT_NAME.value,(yield(0,d.startAssessment)(e)).isSuccessful}))}reStartAssessment(){return i(this,void 0,void 0,(function*(){return a.ASSESSMENT_NAME.value,(yield(0,d.reStartAssessment)()).isSuccessful}))}saveReport(){return i(this,void 0,void 0,(function*(){const e={defaultUri:o.Uri.file((0,m.suggestReportFile)(Date.now())),filters:{"HTML File":["html"]}},n=yield o.window.showSaveDialog(e);if(void 0!==n){const e=yield new f.ReportBuilder(t.assessmentId,this._assessmentName,this.connectionProfile).build();g.promises.writeFile(n.fsPath,e),"Open"===(yield o.window.showInformationMessage((0,u.localize)(a.REPORT_SAVED_MESSAGE.key,a.REPORT_SAVED_MESSAGE.value),"Open","Cancel"))&&o.env.openExternal(n)}}))}_createTargetPlatformTextContainer(e){const t=e.modelBuilder.text().withProps({value:(0,u.localize)(a.TARGET_PLATFORM.key,a.TARGET_PLATFORM.value),ariaLabel:(0,u.localize)(a.TARGET_PLATFORM.key,a.TARGET_PLATFORM.value),CSSStyles:{"margin-bottom":"0","font-style":"normal","font-weight":"400","font-size":"13px","line-height":"18px",order:"0","margin-top":"5px"}}).component(),n=e.modelBuilder.text().withProps({value:(0,u.localize)(a.TARGET_PLATFORM_VALUE1.key,a.TARGET_PLATFORM_VALUE1.value),ariaLabel:(0,u.localize)(a.TARGET_PLATFORM_VALUE1.key,a.TARGET_PLATFORM_VALUE1.value),CSSStyles:{"font-style":"normal","font-weight":"600","font-size":"13px","line-height":"18px",display:"flex","align-items":"center",order:"1","margin-top":"-5px","margin-bottom":"0"}}).component(),i=e.modelBuilder.text().withProps({value:(0,u.localize)(a.TARGET_PLATFORM_VALUE2.key,a.TARGET_PLATFORM_VALUE2.value),ariaLabel:(0,u.localize)(a.TARGET_PLATFORM_VALUE2.key,a.TARGET_PLATFORM_VALUE2.value),CSSStyles:{"font-style":"normal","font-weight":"600","font-size":"13px","line-height":"18px",display:"flex","align-items":"center",order:"1","margin-top":"-5px","margin-bottom":"0"}}).component(),r=e.modelBuilder.text().withProps({value:(0,u.localize)(a.TARGET_VERSION.key,a.TARGET_VERSION.value),ariaLabel:(0,u.localize)(a.TARGET_VERSION.key,a.TARGET_VERSION.value),CSSStyles:{"margin-bottom":"0","font-style":"normal","font-weight":"400","font-size":"11px","line-height":"18px",order:"0","margin-top":"-5px"}}).component();this._targetVersionValue=e.modelBuilder.text().withProps({value:"",CSSStyles:{"font-style":"normal","font-weight":"600","font-size":"11px","line-height":"18px",display:"flex","align-items":"center",order:"1","margin-top":"-5px","margin-left":"5px"}}).component();const o=this._view.modelBuilder.flexContainer().withItems([]).withLayout({height:75,width:280,flexFlow:"row"}).component();return o.addItem(r,{flex:"0 0 auto"}),o.addItem(this._targetVersionValue,{flex:"0 0 auto"}),this._view.modelBuilder.flexContainer().withItems([t,n,i,o]).withLayout({height:75,width:280,flexFlow:"column"}).withProps({CSSStyles:{"margin-left":"15px",display:"flex","flex-direction":"column","align-items":"flex-start",padding:"5px 0 12px 12px",gap:"4px","box-shadow":"0px 2px 4px rgba(0, 0, 0, 0.14), 0px 0px 2px rgba(0, 0, 0, 0.12)","border-radius":"4px",border:"1px solid #CECECE"}}).component()}_createRecommendedConfigurationTextContainer(e){const n=e.modelBuilder.text().withProps({value:(0,u.localize)(a.RECOMMENDED_CONFIGURATION.key,a.RECOMMENDED_CONFIGURATION.value),ariaLabel:(0,u.localize)(a.RECOMMENDED_CONFIGURATION.key,a.RECOMMENDED_CONFIGURATION.value),CSSStyles:{"margin-bottom":"0","font-style":"normal","font-weight":"400","font-size":"13px","line-height":"18px",order:"0","margin-top":"5px"}}).component();this._skuRecommendationType=e.modelBuilder.text().withProps({value:t.getskuRecommendationType,CSSStyles:{"font-style":"normal","font-weight":"600","font-size":"13px","line-height":"18px",display:"flex","align-items":"center",order:"1","margin-top":"-5px","margin-bottom":"0"}}).component(),this._skuRecommendationValue=e.modelBuilder.text().withProps({value:t.getskuRecommendationValue,CSSStyles:{"font-style":"normal","font-weight":"400","font-size":"13px","line-height":"18px",display:"flex","align-items":"center",order:"1","margin-top":"-8px","margin-bottom":"0"}}).component(),this._skuViewDetailsHyperLink=this._view.modelBuilder.hyperlink().withProps({label:(0,u.localize)(a.VIEWDETAILS.key,a.VIEWDETAILS.value),url:"",CSSStyles:{"font-style":"normal","font-weight":"400","font-size":"13px","line-height":"18px",display:"flex","align-items":"center",order:"1","margin-top":"-8px","margin-bottom":"0"}}).component();const r=new E.SkuViewDetailsDialog;this._disposables.push(this._skuViewDetailsHyperLink.onDidClick((()=>i(this,void 0,void 0,(function*(){yield r.openDialog(),(0,p.sendPostgresAssessmentActionEvent)(p.TelemetryViews.ViewAssessmentResultPage,p.TelemetryAction.SKUViewDetails,{assessmentId:t.assessmentId,instanceId:(0,T.createHash)("sha256").update(this.connectionProfile.serverName).digest("hex")},{})}))))),this._skuConfidenceRating=this._createConfidenceRatingComponent(this._view);const o=this._view.modelBuilder.flexContainer().withLayout({height:75,width:280,flexFlow:"column"}).withProps({CSSStyles:{"margin-left":"8px",display:"flex","flex-direction":"column","align-items":"flex-start",padding:"5px 0 12px 12px",gap:"4px","box-shadow":"0px 2px 4px rgba(0, 0, 0, 0.14), 0px 0px 2px rgba(0, 0, 0, 0.12)","border-radius":"4px",border:"1px solid #CECECE"}}).component();return o.addItem(n,{flex:"0 0 auto"}),o.addItem(this._skuRecommendationType,{flex:"0 0 auto"}),o.addItem(this._skuRecommendationValue,{flex:"0 0 auto"}),o.addItem(this._skuConfidenceRating,{flex:"0 0 auto"}),o.addItem(this._skuViewDetailsHyperLink,{flex:"0 0 auto"}),o}_createRecommendedConfigurationLoaderTextContainer(e){const t=e.modelBuilder.text().withProps({value:(0,u.localize)(a.RECOMMENDED_CONFIGURATION.key,a.RECOMMENDED_CONFIGURATION.value),ariaLabel:(0,u.localize)(a.RECOMMENDED_CONFIGURATION.key,a.RECOMMENDED_CONFIGURATION.value),height:"30px",CSSStyles:{"margin-bottom":"0","font-style":"normal","font-weight":"400","font-size":"13px","line-height":"18px",order:"0","margin-top":"7px"}}).component();this._skuCollecionloader=this._view.modelBuilder.image().withProps({iconPath:c.IconPathHelper.spinner,iconHeight:16,iconWidth:16,width:20,height:20,CSSStyles:{"background-position":"0 center","margin-top":"-14px"}}).component(),this._skuCollectionText=e.modelBuilder.text().withProps({value:(0,u.localize)(a.FINDING_BEST_SKU_TEXT.key,a.FINDING_BEST_SKU_TEXT.value),ariaLabel:(0,u.localize)(a.FINDING_BEST_SKU_TEXT.key,a.FINDING_BEST_SKU_TEXT.value),CSSStyles:{"font-style":"normal","font-weight":"600","font-size":"13px","line-height":"18px",display:"flex","align-items":"center",order:"1","margin-top":"-15px","margin-bottom":"0"}}).component(),this._skuCollectionWaitingText=e.modelBuilder.text().withProps({value:(0,u.localize)(a.CYCLE_COMPLETE_TEXT.key,a.CYCLE_COMPLETE_TEXT.value),ariaLabel:(0,u.localize)(a.CYCLE_COMPLETE_TEXT.key,a.CYCLE_COMPLETE_TEXT.value),width:"220px",CSSStyles:{"font-style":"normal","font-weight":"400","font-size":"10px","line-height":"14px",display:"flex","align-items":"center",order:"1","margin-top":"-5px","margin-bottom":"0","margin-left":"20px"}}).component(),this._skuLoaderContainer=this._view.modelBuilder.flexContainer().withLayout({flexFlow:"row"}).component(),this._skuLoaderContainer.addItem(this._skuCollecionloader,{flex:"0 0 auto"}),this._skuLoaderContainer.addItem(this._skuCollectionText,{flex:"0 0 auto"});const n=this._view.modelBuilder.flexContainer().withLayout({height:75,width:280,flexFlow:"column"}).withProps({CSSStyles:{"margin-left":"8px",display:"flex","flex-direction":"column","align-items":"flex-start",padding:"5px 0 12px 12px",gap:"4px","box-shadow":"0px 2px 4px rgba(0, 0, 0, 0.14), 0px 0px 2px rgba(0, 0, 0, 0.12)","border-radius":"4px",border:"1px solid #CECECE"}}).component();return n.addItem(t,{flex:"0 0 auto"}),n.addItem(this._skuLoaderContainer,{flex:"0 0 auto"}),n.addItem(this._skuCollectionWaitingText,{flex:"0 0 auto"}),n}_createdataCollectionStatusTextContainer(e){const n=e.modelBuilder.text().withProps({value:(0,u.localize)(a.DATA_COLLECTION_STATUS.key,a.DATA_COLLECTION_STATUS.value),description:(0,u.localize)(a.DATA_COLLECTION_DESCRIPTION.key,a.DATA_COLLECTION_DESCRIPTION.value),ariaLabel:(0,u.localize)(a.DATA_COLLECTION_STATUS.key,a.DATA_COLLECTION_STATUS.value),height:"16px",CSSStyles:{"margin-bottom":"0","font-style":"normal","font-weight":"400","font-size":"13px","line-height":"18px",order:"0","margin-top":"0"}}).component(),o=e.modelBuilder.text().withProps({value:":",height:"16px",CSSStyles:{"font-style":"normal","font-weight":"600","font-size":"13px","line-height":"18px",order:"0",margin:"-2px 0 0 3px"}}).component();this._statusImage=this._view.modelBuilder.image().withProps({iconPath:"",iconHeight:12,iconWidth:12,width:12,height:12,CSSStyles:{"background-position":"0 center",margin:"2px 0 0 10px"}}).component(),this._statusText=e.modelBuilder.text().withProps({value:(0,u.localize)(a.IN_PROGRESS.key,a.IN_PROGRESS.value),CSSStyles:{"margin-left":"-16px","font-style":"normal","font-weight":"600","font-size":"13px","line-height":"18px",order:"0","margin-top":"-2px"}}).component();const s=this._view.modelBuilder.flexContainer().withLayout({flexFlow:"row"}).component();s.addItem(n,{flex:"0 0 auto"}),s.addItem(o,{flex:"0 0 auto"}),s.addItem(this._statusImage,{flex:"0 0 auto"}),s.addItem(this._statusText,{flex:"0 0 auto"}),t.dataCollectionStatus=(0,u.localize)(a.IN_PROGRESS.key,a.IN_PROGRESS.value),this._autoCollectDataInfoIcon=this._view.modelBuilder.image().withProps({iconPath:c.IconPathHelper.spinner,iconHeight:16,iconWidth:16,width:20,height:20,CSSStyles:{"background-position":"0 center","margin-top":"-12px"}}).component(),this._timeRemainingText=e.modelBuilder.text().withProps({value:(0,u.localize)(a.TIME_REMAINING.key,a.TIME_REMAINING.value),ariaLabel:(0,u.localize)(a.TIME_REMAINING.key,a.TIME_REMAINING.value),CSSStyles:{"margin-bottom":"0","font-style":"normal","font-weight":"400","font-size":"12px","line-height":"18px",order:"0","margin-top":"-13px"}}).component();const h=this._view.modelBuilder.flexContainer().withLayout({flexFlow:"row",height:24}).component();h.addItem(this._autoCollectDataInfoIcon,{flex:"0 0 auto"}),h.addItem(this._timeRemainingText,{flex:"0 0 auto"}),this._allCyclesCompletedText=e.modelBuilder.text().withProps({value:(0,u.localize)(a.ALL_CYCLES_COMPLETED_TEXT.key,a.ALL_CYCLES_COMPLETED_TEXT.value),ariaLabel:(0,u.localize)(a.ALL_CYCLES_COMPLETED_TEXT.key,a.ALL_CYCLES_COMPLETED_TEXT.value),CSSStyles:{"margin-left":"20px","font-style":"normal","font-weight":"400","font-size":"13px","line-height":"18px",order:"0","margin-top":"-30px",display:"none"}}).component(),this._cyclesRemaining=e.modelBuilder.text().withProps({value:a.CYCLES_COMPLETED(this._cycleCount,this._totalCycleCount),CSSStyles:{"margin-left":"20px","font-style":"normal","font-weight":"400","font-size":"10px","line-height":"14px",order:"0","margin-top":"-20px"}}).component(),this._dividerCycletime=this._view.modelBuilder.image().withProps({iconPath:c.IconPathHelper.divider,iconHeight:12,iconWidth:1,width:2,height:12,CSSStyles:{"background-position":"0 center",margin:"-18px 0 0 10px"}}).component(),this._totalTime=e.modelBuilder.text().withProps({value:"",CSSStyles:{"margin-left":"10px","font-style":"normal","font-weight":"400","font-size":"10px","line-height":"14px",order:"0","margin-top":"-20px"}}).component();const m=this._view.modelBuilder.flexContainer().withLayout({flexFlow:"row"}).component();m.addItem(this._cyclesRemaining,{flex:"0 0 auto"}),m.addItem(this._dividerCycletime,{flex:"0 0 auto"}),m.addItem(this._totalTime,{flex:"0 0 auto"}),m.addItem(this._allCyclesCompletedText,{flex:"0 0 auto"}),this._startCollectionTextButton=this._view.modelBuilder.button().withProps({label:(0,u.localize)(a.START_COLLECTION.key,a.START_COLLECTION.value),ariaLabel:(0,u.localize)(a.START_COLLECTION.key,a.START_COLLECTION.value),buttonType:r.ButtonType.Normal,width:"90px",iconHeight:8,iconWidth:8,iconPath:c.IconPathHelper.startCollectionIconEnabled,CSSStyles:Object.assign(Object.assign({},l.LABEL_CSS),{"text-align":"left","font-weight":"400","font-size":"10px","line-height":"14px",margin:"-10px 30px 0 5px","padding-left":"15px"})}).component(),this._stopCollectionTextButton=this._view.modelBuilder.button().withProps({label:(0,u.localize)(a.STOP_COLLECTION.key,a.STOP_COLLECTION.value),ariaLabel:(0,u.localize)(a.STOP_COLLECTION.key,a.STOP_COLLECTION.value),buttonType:r.ButtonType.Normal,width:"90px",iconHeight:8,iconWidth:8,iconPath:c.IconPathHelper.stopCollectionIconEnabled,CSSStyles:Object.assign(Object.assign({},l.LABEL_CSS),{"font-size":"10px","line-height":"14px","text-align":"left","font-weight":"400",margin:"-10px -15px 0 5px"})}).component();const f=this._view.modelBuilder.flexContainer().withLayout({flexFlow:"row"}).component();f.addItem(this._startCollectionTextButton,{flex:"0 0 auto"}),f.addItem(this._stopCollectionTextButton,{flex:"0 0 auto"}),this._disposables.push(this._startCollectionTextButton.onDidClick((()=>i(this,void 0,void 0,(function*(){this._collectionInProgress=!0,this._startCollectionTextButton.enabled=!1,this._stopCollectionTextButton.enabled=!0,this._minutes=10,t.minutes=0,this._seconds=0,this._cycleCount=0,t.cycleCount=0,this.reStartAssessment(),this._statusText.value=(0,u.localize)(a.IN_PROGRESS.key,a.IN_PROGRESS.value),t.dataCollectionStatus=this._statusText.value,this._statusImage.iconPath="",this._statusText.updateCssStyles({"margin-left":"-16px"}),this._allCyclesCompletedText.updateCssStyles({display:"none"}),this._autoCollectDataInfoIcon.updateCssStyles({display:"flex"}),this._timeRemainingText.updateCssStyles({display:"flex"}),this._cyclesRemaining.value=a.CYCLES_COMPLETED(this._cycleCount,this._totalCycleCount),this._cyclesRemaining.updateCssStyles({display:"flex"}),this._dividerCycletime.updateCssStyles({display:"flex"}),this._totalTime.updateCssStyles({display:"flex"}),this._autoCollectDataInfoIcon.updateCssStyles({display:"flex"}),this._starRatingFirst.iconPath=c.IconPathHelper.starLight,this._starRatingSecond.iconPath=c.IconPathHelper.starLight,this._starRatingThird.iconPath=c.IconPathHelper.starLight,this._starRatingFourth.iconPath=c.IconPathHelper.starLight,this._starRatingFifth.iconPath=c.IconPathHelper.starLight,t.confidenceRatingStarsCount=0,this._headercontainer.removeItem(this._recommendedConfigurationComponent),this._headercontainer.removeItem(this._dataCollectionStatusComponent),this._recommendedConfigurationComponent=this._createRecommendedConfigurationLoaderTextContainer(this._view),this._skuConfidenceRating.updateCssStyles({display:"flex"}),this._skuViewDetailsHyperLink.updateCssStyles({display:"flex"}),this._headercontainer.addItem(this._recommendedConfigurationComponent,{flex:"0 0 auto"}),this._headercontainer.addItem(this._dataCollectionStatusComponent,{flex:"0 0 auto"}),(0,p.sendPostgresAssessmentActionEvent)(p.TelemetryViews.ViewAssessmentResultPage,p.TelemetryAction.StartCollection,{assessmentId:t.assessmentId,instanceId:(0,T.createHash)("sha256").update(this.connectionProfile.serverName).digest("hex")},{})}))))),this._disposables.push(this._stopCollectionTextButton.onDidClick((()=>i(this,void 0,void 0,(function*(){this._collectionInProgress=!1,this._startCollectionTextButton.enabled=!0,this._stopCollectionTextButton.enabled=!1,(0,d.cancelAssessment)(t.assessmentId),this._statusText.value=(0,u.localize)(a.STOPPED.key,a.STOPPED.value),t.dataCollectionStatus=this._statusText.value,this._statusText.updateCssStyles({"margin-left":"5px"}),this._statusImage.iconPath=c.IconPathHelper.stopCollectionIconEnabled,this._cyclesRemaining.updateCssStyles({display:"none"}),this._timeRemainingText.updateCssStyles({display:"none"}),this._dividerCycletime.updateCssStyles({display:"none"}),this._totalTime.updateCssStyles({display:"none"}),this._autoCollectDataInfoIcon.updateCssStyles({display:"none"}),this._allCyclesCompletedText.updateCssStyles({display:"flex"}),this._headercontainer.removeItem(this._recommendedConfigurationComponent),this._headercontainer.removeItem(this._dataCollectionStatusComponent),this._recommendedConfigurationComponent=this._createRecommendedConfigurationTextContainer(this._view),this._headercontainer.addItem(this._recommendedConfigurationComponent,{flex:"0 0 auto"}),""!==t.getskuRecommendationType&&0!==this._cycleCount||(this._skuRecommendationType.value=(0,u.localize)(a.NO_SKU.key,a.NO_SKU.value),this._skuRecommendationValue.value="",this._skuConfidenceRating.updateCssStyles({display:"none"}),this._skuViewDetailsHyperLink.updateCssStyles({display:"none"})),this._headercontainer.addItem(this._dataCollectionStatusComponent,{flex:"0 0 auto"}),this._allCyclesCompletedText.value=a.CYCLES_COMPLETED(this._cycleCount,this._totalCycleCount),(0,p.sendPostgresAssessmentActionEvent)(p.TelemetryViews.ViewAssessmentResultPage,p.TelemetryAction.StopCollection,{assessmentId:t.assessmentId,instanceId:(0,T.createHash)("sha256").update(this.connectionProfile.serverName).digest("hex")},{}),(0,p.sendPostgresAssessmentTelemetryEvent)("CollectionCancelledByStopCollection",{assessmentId:t.assessmentId,instanceId:(0,T.createHash)("sha256").update(this.connectionProfile.serverName).digest("hex"),cyclesCompleted:String(t.cycleCount),totalCycleCount:String(t.totalCycle)})})))));const g=this._view.modelBuilder.flexContainer().withLayout({height:68,width:280,flexFlow:"column"}).withProps({CSSStyles:{"margin-left":"8px",display:"flex","flex-direction":"column","align-items":"flex-start",padding:"12px 0 12px 12px",gap:"4px","box-shadow":"0px 2px 4px rgba(0, 0, 0, 0.14), 0px 0px 2px rgba(0, 0, 0, 0.12)","border-radius":"4px",border:"1px solid #CECECE"}}).component();return g.addItem(s,{flex:"0 0 auto"}),g.addItem(h,{flex:"0 0 auto"}),g.addItem(m,{flex:"0 0 auto"}),g.addItem(f,{flex:"0 0 auto"}),g}_createConfidenceRatingComponent(e){const t=e.modelBuilder.text().withProps({value:(0,u.localize)(a.CONFIDENCE_RATING.key,a.CONFIDENCE_RATING.value),ariaLabel:(0,u.localize)(a.CONFIDENCE_RATING.key,a.CONFIDENCE_RATING.value),description:(0,u.localize)(a.CONFIDENCE_RATING_DESCRIPTION.key,a.CONFIDENCE_RATING_DESCRIPTION.value),height:20,CSSStyles:{"font-style":"normal","font-weight":"400","font-size":"12px","line-height":"14px",display:"flex","align-items":"center",order:"1","margin-top":"-8px","margin-bottom":"0"}}).component(),n=e.modelBuilder.text().withProps({value:":",height:12,CSSStyles:{"font-weight":"600","font-size":"12px","line-height":"14px",display:"flex","align-items":"center",order:"1",margin:"5px 0px 0px 5px"}}).component();this._starRatingFirst=this._view.modelBuilder.image().withProps({iconPath:c.IconPathHelper.starLight,iconHeight:10,iconWidth:10,width:10,height:10,CSSStyles:{"background-position":"0 center",margin:"7px 0 0 10px"}}).component(),this._starRatingSecond=this._view.modelBuilder.image().withProps({iconPath:c.IconPathHelper.starLight,iconHeight:10,iconWidth:10,width:10,height:10,CSSStyles:{"background-position":"0 center",margin:"7px 0 0 5px"}}).component(),this._starRatingThird=this._view.modelBuilder.image().withProps({iconPath:c.IconPathHelper.starLight,iconHeight:10,iconWidth:10,width:10,height:10,CSSStyles:{"background-position":"0 center",margin:"7px 0 0 5px"}}).component(),this._starRatingFourth=this._view.modelBuilder.image().withProps({iconPath:c.IconPathHelper.starLight,iconHeight:10,iconWidth:10,width:10,height:10,CSSStyles:{"background-position":"0 center",margin:"7px 0 0 5px"}}).component(),this._starRatingFifth=this._view.modelBuilder.image().withProps({iconPath:c.IconPathHelper.starLight,iconHeight:10,iconWidth:10,width:10,height:10,CSSStyles:{"background-position":"0 center",margin:"7px 0 0 5px"}}).component();const i=this._view.modelBuilder.flexContainer().withLayout({flexFlow:"row"}).withProps({CSSStyles:{"font-style":"normal","font-weight":"400","font-size":"13px","line-height":"18px",display:"flex","align-items":"center",order:"1","margin-top":"-8px","margin-bottom":"0"}}).component();return i.addItem(t,{flex:"0 0 auto"}),i.addItem(n,{flex:"0 0 auto"}),i.addItem(this._starRatingFirst,{flex:"0 0 auto"}),i.addItem(this._starRatingSecond,{flex:"0 0 auto"}),i.addItem(this._starRatingThird,{flex:"0 0 auto"}),i.addItem(this._starRatingFourth,{flex:"0 0 auto"}),i.addItem(this._starRatingFifth,{flex:"0 0 auto"}),i}_createdataCollectionStatusManualTextContainer(e){const t=e.modelBuilder.text().withProps({value:(0,u.localize)(a.DATA_COLLECTION_STATUS.key,a.DATA_COLLECTION_STATUS.value),description:(0,u.localize)(a.DATA_COLLECTION_DESCRIPTION.key,a.DATA_COLLECTION_DESCRIPTION.value),ariaLabel:(0,u.localize)(a.DATA_COLLECTION_STATUS.key,a.DATA_COLLECTION_STATUS.value),height:"16px",CSSStyles:{"margin-bottom":"0","font-style":"normal","font-weight":"400","font-size":"13px","line-height":"18px",order:"0","margin-top":"0"}}).component(),n=e.modelBuilder.text().withProps({value:":",height:"16px",CSSStyles:{"margin-bottom":"0","font-style":"normal","font-weight":"600","font-size":"13px","line-height":"18px",order:"0","margin-top":"11px",margin:"-2px 1px 0 3px"}}).component(),i=e.modelBuilder.text().withProps({value:(0,u.localize)(a.NOT_APPLICABLE.key,a.NOT_APPLICABLE.value),ariaLabel:(0,u.localize)(a.NOT_APPLICABLE.key,a.NOT_APPLICABLE.value),CSSStyles:{"margin-left":"5px","font-style":"normal","font-weight":"600","font-size":"13px","line-height":"18px",order:"0","margin-top":"-1px"}}).component(),r=this._view.modelBuilder.flexContainer().withLayout({flexFlow:"row"}).component();r.addItem(t,{flex:"0 0 auto"}),r.addItem(n,{flex:"0 0 auto"}),r.addItem(i,{flex:"0 0 auto"});const o=e.modelBuilder.text().withProps({value:(0,u.localize)(a.MANUAL_DATA_COLLECTION_DESCRIPTION.key,a.MANUAL_DATA_COLLECTION_DESCRIPTION.value),ariaLabel:(0,u.localize)(a.MANUAL_DATA_COLLECTION_DESCRIPTION.key,a.MANUAL_DATA_COLLECTION_DESCRIPTION.value),CSSStyles:{"font-style":"normal","font-weight":"400","font-size":"13px","line-height":"18px",display:"flex","align-items":"center",order:"1","margin-top":"-25px"}}).component();return this._view.modelBuilder.flexContainer().withItems([r,o]).withLayout({height:68,width:280,flexFlow:"column"}).withProps({CSSStyles:{"margin-left":"8px",display:"flex","flex-direction":"column","align-items":"flex-start",padding:"12px 0 12px 12px",gap:"4px","box-shadow":"0px 2px 4px rgba(0, 0, 0, 0.14), 0px 0px 2px rgba(0, 0, 0, 0.12)","border-radius":"4px",border:"1px solid #CECECE"}}).component()}populateSKUs(e){return i(this,void 0,void 0,(function*(){const n=yield(0,d.getSkuRecommendation)(e,this._assessmentName,this.connectionProfile),i=n.body;t.positiveJustifications=i.positiveJustifications,this.populateRecommendationReason(),(0,_.ValidateNullSKU)(n.body)?(this._skuRecommendationType.value=(0,u.localize)(a.NO_SKU.key,a.NO_SKU.value),this._skuRecommendationValue.value=""):(this._skuRecommendationType.value=a.RECOMMENDED_TARGET_TYPE(i.serviceTier,i.computeName),this._skuRecommendationValue.value=a.RECOMMENDED_TARGET_VALUE(i.vcores,i.memoryInGiB,i.storageSizeInGiB)),t.getskuRecommendationType=this._skuRecommendationType.value,t.getskuRecommendationValue=this._skuRecommendationValue.value,this._headercontainer.removeItem(this._dataCollectionStatusComponent),this._headercontainer.removeItem(this._recommendedConfigurationComponent),this._recommendedConfigurationComponent=this._createRecommendedConfigurationTextContainer(this._view),this._headercontainer.addItem(this._recommendedConfigurationComponent,{flex:"0 0 auto"}),this.updateTimer(),this._headercontainer.addItem(this._dataCollectionStatusComponent,{flex:"0 0 auto"}),(0,p.sendPostgresAssessmentTelemetryEvent)("AutomaticCollectionSKURecommended",{assessmentId:t.assessmentId,instanceId:(0,T.createHash)("sha256").update(this.connectionProfile.serverName).digest("hex"),skuRecommendationType:t.getskuRecommendationType,skuRecommendationValue:t.getskuRecommendationValue})}))}populateNoSKUs(e){return i(this,void 0,void 0,(function*(){this._skuRecommendationType.value=(0,u.localize)(a.NO_SKU.key,a.NO_SKU.value),this._skuRecommendationValue.value="",t.getskuRecommendationType=this._skuRecommendationType.value,t.getskuRecommendationValue=this._skuRecommendationValue.value,this._headercontainer.removeItem(this._dataCollectionStatusComponent),this._headercontainer.removeItem(this._recommendedConfigurationComponent),this._recommendedConfigurationComponent=this._createRecommendedConfigurationTextContainer(this._view),this._skuConfidenceRating.updateCssStyles({display:"none"}),this._skuViewDetailsHyperLink.updateCssStyles({display:"none"}),this._collectionInProgress=!1,this._startCollectionTextButton.enabled=!0,this._stopCollectionTextButton.enabled=!1,this._statusText.value=(0,u.localize)(a.STOPPED.key,a.STOPPED.value),t.dataCollectionStatus=this._statusText.value,this._statusText.updateCssStyles({"margin-left":"5px"}),this._statusImage.iconPath=c.IconPathHelper.stopCollectionIconEnabled,this._cyclesRemaining.updateCssStyles({display:"none"}),this._timeRemainingText.updateCssStyles({display:"none"}),this._dividerCycletime.updateCssStyles({display:"none"}),this._totalTime.updateCssStyles({display:"none"}),this._autoCollectDataInfoIcon.updateCssStyles({display:"none"}),this._allCyclesCompletedText.updateCssStyles({display:"flex"}),this._allCyclesCompletedText.value=a.CYCLES_COMPLETED(this._cycleCount,this._totalCycleCount),this._headercontainer.addItem(this._recommendedConfigurationComponent,{flex:"0 0 auto"}),this._headercontainer.addItem(this._dataCollectionStatusComponent,{flex:"0 0 auto"}),t.dbSourceProperties={logicalCpuCount:"",memoryInMb:"",dataStorageInMb:"",dataFileIOPs:"",sourceConfiguredVCores:"",sourceConfiguredMemoryInMb:""},(0,p.sendPostgresAssessmentTelemetryEvent)("AutomaticCollectionNoSKURecommended",{assessmentId:t.assessmentId,instanceId:(0,T.createHash)("sha256").update(this.connectionProfile.serverName).digest("hex"),skuRecommendationType:t.getskuRecommendationType})}))}populateDbSourceProperties(e){return i(this,void 0,void 0,(function*(){const e=yield(0,d.getDbSourceProperties)(t.assessmentId,this._assessmentName,this.connectionProfile);t.dbSourceProperties=e.body,(0,p.sendPostgresAssessmentTelemetryEvent)("AutomaticCollectionSourceProperties",{assessmentId:t.assessmentId,instanceId:(0,T.createHash)("sha256").update(this.connectionProfile.serverName).digest("hex"),usedvCores:t.dbSourceProperties.logicalCpuCount,actualvCores:t.dbSourceProperties.sourceConfiguredVCores,usedMemoryMb:t.dbSourceProperties.memoryInMb,actualMemoryMb:t.dbSourceProperties.sourceConfiguredMemoryInMb,dataStorageMb:t.dbSourceProperties.dataStorageInMb,dataFileIops:t.dbSourceProperties.dataFileIOPs,scaleFactor:String(I.scaleFactor),TimeSelectedhours:String(R.perfDurationHours),TimeSelectedminutes:String(R.perfDurationMinutes),percentileUtilization:String(I.percentileUtilizationString)})}))}updateTimer(){return i(this,void 0,void 0,(function*(){this._minutes=10,this._seconds=0,this._cycleCount<this._totalCycleCount&&(this._cycleCount++,t.minutes=t.minutes+this._minutes,t.cycleCount=this._cycleCount),this._cyclesRemaining.value=a.CYCLES_COMPLETED(this._cycleCount,this._totalCycleCount)}))}updateTimeRemainingCounter(){return i(this,void 0,void 0,(function*(){0===this._seconds?(this._minutes--,this._seconds=59):this._seconds--,this._timeRemainingText.value=a.DATA_COLLECTION_TIMER(this._minutes,this._seconds),0===this._minutes&&0===this._seconds&&(this._minutes=10,this._seconds=0,this._cycleCount<this._totalCycleCount&&(this._cycleCount++,t.minutes=t.minutes+this._minutes,t.cycleCount=this._cycleCount),this._cyclesRemaining.value=a.CYCLES_COMPLETED(this._cycleCount,this._totalCycleCount)),this._cycleCount>=this._firstStarLowerlimit&&this._cycleCount<this._secondStarLowerlimit?(this._starRatingFirst.iconPath=c.IconPathHelper.starDark,t.confidenceRatingStarsCount=1):this._cycleCount>=this._secondStarLowerlimit&&this._cycleCount<this._thirdStarLowerlimit?(this._starRatingFirst.iconPath=c.IconPathHelper.starDark,this._starRatingSecond.iconPath=c.IconPathHelper.starDark,t.confidenceRatingStarsCount=2):this._cycleCount>=this._thirdStarLowerlimit&&this._cycleCount<this._fourthStarLowerlimit?(this._starRatingFirst.iconPath=c.IconPathHelper.starDark,this._starRatingSecond.iconPath=c.IconPathHelper.starDark,this._starRatingThird.iconPath=c.IconPathHelper.starDark,t.confidenceRatingStarsCount=3):this._cycleCount>=this._fourthStarLowerlimit&&this._cycleCount<this._fifthStarLowerlimit?(this._starRatingFirst.iconPath=c.IconPathHelper.starDark,this._starRatingSecond.iconPath=c.IconPathHelper.starDark,this._starRatingThird.iconPath=c.IconPathHelper.starDark,this._starRatingFourth.iconPath=c.IconPathHelper.starDark,t.confidenceRatingStarsCount=4):this._cycleCount>=this._fifthStarLowerlimit&&(this._starRatingFirst.iconPath=c.IconPathHelper.starDark,this._starRatingSecond.iconPath=c.IconPathHelper.starDark,this._starRatingThird.iconPath=c.IconPathHelper.starDark,this._starRatingFourth.iconPath=c.IconPathHelper.starDark,this._starRatingFifth.iconPath=c.IconPathHelper.starDark,t.confidenceRatingStarsCount=5),this._totalCycleCount===this._cycleCount&&1==this._collectionInProgress&&(this._statusText.value=(0,u.localize)(a.COMPLETED.key,a.COMPLETED.value),t.dataCollectionStatus=this._statusText.value,this._statusText.updateCssStyles({"margin-left":"5px"}),this._statusImage.iconPath=c.IconPathHelper.successStatus,this._cyclesRemaining.updateCssStyles({display:"none"}),this._timeRemainingText.updateCssStyles({display:"none"}),this._dividerCycletime.updateCssStyles({display:"none"}),this._totalTime.updateCssStyles({display:"none"}),this._autoCollectDataInfoIcon.updateCssStyles({display:"none"}),this._allCyclesCompletedText.updateCssStyles({display:"flex"}),this._allCyclesCompletedText.value=a.CYCLES_COMPLETED(this._cycleCount,this._totalCycleCount),this._startCollectionTextButton.enabled=!0,this._stopCollectionTextButton.enabled=!1,this._collectionInProgress=!1,(0,p.sendPostgresAssessmentActionEvent)(p.TelemetryViews.ViewAssessmentResultPage,p.TelemetryAction.CollectionCompleted,{assessmentId:t.assessmentId,instanceId:(0,T.createHash)("sha256").update(this.connectionProfile.serverName).digest("hex")},{}))}))}CancelAssessment(){return i(this,void 0,void 0,(function*(){(0,d.cancelAssessment)(t.assessmentId),o.window.showInformationMessage((0,u.localize)(a.ASSESSMENT_CANCELLED.key,a.ASSESSMENT_CANCELLED.value)),(0,p.sendPostgresAssessmentActionEvent)(p.TelemetryViews.ProgressAssessmentPage,p.TelemetryAction.CancelAssessment,{assessmentId:t.assessmentId,instanceId:(0,T.createHash)("sha256").update(this.connectionProfile.serverName).digest("hex")},{})}))}onPageEnter(e){return i(this,void 0,void 0,(function*(){this._rootContainer.clearItems(),(0,p.sendPostgresAssessmentActionEvent)(p.TelemetryViews.ViewAssessmentResultPage,p.TelemetryAction.StartAssessment,{assessmentId:t.assessmentId,instanceId:(0,T.createHash)("sha256").update(this.connectionProfile.serverName).digest("hex")},{}),this._rootContainer.addItem(this._assessmentInProgressComponent),this.wizard.cancelButton.secondary=!0,this.wizard.cancelButton.onClick((()=>i(this,void 0,void 0,(function*(){return this.CancelAssessment()})))),this.wizard.doneButton.enabled=!1;try{if(R.isAutomated){const e=1e3;this._minutes=10,t.minutes=0,this._seconds=0,this._cycleCount=0,t.confidenceRatingStarsCount=0,t.cycleCount=this._cycleCount,this._totalCycleCount=this.calculateTotalCycle(),this._cyclesRemaining.value=a.CYCLES_COMPLETED(this._cycleCount,this._totalCycleCount),clearInterval(this._autoRefreshHandle),this._autoRefreshHandle=setInterval((()=>i(this,void 0,void 0,(function*(){yield this.updateTimeRemainingCounter()}))),e)}if(this._collectionInProgress=!0,!1===(yield this.startAssessment(this))){(0,p.sendPostgresAssessmentActionEvent)(p.TelemetryViews.ViewAssessmentResultPage,p.TelemetryAction.FailedAssessment,{assessmentId:t.assessmentId,instanceId:(0,T.createHash)("sha256").update(this.connectionProfile.serverName).digest("hex")},{});const e=(yield(0,d.getAssessmentDetails)(t.assessmentId,this._assessmentName,this.connectionProfile)).body.assessmentProgress;throw this.wizard.customButtons[0].enabled=!1,e.forEach((e=>{var t,n,i,r;if(null!=e.errorInfo&&0!=(null===(t=e.errorInfo)||void 0===t?void 0:t.length)){const t=a.FAILED_MESSAGE(e.assessmentStage)+" "+(0,u.localize)(null!==(n=e.errorInfo[0].errorCode)&&void 0!==n?n:"",null!==(i=e.errorInfo[0].errorMessage)&&void 0!==i?i:"",...null!==(r=e.errorInfo[0].errorParameters)&&void 0!==r?r:[""]);throw(0,p.logError)(p.TelemetryViews.ViewAssessmentResultPage,p.TelemetryAction.FailedAssessment,t),new Error(t)}})),(0,p.logError)(p.TelemetryViews.ViewAssessmentResultPage,p.TelemetryAction.FailedAssessment,"Unknown Exception"),new Error("Assessment ran into an issue during execution. Please refer logs at: "+this._config.getDefaultPath())}(0,p.sendPostgresAssessmentActionEvent)(p.TelemetryViews.ViewAssessmentResultPage,p.TelemetryAction.SuccessfulAssessment,{assessmentId:t.assessmentId,instanceId:(0,T.createHash)("sha256").update(this.connectionProfile.serverName).digest("hex")},{}),this.wizard.customButtons[0].enabled=!0,yield this.initialize(),this._rootContainer.removeItem(this._assessmentInProgressComponent),this.wizard.doneButton.enabled=!0,this._headercontainer.removeItem(this._recommendedConfigurationComponent),this._headercontainer.removeItem(this._dataCollectionStatusComponent),R.isAutomated?this._recommendedConfigurationComponent=this._createRecommendedConfigurationLoaderTextContainer(this._view):this._recommendedConfigurationComponent=this._createRecommendedConfigurationTextContainer(this._view),R.isAutomated?this._dataCollectionStatusComponent=this._createdataCollectionStatusTextContainer(this._view):this._dataCollectionStatusComponent=this._createdataCollectionStatusManualTextContainer(this._view),this._headercontainer.addItem(this._recommendedConfigurationComponent,{flex:"0 0 auto"}),this._headercontainer.addItem(this._dataCollectionStatusComponent,{flex:"0 0 auto"}),R.isAutomated||(yield this._skuConfidenceRating.updateCssStyles({display:"none"})),this._rootContainer.addItem(this._headercontainer,{flex:"0 0 auto",CSSStyles:{height:"100px"}}),this._rootContainer.addItem(this._footercontainer,{flex:"0 0 auto",CSSStyles:{height:"calc(100% - 100px)"}}),this._startCollectionTextButton.enabled=!1,this.instanceTableSelectAction(),this.serverSummaryHeadingButtonAction(),this._serverSummaryHeadingButton.focus(),this._totalTime.value=a.TOTAL_TIME_DURATION(R.perfDurationHours,R.perfDurationMinutes),(0,p.sendPostgresAssessmentTelemetryEvent)("MigrationReadinessOfAssessedDatabase",{assessmentId:t.assessmentId,instanceId:(0,T.createHash)("sha256").update(this.connectionProfile.serverName).digest("hex"),ReadyDbCount:String(t.dbReadyCount),NotReadyDbCount:String(t.dbNotReadyCount),ReadyWithWarningDbCount:String(t.databaseReadinessMap.size-t.dbReadyCount-t.dbNotReadyCount)}),this.wizard.doneButton.onClick((()=>i(this,void 0,void 0,(function*(){R.isAutomated&&this._totalCycleCount>=this._cycleCount&&this._collectionInProgress&&((0,d.cancelAssessment)(t.assessmentId),this._collectionInProgress=!1,o.window.showInformationMessage((0,u.localize)(a.COLLECTION_CANCELLED.key,a.COLLECTION_CANCELLED.value)),(0,p.sendPostgresAssessmentActionEvent)(p.TelemetryViews.ViewAssessmentResultPage,p.TelemetryAction.CollectionCancelled,{assessmentId:t.assessmentId,instanceId:(0,T.createHash)("sha256").update(this.connectionProfile.serverName).digest("hex")},{}),(0,p.sendPostgresAssessmentTelemetryEvent)("CollectionCancelledByCloseButton",{assessmentId:t.assessmentId,instanceId:(0,T.createHash)("sha256").update(this.connectionProfile.serverName).digest("hex"),cyclesCompleted:String(t.cycleCount),totalCycleCount:String(t.totalCycle)}))})))),this.wizard.backButton.onClick((()=>i(this,void 0,void 0,(function*(){R.isAutomated&&this._totalCycleCount>=this._cycleCount&&this._collectionInProgress&&((0,d.cancelAssessment)(t.assessmentId),this._collectionInProgress=!1,o.window.showInformationMessage((0,u.localize)(a.COLLECTION_CANCELLED.key,a.COLLECTION_CANCELLED.value)),(0,p.sendPostgresAssessmentActionEvent)(p.TelemetryViews.ViewAssessmentResultPage,p.TelemetryAction.CollectionCancelled,{assessmentId:t.assessmentId,instanceId:(0,T.createHash)("sha256").update(this.connectionProfile.serverName).digest("hex")},{}),(0,p.sendPostgresAssessmentTelemetryEvent)("CollectionCancelledByBackButton",{assessmentId:t.assessmentId,instanceId:(0,T.createHash)("sha256").update(this.connectionProfile.serverName).digest("hex"),cyclesCompleted:String(t.cycleCount),totalCycleCount:String(t.totalCycle)}))}))))}catch(e){this._assessmentInProgressComponent.clearItems(),this._assessmentInProgressComponent.addItem(yield this.createAssessmentInfo(),{flex:"0 0 auto"}),this._assessmentInfo.value=String(e),this.wizard.doneButton.enabled=!0}(0,p.sendPostgresAssessmentViewEvent)(p.TelemetryViews.ViewAssessmentResultPage,{instanceId:(0,T.createHash)("sha256").update(this.connectionProfile.serverName).digest("hex")},{})}))}onPageLeave(e){return i(this,void 0,void 0,(function*(){throw new Error("Method not implemented.")}))}handleStateChange(e){throw new Error("Method not implemented.")}convertToGB(e){return e?(Number(e)/1024).toFixed(2):""}getReadyWidth(){return t.dbReadyCount/t.databaseReadinessMap.size*300+15}getNotReadyWidth(){return t.dbNotReadyCount/t.databaseReadinessMap.size*300+15}getReadyWithConditionWidth(){return(t.databaseReadinessMap.size-(t.dbReadyCount+t.dbNotReadyCount))/t.databaseReadinessMap.size*300+15}calculateTotalCycle(){const e=6*R.perfDurationHours,n=R.perfDurationMinutes/10;return t.totalCycle=e+n,t.totalCycle}}t.ViewAssessmentResultsPage=L},8657:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.WizardController=t.hostname=t.WIZARD_INPUT_COMPONENT_WIDTH=void 0;const r=n(9690),o=n(4665),s=n(5482),a=n(9132),l=n(2568),c=n(9444),u=n(9658),d=n(8874),p=n(6113),h=n(6282);t.WIZARD_INPUT_COMPONENT_WIDTH="600px",t.hostname="",t.WizardController=class{constructor(e,t){this.extensionContext=e,this._model=t,this._disposables=[]}openWizard(e){var t;return i(this,void 0,void 0,(function*(){(yield null===(t=o.extensions.getExtension("Microsoft.net-6-runtime"))||void 0===t?void 0:t.activate())&&(this.extensionContext.subscriptions.push(this._model),yield this.createWizard(this._model))}))}createWizard(e){return i(this,void 0,void 0,(function*(){this._hostName=(yield e.getSourceConnectionProfile()).serverName,this._connectionProfile=yield e.getSourceConnectionProfile(),t.hostname=this._hostName;const n=yield(0,h.getServerPort)(this._connectionProfile);this._wizardObject=r.window.createWizard(c.WIZARD_TITLE(this._hostName,n[0].options.name),"MigrationWizard","wide"),this._saveButton=r.window.createButton((0,d.localize)(c.SAVE_ASSESSMENT_REPORT.key,c.SAVE_ASSESSMENT_REPORT.value),"left"),this._wizardObject.customButtons=[this._saveButton],this._wizardObject.customButtons[0].hidden=!0,this._wizardObject.generateScriptButton.enabled=!1,this._wizardObject.generateScriptButton.hidden=!0,this._wizardObject.nextButton.enabled=!1,this._wizardObject.nextButton.position="left",this._wizardObject.doneButton.position="left",this._wizardObject.backButton.position="left",this._wizardObject.cancelButton.position="left",this._wizardObject.customButtons[0].position="right";const o=new s.DatabaseSelectorPage(this._wizardObject,e,this._connectionProfile),m=new a.AssessmentParameterPage(this._wizardObject,e,this._connectionProfile),f=new l.ViewAssessmentResultsPage(this._wizardObject,e,"AssessmentName",this._connectionProfile),g=[o,m,f];this._wizardObject.pages=g.map((e=>e.getwizardPage()));const v=[];v.push(...g.map((e=>e.registerWizardContent()))),v.push(this._wizardObject.open()),(this._model.retryAssessment||this._model.resumeAssessment)&&(this._model.refreshDatabaseBackupPage=!0,v.push(this._wizardObject.setCurrentPage(this._model.savedInfo.closedPage))),this._model.extensionContext.subscriptions.push(this._wizardObject.onPageChanged((e=>i(this,void 0,void 0,(function*(){var t,n;const i=e.newPage,r=e.lastPage;this.sendPageButtonClickEvent(e).catch((e=>(0,u.logError)(u.TelemetryViews.AssessmentWizardController,"AssessmentWizardLaunch","Unknown Exception"))),yield null===(t=g[r])||void 0===t?void 0:t.onPageLeave(e),yield null===(n=g[i])||void 0===n?void 0:n.onPageEnter(e),g[i]===f?(this._wizardObject.cancelButton.hidden=!0,this._wizardObject.customButtons[0].hidden=!1):(this._wizardObject.cancelButton.hidden=!1,this._wizardObject.customButtons[0].hidden=!0),g[i]===m||g[i]===f?this._wizardObject.nextButton.label=(0,d.localize)(c.ASSESS.key,c.ASSESS.value):this._wizardObject.nextButton.label=(0,d.localize)(c.NEXT.key,c.NEXT.value),this._wizardObject.backButton.label=(0,d.localize)(c.WIZARD_BACK.key,c.WIZARD_BACK.value)}))))),this._wizardObject.registerNavigationValidator((e=>i(this,void 0,void 0,(function*(){var t,n,i,r;const o=e.lastPage,s=null===(n=yield null===(t=g[o])||void 0===t?void 0:t.canLeave())||void 0===n||n;return(null===(r=yield null===(i=g[o])||void 0===i?void 0:i.canEnter())||void 0===r||r)&&s})))),yield Promise.all(v),this._model.extensionContext.subscriptions.push(this._wizardObject.onPageChanged((e=>i(this,void 0,void 0,(function*(){yield g[0].onPageEnter(e)}))))),this._disposables.push(this._wizardObject.cancelButton.onClick((e=>{(0,u.sendPostgresAssessmentViewEvent)(u.TelemetryViews.DashboardTab,{instanceId:(0,p.createHash)("sha256").update(this._connectionProfile.serverName).digest("hex")},{})}))),this._disposables.push(this._wizardObject.backButton.onClick((e=>{this._wizardObject.cancelButton.hidden=!1,this._wizardObject.customButtons[0].hidden=!0}))),this._wizardObject.doneButton.label="Close",this._disposables.push(this._wizardObject.doneButton.onClick((e=>i(this,void 0,void 0,(function*(){(0,u.sendPostgresAssessmentActionEvent)(u.TelemetryViews.AssessmentWizardController,u.TelemetryAction.Close,{instanceId:(0,p.createHash)("sha256").update(this._connectionProfile.serverName).digest("hex"),buttonPressed:u.TelemetryAction.Close,pageTitle:this._wizardObject.pages[this._wizardObject.currentPage].title},{}),(0,u.sendPostgresAssessmentViewEvent)(u.TelemetryViews.DashboardTab,{instanceId:(0,p.createHash)("sha256").update(this._connectionProfile.serverName).digest("hex")},{})}))))),this._disposables.push(this._wizardObject.customButtons[0].onClick((e=>i(this,void 0,void 0,(function*(){yield f.saveReport(),(0,u.sendPostgresAssessmentActionEvent)(u.TelemetryViews.ViewAssessmentResultPage,u.TelemetryAction.SaveAssessmentReport,{instanceId:(0,p.createHash)("sha256").update(this._connectionProfile.serverName).digest("hex"),pageTitle:this._wizardObject.pages[this._wizardObject.currentPage].title},{})})))))}))}sendPageButtonClickEvent(e){var t;return i(this,void 0,void 0,(function*(){e.newPage>e.lastPage?u.TelemetryAction.Next:u.TelemetryAction.Back,null===(t=this._wizardObject.pages[e.lastPage])||void 0===t||t.title}))}}},2277:(e,t,n)=>{"use strict";n.r(t),n.d(t,{NIL:()=>T,parse:()=>v,stringify:()=>d,v1:()=>g,v3:()=>y,v4:()=>S,v5:()=>E,validate:()=>c,version:()=>C});var i=n(6113),r=n.n(i);const o=new Uint8Array(256);let s=o.length;function a(){return s>o.length-16&&(r().randomFillSync(o),s=0),o.slice(s,s+=16)}const l=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,c=function(e){return"string"==typeof e&&l.test(e)},u=[];for(let e=0;e<256;++e)u.push((e+256).toString(16).substr(1));const d=function(e,t=0){const n=(u[e[t+0]]+u[e[t+1]]+u[e[t+2]]+u[e[t+3]]+"-"+u[e[t+4]]+u[e[t+5]]+"-"+u[e[t+6]]+u[e[t+7]]+"-"+u[e[t+8]]+u[e[t+9]]+"-"+u[e[t+10]]+u[e[t+11]]+u[e[t+12]]+u[e[t+13]]+u[e[t+14]]+u[e[t+15]]).toLowerCase();if(!c(n))throw TypeError("Stringified UUID is invalid");return n};let p,h,m=0,f=0;const g=function(e,t,n){let i=t&&n||0;const r=t||new Array(16);let o=(e=e||{}).node||p,s=void 0!==e.clockseq?e.clockseq:h;if(null==o||null==s){const t=e.random||(e.rng||a)();null==o&&(o=p=[1|t[0],t[1],t[2],t[3],t[4],t[5]]),null==s&&(s=h=16383&(t[6]<<8|t[7]))}let l=void 0!==e.msecs?e.msecs:Date.now(),c=void 0!==e.nsecs?e.nsecs:f+1;const u=l-m+(c-f)/1e4;if(u<0&&void 0===e.clockseq&&(s=s+1&16383),(u<0||l>m)&&void 0===e.nsecs&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");m=l,f=c,h=s,l+=122192928e5;const g=(1e4*(268435455&l)+c)%4294967296;r[i++]=g>>>24&255,r[i++]=g>>>16&255,r[i++]=g>>>8&255,r[i++]=255&g;const v=l/4294967296*1e4&268435455;r[i++]=v>>>8&255,r[i++]=255&v,r[i++]=v>>>24&15|16,r[i++]=v>>>16&255,r[i++]=s>>>8|128,r[i++]=255&s;for(let e=0;e<6;++e)r[i+e]=o[e];return t||d(r)},v=function(e){if(!c(e))throw TypeError("Invalid UUID");let t;const n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=255&t,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=255&t,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=255&t,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=255&t,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=255&t,n};function _(e,t,n){function i(e,i,r,o){if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));const t=[];for(let n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}(e)),"string"==typeof i&&(i=v(i)),16!==i.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let s=new Uint8Array(16+e.length);if(s.set(i),s.set(e,i.length),s=n(s),s[6]=15&s[6]|t,s[8]=63&s[8]|128,r){o=o||0;for(let e=0;e<16;++e)r[o+e]=s[e];return r}return d(s)}try{i.name=e}catch(e){}return i.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",i.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",i}const y=_("v3",48,(function(e){return Array.isArray(e)?e=Buffer.from(e):"string"==typeof e&&(e=Buffer.from(e,"utf8")),r().createHash("md5").update(e).digest()})),S=function(e,t,n){const i=(e=e||{}).random||(e.rng||a)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=i[e];return t}return d(i)},E=_("v5",80,(function(e){return Array.isArray(e)?e=Buffer.from(e):"string"==typeof e&&(e=Buffer.from(e,"utf8")),r().createHash("sha1").update(e).digest()})),T="00000000-0000-0000-0000-000000000000",C=function(e){if(!c(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}},3126:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(3680),r=n(2593);var o;!function(e){e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:i.Event.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:i.Event.None}),e.is=function(t){let n=t;return n&&(n===e.None||n===e.Cancelled||r.boolean(n.isCancellationRequested)&&!!n.onCancellationRequested)}}(o=t.CancellationToken||(t.CancellationToken={}));const s=Object.freeze((function(e,t){let n=setTimeout(e.bind(t),0);return{dispose(){clearTimeout(n)}}}));class a{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this._emitter=void 0))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?s:(this._emitter||(this._emitter=new i.Emitter),this._emitter.event)}}t.CancellationTokenSource=class{get token(){return this._token||(this._token=new a),this._token}cancel(){this._token?this._token.cancel():this._token=o.Cancelled}dispose(){this.cancel()}}},3680:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(t.Disposable||(t.Disposable={})).create=function(e){return{dispose:e}},function(e){const t={dispose(){}};e.None=function(){return t}}(t.Event||(t.Event={}));class n{add(e,t=null,n){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(t),Array.isArray(n)&&n.push({dispose:()=>this.remove(e,t)})}remove(e,t=null){if(this._callbacks){for(var n=!1,i=0,r=this._callbacks.length;i<r;i++)if(this._callbacks[i]===e){if(this._contexts[i]===t)return this._callbacks.splice(i,1),void this._contexts.splice(i,1);n=!0}if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}}invoke(...e){if(!this._callbacks)return[];for(var t=[],n=this._callbacks.slice(0),i=this._contexts.slice(0),r=0,o=n.length;r<o;r++)try{t.push(n[r].apply(i[r],e))}catch(e){console.error(e)}return t}isEmpty(){return!this._callbacks||0===this._callbacks.length}dispose(){this._callbacks=void 0,this._contexts=void 0}}class i{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,t,r)=>{let o;return this._callbacks||(this._callbacks=new n),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,t),o={dispose:()=>{this._callbacks.remove(e,t),o.dispose=i._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this)}},Array.isArray(r)&&r.push(o),o}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}}i._noop=function(){},t.Emitter=i},2593:(e,t)=>{"use strict";function n(e){return"string"==typeof e||e instanceof String}function i(e){return Array.isArray(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.boolean=function(e){return!0===e||!1===e},t.string=n,t.number=function(e){return"number"==typeof e||e instanceof Number},t.error=function(e){return e instanceof Error},t.func=function(e){return"function"==typeof e},t.array=i,t.stringArray=function(e){return i(e)&&e.every((e=>n(e)))}},397:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.None=0,e.First=1,e.Last=2}(n=t.Touch||(t.Touch={})),t.LinkedMap=class{constructor(){this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}has(e){return this._map.has(e)}get(e){const t=this._map.get(e);if(t)return t.value}set(e,t,i=n.None){let r=this._map.get(e);if(r)r.value=t,i!==n.None&&this.touch(r,i);else{switch(r={key:e,value:t,next:void 0,previous:void 0},i){case n.None:this.addItemLast(r);break;case n.First:this.addItemFirst(r);break;case n.Last:default:this.addItemLast(r)}this._map.set(e,r),this._size++}}delete(e){const t=this._map.get(e);return!!t&&(this._map.delete(e),this.removeItem(t),this._size--,!0)}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,t){let n=this._head;for(;n;)t?e.bind(t)(n.value,n.key,this):e(n.value,n.key,this),n=n.next}forEachReverse(e,t){let n=this._tail;for(;n;)t?e.bind(t)(n.value,n.key,this):e(n.value,n.key,this),n=n.previous}values(){let e=[],t=this._head;for(;t;)e.push(t.value),t=t.next;return e}keys(){let e=[],t=this._head;for(;t;)e.push(t.key),t=t.next;return e}addItemFirst(e){if(this._head||this._tail){if(!this._head)throw new Error("Invalid list");e.next=this._head,this._head.previous=e}else this._tail=e;this._head=e}addItemLast(e){if(this._head||this._tail){if(!this._tail)throw new Error("Invalid list");e.previous=this._tail,this._tail.next=e}else this._head=e;this._tail=e}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head)this._head=e.next;else if(e===this._tail)this._tail=e.previous;else{const t=e.next,n=e.previous;if(!t||!n)throw new Error("Invalid list");t.previous=n,n.next=t}}touch(e,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(t===n.First||t===n.Last)if(t===n.First){if(e===this._head)return;const t=e.next,n=e.previous;e===this._tail?(n.next=void 0,this._tail=n):(t.previous=n,n.next=t),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e}else if(t===n.Last){if(e===this._tail)return;const t=e.next,n=e.previous;e===this._head?(t.previous=void 0,this._head=t):(t.previous=n,n.next=t),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e}}}},8231:(e,t,n)=>{"use strict";function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0});const r=n(2593),o=n(3234);t.RequestType=o.RequestType,t.RequestType0=o.RequestType0,t.RequestType1=o.RequestType1,t.RequestType2=o.RequestType2,t.RequestType3=o.RequestType3,t.RequestType4=o.RequestType4,t.RequestType5=o.RequestType5,t.RequestType6=o.RequestType6,t.RequestType7=o.RequestType7,t.RequestType8=o.RequestType8,t.RequestType9=o.RequestType9,t.ResponseError=o.ResponseError,t.ErrorCodes=o.ErrorCodes,t.NotificationType=o.NotificationType,t.NotificationType0=o.NotificationType0,t.NotificationType1=o.NotificationType1,t.NotificationType2=o.NotificationType2,t.NotificationType3=o.NotificationType3,t.NotificationType4=o.NotificationType4,t.NotificationType5=o.NotificationType5,t.NotificationType6=o.NotificationType6,t.NotificationType7=o.NotificationType7,t.NotificationType8=o.NotificationType8,t.NotificationType9=o.NotificationType9;const s=n(6386);t.MessageReader=s.MessageReader,t.StreamMessageReader=s.StreamMessageReader,t.IPCMessageReader=s.IPCMessageReader,t.SocketMessageReader=s.SocketMessageReader;const a=n(9725);t.MessageWriter=a.MessageWriter,t.StreamMessageWriter=a.StreamMessageWriter,t.IPCMessageWriter=a.IPCMessageWriter,t.SocketMessageWriter=a.SocketMessageWriter;const l=n(3680);t.Disposable=l.Disposable,t.Event=l.Event,t.Emitter=l.Emitter;const c=n(3126);t.CancellationTokenSource=c.CancellationTokenSource,t.CancellationToken=c.CancellationToken;const u=n(397);var d,p,h,m,f,g,v;i(n(3377)),i(n(1609)),function(e){e.type=new o.NotificationType("$/cancelRequest")}(d||(d={})),t.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}}),function(e){e[e.Off=0]="Off",e[e.Messages=1]="Messages",e[e.Verbose=2]="Verbose"}(p=t.Trace||(t.Trace={})),function(e){e.fromString=function(t){switch(t=t.toLowerCase()){case"off":default:return e.Off;case"messages":return e.Messages;case"verbose":return e.Verbose}},e.toString=function(t){switch(t){case e.Off:return"off";case e.Messages:return"messages";case e.Verbose:return"verbose";default:return"off"}}}(p=t.Trace||(t.Trace={})),function(e){e.Text="text",e.JSON="json"}(t.TraceFormat||(t.TraceFormat={})),function(e){e.fromString=function(t){return"json"===(t=t.toLowerCase())?e.JSON:e.Text}}(h=t.TraceFormat||(t.TraceFormat={})),function(e){e.type=new o.NotificationType("$/setTraceNotification")}(m=t.SetTraceNotification||(t.SetTraceNotification={})),function(e){e.type=new o.NotificationType("$/logTraceNotification")}(f=t.LogTraceNotification||(t.LogTraceNotification={})),function(e){e[e.Closed=1]="Closed",e[e.Disposed=2]="Disposed",e[e.AlreadyListening=3]="AlreadyListening"}(g=t.ConnectionErrors||(t.ConnectionErrors={}));class _ extends Error{constructor(e,t){super(t),this.code=e,Object.setPrototypeOf(this,_.prototype)}}function y(e,t,n,i){let s=0,a=0,y=0;const S="2.0";let E,T,C,b,I=Object.create(null),R=Object.create(null),A=new u.LinkedMap,O=Object.create(null),w=Object.create(null),x=p.Off,P=h.Text,N=v.New,D=new l.Emitter,M=new l.Emitter,k=new l.Emitter,L=new l.Emitter;function B(e){return"req-"+e.toString()}function q(e){}function F(){return N===v.Listening}function U(){return N===v.Closed}function j(){return N===v.Disposed}function z(){N!==v.New&&N!==v.Listening||(N=v.Closed,M.fire(void 0))}function H(){C||0===A.size||(C=setImmediate((()=>{C=void 0,function(){if(0===A.size)return;let e=A.shift();try{o.isRequestMessage(e)?function(e){if(j())return;function n(n,i,r){let s={jsonrpc:S,id:e.id};n instanceof o.ResponseError?s.error=n.toJson():s.result=void 0===n?null:n,G(s,i,r),t.write(s)}function i(n,i,r){let o={jsonrpc:S,id:e.id,error:n.toJson()};G(o,i,r),t.write(o)}!function(e){if(x!==p.Off&&b)if(P===h.Text){let t;x===p.Verbose&&e.params&&(t=`Params: ${JSON.stringify(e.params,null,4)}\n\n`),b.log(`Received request '${e.method} - (${e.id})'.`,t)}else W("receive-request",e)}(e);let s,a,l=I[e.method];l&&(s=l.type,a=l.handler);let u=Date.now();if(a||E){let l=new c.CancellationTokenSource,d=String(e.id);w[d]=l;try{let c;c=void 0===e.params||void 0!==s&&0===s.numberOfParams?a?a(l.token):E(e.method,l.token):r.array(e.params)&&(void 0===s||s.numberOfParams>1)?a?a(...e.params,l.token):E(e.method,...e.params,l.token):a?a(e.params,l.token):E(e.method,e.params,l.token);let p=c;c?p.then?p.then((t=>{delete w[d],n(t,e.method,u)}),(t=>{delete w[d],t instanceof o.ResponseError?i(t,e.method,u):t&&r.string(t.message)?i(new o.ResponseError(o.ErrorCodes.InternalError,`Request ${e.method} failed with message: ${t.message}`),e.method,u):i(new o.ResponseError(o.ErrorCodes.InternalError,`Request ${e.method} failed unexpectedly without providing any details.`),e.method,u)})):(delete w[d],n(c,e.method,u)):(delete w[d],function(n,i,r){void 0===n&&(n=null);let o={jsonrpc:S,id:e.id,result:n};G(o,i,r),t.write(o)}(c,e.method,u))}catch(t){delete w[d],t instanceof o.ResponseError?n(t,e.method,u):t&&r.string(t.message)?i(new o.ResponseError(o.ErrorCodes.InternalError,`Request ${e.method} failed with message: ${t.message}`),e.method,u):i(new o.ResponseError(o.ErrorCodes.InternalError,`Request ${e.method} failed unexpectedly without providing any details.`),e.method,u)}}else i(new o.ResponseError(o.ErrorCodes.MethodNotFound,`Unhandled method ${e.method}`),e.method,u)}(e):o.isNotificationMessage(e)?function(e){if(j())return;let t,i;if(e.method===d.type.method)i=e=>{let t=e.id,n=w[String(t)];n&&n.cancel()};else{let n=R[e.method];n&&(i=n.handler,t=n.type)}if(i||T)try{!function(e){if(x!==p.Off&&b&&e.method!==f.type.method)if(P===h.Text){let t;x===p.Verbose&&(t=e.params?`Params: ${JSON.stringify(e.params,null,4)}\n\n`:"No parameters provided.\n\n"),b.log(`Received notification '${e.method}'.`,t)}else W("receive-notification",e)}(e),void 0===e.params||void 0!==t&&0===t.numberOfParams?i?i():T(e.method):r.array(e.params)&&(void 0===t||t.numberOfParams>1)?i?i(...e.params):T(e.method,...e.params):i?i(e.params):T(e.method,e.params)}catch(t){t.message?n.error(`Notification handler '${e.method}' failed with message: ${t.message}`):n.error(`Notification handler '${e.method}' failed unexpectedly.`)}else k.fire(e)}(e):o.isResponseMessage(e)?function(e){if(!j())if(null===e.id)e.error?n.error(`Received response message without id: Error is: \n${JSON.stringify(e.error,void 0,4)}`):n.error("Received response message without id. No further error information provided.");else{let t=String(e.id),i=O[t];if(function(e,t){if(x!==p.Off&&b)if(P===h.Text){let n;if(x===p.Verbose&&(e.error&&e.error.data?n=`Error data: ${JSON.stringify(e.error.data,null,4)}\n\n`:e.result?n=`Result: ${JSON.stringify(e.result,null,4)}\n\n`:void 0===e.error&&(n="No result returned.\n\n")),t){let i=e.error?` Request failed: ${e.error.message} (${e.error.code}).`:"";b.log(`Received response '${t.method} - (${e.id})' in ${Date.now()-t.timerStart}ms.${i}`,n)}else b.log(`Received response ${e.id} without active response promise.`,n)}else W("receive-response",e)}(e,i),i){delete O[t];try{if(e.error){let t=e.error;i.reject(new o.ResponseError(t.code,t.message,t.data))}else{if(void 0===e.result)throw new Error("Should never happen.");i.resolve(e.result)}}catch(e){e.message?n.error(`Response handler '${i.method}' failed with message: ${e.message}`):n.error(`Response handler '${i.method}' failed unexpectedly.`)}}}}(e):function(e){if(!e)return void n.error("Received empty message.");n.error(`Received message which is neither a response nor a notification message:\n${JSON.stringify(e,null,4)}`);let t=e;if(r.string(t.id)||r.number(t.id)){let e=String(t.id),n=O[e];n&&n.reject(new Error("The received response has neither a result nor an error property."))}}(e)}finally{H()}}()})))}e.onClose(z),e.onError((function(e){D.fire([e,void 0,void 0])})),t.onClose(z),t.onError((function(e){D.fire(e)}));let V=e=>{try{if(o.isNotificationMessage(e)&&e.method===d.type.method){let n=B(e.params.id),r=A.get(n);if(o.isRequestMessage(r)){let o=i&&i.cancelUndispatched?i.cancelUndispatched(r,q):void 0;if(o&&(void 0!==o.error||void 0!==o.result))return A.delete(n),o.id=r.id,G(o,e.method,Date.now()),void t.write(o)}}!function(e,t){var n;o.isRequestMessage(t)?e.set(B(t.id),t):o.isResponseMessage(t)?e.set(null===(n=t.id)?"res-unknown-"+(++y).toString():"res-"+n.toString(),t):e.set("not-"+(++a).toString(),t)}(A,e)}finally{H()}};function G(e,t,n){if(x!==p.Off&&b)if(P===h.Text){let i;x===p.Verbose&&(e.error&&e.error.data?i=`Error data: ${JSON.stringify(e.error.data,null,4)}\n\n`:e.result?i=`Result: ${JSON.stringify(e.result,null,4)}\n\n`:void 0===e.error&&(i="No result returned.\n\n")),b.log(`Sending response '${t} - (${e.id})'. Processing request took ${Date.now()-n}ms`,i)}else W("send-response",e)}function W(e,t){if(!b||x===p.Off)return;const n={isLSPMessage:!0,type:e,message:t,timestamp:Date.now()};b.log(n)}function $(){if(U())throw new _(g.Closed,"Connection is closed.");if(j())throw new _(g.Disposed,"Connection is disposed.")}function K(e){return void 0===e?null:e}function X(e,t){let n,i=e.numberOfParams;switch(i){case 0:n=null;break;case 1:n=K(t[0]);break;default:n=[];for(let e=0;e<t.length&&e<i;e++)n.push(K(t[e]));if(t.length<i)for(let e=t.length;e<i;e++)n.push(null)}return n}let Y={sendNotification:(e,...n)=>{let i,o;if($(),r.string(e))switch(i=e,n.length){case 0:o=null;break;case 1:o=n[0];break;default:o=n}else i=e.method,o=X(e,n);let s={jsonrpc:S,method:i,params:o};!function(e){if(x!==p.Off&&b)if(P===h.Text){let t;x===p.Verbose&&(t=e.params?`Params: ${JSON.stringify(e.params,null,4)}\n\n`:"No parameters provided.\n\n"),b.log(`Sending notification '${e.method}'.`,t)}else W("send-notification",e)}(s),t.write(s)},onNotification:(e,t)=>{$(),r.func(e)?T=e:t&&(r.string(e)?R[e]={type:void 0,handler:t}:R[e.method]={type:e,handler:t})},sendRequest:(e,...n)=>{let i,a,l;if($(),function(){if(!F())throw new Error("Call listen() first.")}(),r.string(e))switch(i=e,n.length){case 0:a=null;break;case 1:c.CancellationToken.is(n[0])?(a=null,l=n[0]):a=K(n[0]);break;default:const e=n.length-1;c.CancellationToken.is(n[e])?(l=n[e],a=2===n.length?K(n[0]):n.slice(0,e).map((e=>K(e)))):a=n.map((e=>K(e)))}else{i=e.method,a=X(e,n);let t=e.numberOfParams;l=c.CancellationToken.is(n[t])?n[t]:void 0}let u=s++,m=new Promise(((e,n)=>{let r={jsonrpc:S,id:u,method:i,params:a},s={method:i,timerStart:Date.now(),resolve:e,reject:n};!function(e){if(x!==p.Off&&b)if(P===h.Text){let t;x===p.Verbose&&e.params&&(t=`Params: ${JSON.stringify(e.params,null,4)}\n\n`),b.log(`Sending request '${e.method} - (${e.id})'.`,t)}else W("send-request",e)}(r);try{t.write(r)}catch(e){s.reject(new o.ResponseError(o.ErrorCodes.MessageWriteError,e.message?e.message:"Unknown reason")),s=null}s&&(O[String(u)]=s)}));return l&&l.onCancellationRequested((()=>{Y.sendNotification(d.type,{id:u})})),m},onRequest:(e,t)=>{$(),r.func(e)?E=e:t&&(r.string(e)?I[e]={type:void 0,handler:t}:I[e.method]={type:e,handler:t})},trace:(e,t,n)=>{let i=!1,o=h.Text;void 0!==n&&(r.boolean(n)?i=n:(i=n.sendNotification||!1,o=n.traceFormat||h.Text)),x=e,P=o,b=x===p.Off?void 0:t,!i||U()||j()||Y.sendNotification(m.type,{value:p.toString(e)})},onError:D.event,onClose:M.event,onUnhandledNotification:k.event,onDispose:L.event,dispose:()=>{if(j())return;N=v.Disposed,L.fire(void 0);let n=new Error("Connection got disposed.");Object.keys(O).forEach((e=>{O[e].reject(n)})),O=Object.create(null),w=Object.create(null),A=new u.LinkedMap,r.func(t.dispose)&&t.dispose(),r.func(e.dispose)&&e.dispose()},listen:()=>{$(),function(){if(F())throw new _(g.AlreadyListening,"Connection is already listening")}(),N=v.Listening,e.listen(V)},inspect:()=>{console.log("inspect")}};return Y.onNotification(f.type,(e=>{x!==p.Off&&b&&b.log(e.message,x===p.Verbose?e.verbose:void 0)})),Y}t.ConnectionError=_,(t.ConnectionStrategy||(t.ConnectionStrategy={})).is=function(e){let t=e;return t&&r.func(t.cancelUndispatched)},function(e){e[e.New=1]="New",e[e.Listening=2]="Listening",e[e.Closed=3]="Closed",e[e.Disposed=4]="Disposed"}(v||(v={})),t.createMessageConnection=function(e,n,i,r){i||(i=t.NullLogger);let o=void 0!==(l=e).listen&&void 0===l.read?e:new s.StreamMessageReader(e);var l;let c=function(e){return void 0!==e.write&&void 0===e.end}(n)?n:new a.StreamMessageWriter(n);return y(o,c,i,r)}},6386:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(3680),r=n(2593);let o=8192,s=Buffer.from("\r","ascii")[0],a=Buffer.from("\n","ascii")[0];class l{constructor(e="utf8"){this.encoding=e,this.index=0,this.buffer=Buffer.allocUnsafe(o)}append(e){var t=e;if("string"==typeof e){var n=e,i=Buffer.byteLength(n,this.encoding);(t=Buffer.allocUnsafe(i)).write(n,0,i,this.encoding)}if(this.buffer.length-this.index>=t.length)t.copy(this.buffer,this.index,0,t.length);else{var r=(Math.ceil((this.index+t.length)/o)+1)*o;0===this.index?(this.buffer=Buffer.allocUnsafe(r),t.copy(this.buffer,0,0,t.length)):this.buffer=Buffer.concat([this.buffer.slice(0,this.index),t],r)}this.index+=t.length}tryReadHeaders(){let e,t=0;for(;t+3<this.index&&(this.buffer[t]!==s||this.buffer[t+1]!==a||this.buffer[t+2]!==s||this.buffer[t+3]!==a);)t++;if(t+3>=this.index)return e;e=Object.create(null),this.buffer.toString("ascii",0,t).split("\r\n").forEach((t=>{let n=t.indexOf(":");if(-1===n)throw new Error("Message header must separate key and value using :");let i=t.substr(0,n),r=t.substr(n+1).trim();e[i]=r}));let n=t+4;return this.buffer=this.buffer.slice(n),this.index=this.index-n,e}tryReadContent(e){if(this.index<e)return null;let t=this.buffer.toString(this.encoding,0,e),n=e;return this.buffer.copy(this.buffer,0,n),this.index=this.index-n,t}get numberOfBytes(){return this.index}}(t.MessageReader||(t.MessageReader={})).is=function(e){let t=e;return t&&r.func(t.listen)&&r.func(t.dispose)&&r.func(t.onError)&&r.func(t.onClose)&&r.func(t.onPartialMessage)};class c{constructor(){this.errorEmitter=new i.Emitter,this.closeEmitter=new i.Emitter,this.partialMessageEmitter=new i.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader recevied error. Reason: ${r.string(e.message)?e.message:"unknown"}`)}}t.AbstractMessageReader=c;class u extends c{constructor(e,t="utf8"){super(),this.readable=e,this.buffer=new l(t),this._partialMessageTimeout=1e4}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e,this.readable.on("data",(e=>{this.onData(e)})),this.readable.on("error",(e=>this.fireError(e))),this.readable.on("close",(()=>this.fireClose()))}onData(e){for(this.buffer.append(e);;){if(-1===this.nextMessageLength){let e=this.buffer.tryReadHeaders();if(!e)return;let t=e["Content-Length"];if(!t)throw new Error("Header must provide a Content-Length property.");let n=parseInt(t);if(isNaN(n))throw new Error("Content-Length value must be a number.");this.nextMessageLength=n}var t=this.buffer.tryReadContent(this.nextMessageLength);if(null===t)return void this.setPartialMessageTimer();this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.messageToken++;var n=JSON.parse(t);this.callback(n)}}clearPartialMessageTimer(){this.partialMessageTimer&&(clearTimeout(this.partialMessageTimer),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),this._partialMessageTimeout<=0||(this.partialMessageTimer=setTimeout(((e,t)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:t}),this.setPartialMessageTimer())}),this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}}t.StreamMessageReader=u,t.IPCMessageReader=class extends c{constructor(e){super(),this.process=e;let t=this.process;t.on("error",(e=>this.fireError(e))),t.on("close",(()=>this.fireClose()))}listen(e){this.process.on("message",e)}},t.SocketMessageReader=class extends u{constructor(e,t="utf-8"){super(e,t)}}},9725:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(3680),r=n(2593);let o="Content-Length: ",s="\r\n";(t.MessageWriter||(t.MessageWriter={})).is=function(e){let t=e;return t&&r.func(t.dispose)&&r.func(t.onClose)&&r.func(t.onError)&&r.func(t.write)};class a{constructor(){this.errorEmitter=new i.Emitter,this.closeEmitter=new i.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,t,n){this.errorEmitter.fire([this.asError(e),t,n])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer recevied error. Reason: ${r.string(e.message)?e.message:"unknown"}`)}}t.AbstractMessageWriter=a,t.StreamMessageWriter=class extends a{constructor(e,t="utf8"){super(),this.writable=e,this.encoding=t,this.errorCount=0,this.writable.on("error",(e=>this.fireError(e))),this.writable.on("close",(()=>this.fireClose()))}write(e){let t=JSON.stringify(e),n=Buffer.byteLength(t,this.encoding),i=[o,n.toString(),s,s];try{this.writable.write(i.join(""),"ascii"),this.writable.write(t,this.encoding),this.errorCount=0}catch(t){this.errorCount++,this.fireError(t,e,this.errorCount)}}},t.IPCMessageWriter=class extends a{constructor(e){super(),this.process=e,this.errorCount=0,this.queue=[],this.sending=!1;let t=this.process;t.on("error",(e=>this.fireError(e))),t.on("close",(()=>this.fireClose))}write(e){this.sending||0!==this.queue.length?this.queue.push(e):this.doWriteMessage(e)}doWriteMessage(e){try{this.process.send&&(this.sending=!0,this.process.send(e,void 0,void 0,(t=>{this.sending=!1,t?(this.errorCount++,this.fireError(t,e,this.errorCount)):this.errorCount=0,this.queue.length>0&&this.doWriteMessage(this.queue.shift())})))}catch(t){this.errorCount++,this.fireError(t,e,this.errorCount)}}},t.SocketMessageWriter=class extends a{constructor(e,t="utf8"){super(),this.socket=e,this.queue=[],this.sending=!1,this.encoding=t,this.errorCount=0,this.socket.on("error",(e=>this.fireError(e))),this.socket.on("close",(()=>this.fireClose()))}write(e){this.sending||0!==this.queue.length?this.queue.push(e):this.doWriteMessage(e)}doWriteMessage(e){let t=JSON.stringify(e),n=Buffer.byteLength(t,this.encoding),i=[o,n.toString(),s,s];try{this.sending=!0,this.socket.write(i.join(""),"ascii",(n=>{n&&this.handleError(n,e);try{this.socket.write(t,this.encoding,(t=>{this.sending=!1,t?this.handleError(t,e):this.errorCount=0,this.queue.length>0&&this.doWriteMessage(this.queue.shift())}))}catch(n){this.handleError(n,e)}}))}catch(t){this.handleError(t,e)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}}},3234:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(2593);var r;!function(e){e.ParseError=-32700,e.InvalidRequest=-32600,e.MethodNotFound=-32601,e.InvalidParams=-32602,e.InternalError=-32603,e.serverErrorStart=-32099,e.serverErrorEnd=-32e3,e.ServerNotInitialized=-32002,e.UnknownErrorCode=-32001,e.RequestCancelled=-32800,e.MessageWriteError=1,e.MessageReadError=2}(r=t.ErrorCodes||(t.ErrorCodes={}));class o extends Error{constructor(e,t,n){super(t),this.code=i.number(e)?e:r.UnknownErrorCode,this.data=n,Object.setPrototypeOf(this,o.prototype)}toJson(){return{code:this.code,message:this.message,data:this.data}}}t.ResponseError=o;class s{constructor(e,t){this._method=e,this._numberOfParams=t}get method(){return this._method}get numberOfParams(){return this._numberOfParams}}t.AbstractMessageType=s,t.RequestType0=class extends s{constructor(e){super(e,0),this._=void 0}},t.RequestType=class extends s{constructor(e){super(e,1),this._=void 0}},t.RequestType1=class extends s{constructor(e){super(e,1),this._=void 0}},t.RequestType2=class extends s{constructor(e){super(e,2),this._=void 0}},t.RequestType3=class extends s{constructor(e){super(e,3),this._=void 0}},t.RequestType4=class extends s{constructor(e){super(e,4),this._=void 0}},t.RequestType5=class extends s{constructor(e){super(e,5),this._=void 0}},t.RequestType6=class extends s{constructor(e){super(e,6),this._=void 0}},t.RequestType7=class extends s{constructor(e){super(e,7),this._=void 0}},t.RequestType8=class extends s{constructor(e){super(e,8),this._=void 0}},t.RequestType9=class extends s{constructor(e){super(e,9),this._=void 0}},t.NotificationType=class extends s{constructor(e){super(e,1),this._=void 0}},t.NotificationType0=class extends s{constructor(e){super(e,0),this._=void 0}},t.NotificationType1=class extends s{constructor(e){super(e,1),this._=void 0}},t.NotificationType2=class extends s{constructor(e){super(e,2),this._=void 0}},t.NotificationType3=class extends s{constructor(e){super(e,3),this._=void 0}},t.NotificationType4=class extends s{constructor(e){super(e,4),this._=void 0}},t.NotificationType5=class extends s{constructor(e){super(e,5),this._=void 0}},t.NotificationType6=class extends s{constructor(e){super(e,6),this._=void 0}},t.NotificationType7=class extends s{constructor(e){super(e,7),this._=void 0}},t.NotificationType8=class extends s{constructor(e){super(e,8),this._=void 0}},t.NotificationType9=class extends s{constructor(e){super(e,9),this._=void 0}},t.isRequestMessage=function(e){let t=e;return t&&i.string(t.method)&&(i.string(t.id)||i.number(t.id))},t.isNotificationMessage=function(e){let t=e;return t&&i.string(t.method)&&void 0===e.id},t.isResponseMessage=function(e){let t=e;return t&&(void 0!==t.result||!!t.error)&&(i.string(t.id)||i.number(t.id)||null===t.id)}},3377:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(1017),r=n(2037),o=n(6113),s=n(1808),a=n(6386),l=n(9725);t.generateRandomPipeName=function(){const e=o.randomBytes(21).toString("hex");return"win32"===process.platform?`\\\\.\\pipe\\vscode-jsonrpc-${e}-sock`:i.join(r.tmpdir(),`vscode-${e}.sock`)},t.createClientPipeTransport=function(e,t="utf-8"){let n,i=new Promise(((e,t)=>{n=e}));return new Promise(((r,o)=>{let c=s.createServer((e=>{c.close(),n([new a.SocketMessageReader(e,t),new l.SocketMessageWriter(e,t)])}));c.on("error",o),c.listen(e,(()=>{c.removeListener("error",o),r({onConnected:()=>i})}))}))},t.createServerPipeTransport=function(e,t="utf-8"){const n=s.createConnection(e);return[new a.SocketMessageReader(n,t),new l.SocketMessageWriter(n,t)]}},1609:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(1808),r=n(6386),o=n(9725);t.createClientSocketTransport=function(e,t="utf-8"){let n,s=new Promise(((e,t)=>{n=e}));return new Promise(((a,l)=>{let c=i.createServer((e=>{c.close(),n([new r.SocketMessageReader(e,t),new o.SocketMessageWriter(e,t)])}));c.on("error",l),c.listen(e,"127.0.0.1",(()=>{c.removeListener("error",l),a({onConnected:()=>s})}))}))},t.createServerSocketTransport=function(e,t="utf-8"){const n=i.createConnection(e,"127.0.0.1");return[new r.SocketMessageReader(n,t),new o.SocketMessageWriter(n,t)]}},5620:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4665),r=n(4192),o=n(7620),s=n(3101),a=n(2097),l=n(3299),c=n(2884);!function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(4192));class u{error(e){console.error(e)}warn(e){console.warn(e)}info(e){console.info(e)}log(e){console.log(e)}}var d,p,h,m,f;!function(e){e[e.Continue=1]="Continue",e[e.Shutdown=2]="Shutdown"}(d=t.ErrorAction||(t.ErrorAction={})),function(e){e[e.DoNotRestart=1]="DoNotRestart",e[e.Restart=2]="Restart"}(p=t.CloseAction||(t.CloseAction={}));class g{constructor(e){this.name=e,this.restarts=[]}error(e,t,n){return n&&n<=3?d.Continue:d.Shutdown}closed(){return this.restarts.push(Date.now()),this.restarts.length<5?p.Restart:this.restarts[this.restarts.length-1]-this.restarts[0]<=18e4?(i.window.showErrorMessage(`The ${this.name} server crashed 5 times in the last 3 minutes. The server will not be restarted.`),p.DoNotRestart):(this.restarts.shift(),p.Restart)}}!function(e){e[e.Info=1]="Info",e[e.Warn=2]="Warn",e[e.Error=3]="Error",e[e.Never=4]="Never"}(h=t.RevealOutputChannelOn||(t.RevealOutputChannelOn={})),function(e){e[e.Stopped=1]="Stopped",e[e.Starting=3]="Starting",e[e.Running=2]="Running"}(m=t.State||(t.State={})),function(e){e[e.Initial=0]="Initial",e[e.Starting=1]="Starting",e[e.StartFailed=2]="StartFailed",e[e.Running=3]="Running",e[e.Stopping=4]="Stopping",e[e.Stopped=5]="Stopped"}(f||(f={}));const v=[r.SymbolKind.File,r.SymbolKind.Module,r.SymbolKind.Namespace,r.SymbolKind.Package,r.SymbolKind.Class,r.SymbolKind.Method,r.SymbolKind.Property,r.SymbolKind.Field,r.SymbolKind.Constructor,r.SymbolKind.Enum,r.SymbolKind.Interface,r.SymbolKind.Function,r.SymbolKind.Variable,r.SymbolKind.Constant,r.SymbolKind.String,r.SymbolKind.Number,r.SymbolKind.Boolean,r.SymbolKind.Array,r.SymbolKind.Object,r.SymbolKind.Key,r.SymbolKind.Null,r.SymbolKind.EnumMember,r.SymbolKind.Struct,r.SymbolKind.Event,r.SymbolKind.Operator,r.SymbolKind.TypeParameter],_=[r.CompletionItemKind.Text,r.CompletionItemKind.Method,r.CompletionItemKind.Function,r.CompletionItemKind.Constructor,r.CompletionItemKind.Field,r.CompletionItemKind.Variable,r.CompletionItemKind.Class,r.CompletionItemKind.Interface,r.CompletionItemKind.Module,r.CompletionItemKind.Property,r.CompletionItemKind.Unit,r.CompletionItemKind.Value,r.CompletionItemKind.Enum,r.CompletionItemKind.Keyword,r.CompletionItemKind.Snippet,r.CompletionItemKind.Color,r.CompletionItemKind.File,r.CompletionItemKind.Reference,r.CompletionItemKind.Folder,r.CompletionItemKind.EnumMember,r.CompletionItemKind.Constant,r.CompletionItemKind.Struct,r.CompletionItemKind.Event,r.CompletionItemKind.Operator,r.CompletionItemKind.TypeParameter];function y(e,t){return void 0===e[t]&&(e[t]={}),e[t]}var S;!function(e){e.is=function(e){let t=e;return t&&a.func(t.register)&&a.func(t.unregister)&&a.func(t.dispose)&&void 0!==t.messages}}(S||(S={}));class E{constructor(e,t,n,i,r,o){this._client=e,this._event=t,this._type=n,this._middleware=i,this._createParams=r,this._selectorFilter=o,this._selectors=new Map}static textDocumentFilter(e,t){for(const n of e)if(i.languages.match(n,t))return!0;return!1}register(e,t){t.registerOptions.documentSelector&&(this._listener||(this._listener=this._event(this.callback,this)),this._selectors.set(t.id,t.registerOptions.documentSelector))}callback(e){this._selectorFilter&&!this._selectorFilter(this._selectors.values(),e)||(this._middleware?this._middleware(e,(e=>this._client.sendNotification(this._type,this._createParams(e)))):this._client.sendNotification(this._type,this._createParams(e)),this.notificationSent(e))}notificationSent(e){}unregister(e){this._selectors.delete(e),0===this._selectors.size&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._selectors.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}}class T extends E{constructor(e,t){super(e,i.workspace.onDidOpenTextDocument,r.DidOpenTextDocumentNotification.type,e.clientOptions.middleware.didOpen,(t=>e.code2ProtocolConverter.asOpenTextDocumentParams(t)),E.textDocumentFilter),this._syncedDocuments=t}get messages(){return r.DidOpenTextDocumentNotification.type}fillClientCapabilities(e){y(y(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.openClose&&this.register(this.messages,{id:c.generateUuid(),registerOptions:{documentSelector:t}})}register(e,t){if(super.register(e,t),!t.registerOptions.documentSelector)return;let n=t.registerOptions.documentSelector;i.workspace.textDocuments.forEach((e=>{let t=e.uri.toString();if(!this._syncedDocuments.has(t)&&i.languages.match(n,e)){let n=this._client.clientOptions.middleware,i=e=>{this._client.sendNotification(this._type,this._createParams(e))};n.didOpen?n.didOpen(e,i):i(e),this._syncedDocuments.set(t,e)}}))}notificationSent(e){super.notificationSent(e),this._syncedDocuments.set(e.uri.toString(),e)}}class C extends E{constructor(e,t){super(e,i.workspace.onDidCloseTextDocument,r.DidCloseTextDocumentNotification.type,e.clientOptions.middleware.didClose,(t=>e.code2ProtocolConverter.asCloseTextDocumentParams(t)),E.textDocumentFilter),this._syncedDocuments=t}get messages(){return r.DidCloseTextDocumentNotification.type}fillClientCapabilities(e){y(y(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.openClose&&this.register(this.messages,{id:c.generateUuid(),registerOptions:{documentSelector:t}})}notificationSent(e){super.notificationSent(e),this._syncedDocuments.delete(e.uri.toString())}unregister(e){let t=this._selectors.get(e);super.unregister(e);let n=this._selectors.values();this._syncedDocuments.forEach((e=>{if(i.languages.match(t,e)&&!this._selectorFilter(n,e)){let t=this._client.clientOptions.middleware,n=e=>{this._client.sendNotification(this._type,this._createParams(e))};this._syncedDocuments.delete(e.uri.toString()),t.didClose?t.didClose(e,n):n(e)}}))}}class b{constructor(e){this._client=e,this._changeData=new Map,this._forcingDelivery=!1}get messages(){return r.DidChangeTextDocumentNotification.type}fillClientCapabilities(e){y(y(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&void 0!==n.change&&n.change!==r.TextDocumentSyncKind.None&&this.register(this.messages,{id:c.generateUuid(),registerOptions:Object.assign({},{documentSelector:t},{syncKind:n.change})})}register(e,t){t.registerOptions.documentSelector&&(this._listener||(this._listener=i.workspace.onDidChangeTextDocument(this.callback,this)),this._changeData.set(t.id,{documentSelector:t.registerOptions.documentSelector,syncKind:t.registerOptions.syncKind}))}callback(e){if(0!==e.contentChanges.length)for(const t of this._changeData.values())if(i.languages.match(t.documentSelector,e.document)){let n=this._client.clientOptions.middleware;if(t.syncKind===r.TextDocumentSyncKind.Incremental){let t=this._client.code2ProtocolConverter.asChangeTextDocumentParams(e);n.didChange?n.didChange(e,(()=>this._client.sendNotification(r.DidChangeTextDocumentNotification.type,t))):this._client.sendNotification(r.DidChangeTextDocumentNotification.type,t)}else if(t.syncKind===r.TextDocumentSyncKind.Full){let t=e=>{this._changeDelayer?(this._changeDelayer.uri!==e.document.uri.toString()&&(this.forceDelivery(),this._changeDelayer.uri=e.document.uri.toString()),this._changeDelayer.delayer.trigger((()=>{this._client.sendNotification(r.DidChangeTextDocumentNotification.type,this._client.code2ProtocolConverter.asChangeTextDocumentParams(e.document))}))):(this._changeDelayer={uri:e.document.uri.toString(),delayer:new l.Delayer(200)},this._changeDelayer.delayer.trigger((()=>{this._client.sendNotification(r.DidChangeTextDocumentNotification.type,this._client.code2ProtocolConverter.asChangeTextDocumentParams(e.document))}),-1))};n.didChange?n.didChange(e,t):t(e)}}}unregister(e){this._changeData.delete(e),0===this._changeData.size&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._changeDelayer=void 0,this._forcingDelivery=!1,this._changeData.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}forceDelivery(){if(!this._forcingDelivery&&this._changeDelayer)try{this._forcingDelivery=!0,this._changeDelayer.delayer.forceDelivery()}finally{this._forcingDelivery=!1}}}class I extends E{constructor(e){super(e,i.workspace.onWillSaveTextDocument,r.WillSaveTextDocumentNotification.type,e.clientOptions.middleware.willSave,(t=>e.code2ProtocolConverter.asWillSaveTextDocumentParams(t)),((e,t)=>E.textDocumentFilter(e,t.document)))}get messages(){return r.WillSaveTextDocumentNotification.type}fillClientCapabilities(e){y(y(e,"textDocument"),"synchronization").willSave=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.willSave&&this.register(this.messages,{id:c.generateUuid(),registerOptions:{documentSelector:t}})}}class R{constructor(e){this._client=e,this._selectors=new Map}get messages(){return r.WillSaveTextDocumentWaitUntilRequest.type}fillClientCapabilities(e){y(y(e,"textDocument"),"synchronization").willSaveWaitUntil=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.willSaveWaitUntil&&this.register(this.messages,{id:c.generateUuid(),registerOptions:{documentSelector:t}})}register(e,t){t.registerOptions.documentSelector&&(this._listener||(this._listener=i.workspace.onWillSaveTextDocument(this.callback,this)),this._selectors.set(t.id,t.registerOptions.documentSelector))}callback(e){if(E.textDocumentFilter(this._selectors.values(),e.document)){let t=this._client.clientOptions.middleware,n=e=>this._client.sendRequest(r.WillSaveTextDocumentWaitUntilRequest.type,this._client.code2ProtocolConverter.asWillSaveTextDocumentParams(e)).then((e=>{let t=this._client.protocol2CodeConverter.asTextEdits(e);return void 0===t?[]:t}));e.waitUntil(t.willSaveWaitUntil?t.willSaveWaitUntil(e,n):n(e))}}unregister(e){this._selectors.delete(e),0===this._selectors.size&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._selectors.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}}class A extends E{constructor(e){super(e,i.workspace.onDidSaveTextDocument,r.DidSaveTextDocumentNotification.type,e.clientOptions.middleware.didSave,(t=>e.code2ProtocolConverter.asSaveTextDocumentParams(t,this._includeText)),E.textDocumentFilter)}get messages(){return r.DidSaveTextDocumentNotification.type}fillClientCapabilities(e){y(y(e,"textDocument"),"synchronization").didSave=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.save&&this.register(this.messages,{id:c.generateUuid(),registerOptions:Object.assign({},{documentSelector:t},{includeText:!!n.save.includeText})})}register(e,t){this._includeText=!!t.registerOptions.includeText,super.register(e,t)}}class O{constructor(e,t){this._client=e,this._notifyFileEvent=t,this._watchers=new Map}get messages(){return r.DidChangeWatchedFilesNotification.type}fillClientCapabilities(e){y(y(e,"workspace"),"didChangeWatchedFiles").dynamicRegistration=!0}initialize(e,t){}register(e,t){if(!Array.isArray(t.registerOptions.watchers))return;let n=[];for(let e of t.registerOptions.watchers){if(!a.string(e.globPattern))continue;let t=!0,o=!0,s=!0;void 0!==e.kind&&null!==e.kind&&(t=0!=(e.kind&r.WatchKind.Create),o=0!=(e.kind&r.WatchKind.Change),s=0!=(e.kind&r.WatchKind.Delete));let l=i.workspace.createFileSystemWatcher(e.globPattern,!t,!o,!s);this.hookListeners(l,t,o,s),n.push(l)}this._watchers.set(t.id,n)}registerRaw(e,t){let n=[];for(let e of t)this.hookListeners(e,!0,!0,!0,n);this._watchers.set(e,n)}hookListeners(e,t,n,i,o){t&&e.onDidCreate((e=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(e),type:r.FileChangeType.Created})),null,o),n&&e.onDidChange((e=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(e),type:r.FileChangeType.Changed})),null,o),i&&e.onDidDelete((e=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(e),type:r.FileChangeType.Deleted})),null,o)}unregister(e){let t=this._watchers.get(e);if(t)for(let e of t)e.dispose()}dispose(){this._watchers.forEach((e=>{for(let t of e)t.dispose()})),this._watchers.clear()}}class w{constructor(e,t){this._client=e,this._message=t,this._providers=new Map}get messages(){return this._message}register(e,t){if(e.method!==this.messages.method)throw new Error(`Register called on wrong feature. Requested ${e.method} but reached feature ${this.messages.method}`);if(!t.registerOptions.documentSelector)return;let n=this.registerLanguageProvider(t.registerOptions);n&&this._providers.set(t.id,n)}unregister(e){let t=this._providers.get(e);t&&t.dispose()}dispose(){this._providers.forEach((e=>{e.dispose()})),this._providers.clear()}}t.TextDocumentFeature=w;class x{constructor(e,t){this._client=e,this._message=t,this._providers=new Map}get messages(){return this._message}register(e,t){if(e.method!==this.messages.method)throw new Error(`Register called on wron feature. Requested ${e.method} but reached feature ${this.messages.method}`);let n=this.registerLanguageProvider(t.registerOptions);n&&this._providers.set(t.id,n)}unregister(e){let t=this._providers.get(e);t&&t.dispose()}dispose(){this._providers.forEach((e=>{e.dispose()})),this._providers.clear()}}class P extends w{constructor(e){super(e,r.CompletionRequest.type)}fillClientCapabilities(e){let t=y(y(e,"textDocument"),"completion");t.dynamicRegistration=!0,t.contextSupport=!0,t.completionItem={snippetSupport:!0,commitCharactersSupport:!0,documentationFormat:[r.MarkupKind.Markdown,r.MarkupKind.PlainText],deprecatedSupport:!0,preselectSupport:!0},t.completionItemKind={valueSet:_}}initialize(e,t){e.completionProvider&&t&&this.register(this.messages,{id:c.generateUuid(),registerOptions:Object.assign({},{documentSelector:t},e.completionProvider)})}registerLanguageProvider(e){let t=e.triggerCharacters||[],n=this._client,o=(e,t,i,o)=>n.sendRequest(r.CompletionRequest.type,n.code2ProtocolConverter.asCompletionParams(e,t,i),o).then(n.protocol2CodeConverter.asCompletionResult,(e=>(n.logFailedRequest(r.CompletionRequest.type,e),Promise.resolve([])))),s=(e,t)=>n.sendRequest(r.CompletionResolveRequest.type,n.code2ProtocolConverter.asCompletionItem(e),t).then(n.protocol2CodeConverter.asCompletionItem,(t=>(n.logFailedRequest(r.CompletionResolveRequest.type,t),Promise.resolve(e)))),a=this._client.clientOptions.middleware;return i.languages.registerCompletionItemProvider(e.documentSelector,{provideCompletionItems:(e,t,n,i)=>a.provideCompletionItem?a.provideCompletionItem(e,t,i,n,o):o(e,t,i,n),resolveCompletionItem:e.resolveProvider?(e,t)=>a.resolveCompletionItem?a.resolveCompletionItem(e,t,s):s(e,t):void 0},...t)}}class N extends w{constructor(e){super(e,r.HoverRequest.type)}fillClientCapabilities(e){const t=y(y(e,"textDocument"),"hover");t.dynamicRegistration=!0,t.contentFormat=[r.MarkupKind.Markdown,r.MarkupKind.PlainText]}initialize(e,t){e.hoverProvider&&t&&this.register(this.messages,{id:c.generateUuid(),registerOptions:Object.assign({},{documentSelector:t})})}registerLanguageProvider(e){let t=this._client,n=(e,n,i)=>t.sendRequest(r.HoverRequest.type,t.code2ProtocolConverter.asTextDocumentPositionParams(e,n),i).then(t.protocol2CodeConverter.asHover,(e=>(t.logFailedRequest(r.HoverRequest.type,e),Promise.resolve(null)))),o=t.clientOptions.middleware;return i.languages.registerHoverProvider(e.documentSelector,{provideHover:(e,t,i)=>o.provideHover?o.provideHover(e,t,i,n):n(e,t,i)})}}class D extends w{constructor(e){super(e,r.SignatureHelpRequest.type)}fillClientCapabilities(e){let t=y(y(e,"textDocument"),"signatureHelp");t.dynamicRegistration=!0,t.signatureInformation={documentationFormat:[r.MarkupKind.Markdown,r.MarkupKind.PlainText]},t.signatureInformation.parameterInformation={labelOffsetSupport:!0}}initialize(e,t){e.signatureHelpProvider&&t&&this.register(this.messages,{id:c.generateUuid(),registerOptions:Object.assign({},{documentSelector:t},e.signatureHelpProvider)})}registerLanguageProvider(e){let t=this._client,n=(e,n,i)=>t.sendRequest(r.SignatureHelpRequest.type,t.code2ProtocolConverter.asTextDocumentPositionParams(e,n),i).then(t.protocol2CodeConverter.asSignatureHelp,(e=>(t.logFailedRequest(r.SignatureHelpRequest.type,e),Promise.resolve(null)))),o=t.clientOptions.middleware,s=e.triggerCharacters||[];return i.languages.registerSignatureHelpProvider(e.documentSelector,{provideSignatureHelp:(e,t,i)=>o.provideSignatureHelp?o.provideSignatureHelp(e,t,i,n):n(e,t,i)},...s)}}class M extends w{constructor(e){super(e,r.DefinitionRequest.type)}fillClientCapabilities(e){let t=y(y(e,"textDocument"),"definition");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){e.definitionProvider&&t&&this.register(this.messages,{id:c.generateUuid(),registerOptions:Object.assign({},{documentSelector:t})})}registerLanguageProvider(e){let t=this._client,n=(e,n,i)=>t.sendRequest(r.DefinitionRequest.type,t.code2ProtocolConverter.asTextDocumentPositionParams(e,n),i).then(t.protocol2CodeConverter.asDefinitionResult,(e=>(t.logFailedRequest(r.DefinitionRequest.type,e),Promise.resolve(null)))),o=t.clientOptions.middleware;return i.languages.registerDefinitionProvider(e.documentSelector,{provideDefinition:(e,t,i)=>o.provideDefinition?o.provideDefinition(e,t,i,n):n(e,t,i)})}}class k extends w{constructor(e){super(e,r.ReferencesRequest.type)}fillClientCapabilities(e){y(y(e,"textDocument"),"references").dynamicRegistration=!0}initialize(e,t){e.referencesProvider&&t&&this.register(this.messages,{id:c.generateUuid(),registerOptions:Object.assign({},{documentSelector:t})})}registerLanguageProvider(e){let t=this._client,n=(e,n,i,o)=>t.sendRequest(r.ReferencesRequest.type,t.code2ProtocolConverter.asReferenceParams(e,n,i),o).then(t.protocol2CodeConverter.asReferences,(e=>(t.logFailedRequest(r.ReferencesRequest.type,e),Promise.resolve([])))),o=t.clientOptions.middleware;return i.languages.registerReferenceProvider(e.documentSelector,{provideReferences:(e,t,i,r)=>o.provideReferences?o.provideReferences(e,t,i,r,n):n(e,t,i,r)})}}class L extends w{constructor(e){super(e,r.DocumentHighlightRequest.type)}fillClientCapabilities(e){y(y(e,"textDocument"),"documentHighlight").dynamicRegistration=!0}initialize(e,t){e.documentHighlightProvider&&t&&this.register(this.messages,{id:c.generateUuid(),registerOptions:Object.assign({},{documentSelector:t})})}registerLanguageProvider(e){let t=this._client,n=(e,n,i)=>t.sendRequest(r.DocumentHighlightRequest.type,t.code2ProtocolConverter.asTextDocumentPositionParams(e,n),i).then(t.protocol2CodeConverter.asDocumentHighlights,(e=>(t.logFailedRequest(r.DocumentHighlightRequest.type,e),Promise.resolve([])))),o=t.clientOptions.middleware;return i.languages.registerDocumentHighlightProvider(e.documentSelector,{provideDocumentHighlights:(e,t,i)=>o.provideDocumentHighlights?o.provideDocumentHighlights(e,t,i,n):n(e,t,i)})}}class B extends w{constructor(e){super(e,r.DocumentSymbolRequest.type)}fillClientCapabilities(e){let t=y(y(e,"textDocument"),"documentSymbol");t.dynamicRegistration=!0,t.symbolKind={valueSet:v},t.hierarchicalDocumentSymbolSupport=!0}initialize(e,t){e.documentSymbolProvider&&t&&this.register(this.messages,{id:c.generateUuid(),registerOptions:Object.assign({},{documentSelector:t})})}registerLanguageProvider(e){let t=this._client,n=(e,n)=>t.sendRequest(r.DocumentSymbolRequest.type,t.code2ProtocolConverter.asDocumentSymbolParams(e),n).then((e=>{if(null!==e){if(0===e.length)return[];{let n=e[0];return r.DocumentSymbol.is(n)?t.protocol2CodeConverter.asDocumentSymbols(e):t.protocol2CodeConverter.asSymbolInformations(e)}}}),(e=>(t.logFailedRequest(r.DocumentSymbolRequest.type,e),Promise.resolve([])))),o=t.clientOptions.middleware;return i.languages.registerDocumentSymbolProvider(e.documentSelector,{provideDocumentSymbols:(e,t)=>o.provideDocumentSymbols?o.provideDocumentSymbols(e,t,n):n(e,t)})}}class q extends x{constructor(e){super(e,r.WorkspaceSymbolRequest.type)}fillClientCapabilities(e){let t=y(y(e,"workspace"),"symbol");t.dynamicRegistration=!0,t.symbolKind={valueSet:v}}initialize(e){e.workspaceSymbolProvider&&this.register(this.messages,{id:c.generateUuid(),registerOptions:void 0})}registerLanguageProvider(e){let t=this._client,n=(e,n)=>t.sendRequest(r.WorkspaceSymbolRequest.type,{query:e},n).then(t.protocol2CodeConverter.asSymbolInformations,(e=>(t.logFailedRequest(r.WorkspaceSymbolRequest.type,e),Promise.resolve([])))),o=t.clientOptions.middleware;return i.languages.registerWorkspaceSymbolProvider({provideWorkspaceSymbols:(e,t)=>o.provideWorkspaceSymbols?o.provideWorkspaceSymbols(e,t,n):n(e,t)})}}class F extends w{constructor(e){super(e,r.CodeActionRequest.type)}fillClientCapabilities(e){const t=y(y(e,"textDocument"),"codeAction");t.dynamicRegistration=!0,t.codeActionLiteralSupport={codeActionKind:{valueSet:["",r.CodeActionKind.QuickFix,r.CodeActionKind.Refactor,r.CodeActionKind.RefactorExtract,r.CodeActionKind.RefactorInline,r.CodeActionKind.RefactorRewrite,r.CodeActionKind.Source,r.CodeActionKind.SourceOrganizeImports]}}}initialize(e,t){if(!e.codeActionProvider||!t)return;let n;a.boolean(e.codeActionProvider)||(n=e.codeActionProvider.codeActionKinds),this.register(this.messages,{id:c.generateUuid(),registerOptions:{documentSelector:t,codeActionKinds:n}})}registerLanguageProvider(e){let t=this._client,n=(e,n,i,o)=>{let s={textDocument:t.code2ProtocolConverter.asTextDocumentIdentifier(e),range:t.code2ProtocolConverter.asRange(n),context:t.code2ProtocolConverter.asCodeActionContext(i)};return t.sendRequest(r.CodeActionRequest.type,s,o).then((e=>{if(null===e)return;let n=[];for(let i of e)r.Command.is(i)?n.push(t.protocol2CodeConverter.asCommand(i)):n.push(t.protocol2CodeConverter.asCodeAction(i));return n}),(e=>(t.logFailedRequest(r.CodeActionRequest.type,e),Promise.resolve([]))))},o=t.clientOptions.middleware;return i.languages.registerCodeActionsProvider(e.documentSelector,{provideCodeActions:(e,t,i,r)=>o.provideCodeActions?o.provideCodeActions(e,t,i,r,n):n(e,t,i,r)},e.codeActionKinds?{providedCodeActionKinds:t.protocol2CodeConverter.asCodeActionKinds(e.codeActionKinds)}:void 0)}}class U extends w{constructor(e){super(e,r.CodeLensRequest.type)}fillClientCapabilities(e){y(y(e,"textDocument"),"codeLens").dynamicRegistration=!0}initialize(e,t){e.codeLensProvider&&t&&this.register(this.messages,{id:c.generateUuid(),registerOptions:Object.assign({},{documentSelector:t},e.codeLensProvider)})}registerLanguageProvider(e){let t=this._client,n=(e,n)=>t.sendRequest(r.CodeLensRequest.type,t.code2ProtocolConverter.asCodeLensParams(e),n).then(t.protocol2CodeConverter.asCodeLenses,(e=>(t.logFailedRequest(r.CodeLensRequest.type,e),Promise.resolve([])))),o=(e,n)=>t.sendRequest(r.CodeLensResolveRequest.type,t.code2ProtocolConverter.asCodeLens(e),n).then(t.protocol2CodeConverter.asCodeLens,(n=>(t.logFailedRequest(r.CodeLensResolveRequest.type,n),e))),s=t.clientOptions.middleware;return i.languages.registerCodeLensProvider(e.documentSelector,{provideCodeLenses:(e,t)=>s.provideCodeLenses?s.provideCodeLenses(e,t,n):n(e,t),resolveCodeLens:e.resolveProvider?(e,t)=>s.resolveCodeLens?s.resolveCodeLens(e,t,o):o(e,t):void 0})}}class j extends w{constructor(e){super(e,r.DocumentFormattingRequest.type)}fillClientCapabilities(e){y(y(e,"textDocument"),"formatting").dynamicRegistration=!0}initialize(e,t){e.documentFormattingProvider&&t&&this.register(this.messages,{id:c.generateUuid(),registerOptions:Object.assign({},{documentSelector:t})})}registerLanguageProvider(e){let t=this._client,n=(e,n,i)=>{let o={textDocument:t.code2ProtocolConverter.asTextDocumentIdentifier(e),options:t.code2ProtocolConverter.asFormattingOptions(n)};return t.sendRequest(r.DocumentFormattingRequest.type,o,i).then(t.protocol2CodeConverter.asTextEdits,(e=>(t.logFailedRequest(r.DocumentFormattingRequest.type,e),Promise.resolve([]))))},o=t.clientOptions.middleware;return i.languages.registerDocumentFormattingEditProvider(e.documentSelector,{provideDocumentFormattingEdits:(e,t,i)=>o.provideDocumentFormattingEdits?o.provideDocumentFormattingEdits(e,t,i,n):n(e,t,i)})}}class z extends w{constructor(e){super(e,r.DocumentRangeFormattingRequest.type)}fillClientCapabilities(e){y(y(e,"textDocument"),"rangeFormatting").dynamicRegistration=!0}initialize(e,t){e.documentRangeFormattingProvider&&t&&this.register(this.messages,{id:c.generateUuid(),registerOptions:Object.assign({},{documentSelector:t})})}registerLanguageProvider(e){let t=this._client,n=(e,n,i,o)=>{let s={textDocument:t.code2ProtocolConverter.asTextDocumentIdentifier(e),range:t.code2ProtocolConverter.asRange(n),options:t.code2ProtocolConverter.asFormattingOptions(i)};return t.sendRequest(r.DocumentRangeFormattingRequest.type,s,o).then(t.protocol2CodeConverter.asTextEdits,(e=>(t.logFailedRequest(r.DocumentRangeFormattingRequest.type,e),Promise.resolve([]))))},o=t.clientOptions.middleware;return i.languages.registerDocumentRangeFormattingEditProvider(e.documentSelector,{provideDocumentRangeFormattingEdits:(e,t,i,r)=>o.provideDocumentRangeFormattingEdits?o.provideDocumentRangeFormattingEdits(e,t,i,r,n):n(e,t,i,r)})}}class H extends w{constructor(e){super(e,r.DocumentOnTypeFormattingRequest.type)}fillClientCapabilities(e){y(y(e,"textDocument"),"onTypeFormatting").dynamicRegistration=!0}initialize(e,t){e.documentOnTypeFormattingProvider&&t&&this.register(this.messages,{id:c.generateUuid(),registerOptions:Object.assign({},{documentSelector:t},e.documentOnTypeFormattingProvider)})}registerLanguageProvider(e){let t=this._client,n=e.moreTriggerCharacter||[],o=(e,n,i,o,s)=>{let a={textDocument:t.code2ProtocolConverter.asTextDocumentIdentifier(e),position:t.code2ProtocolConverter.asPosition(n),ch:i,options:t.code2ProtocolConverter.asFormattingOptions(o)};return t.sendRequest(r.DocumentOnTypeFormattingRequest.type,a,s).then(t.protocol2CodeConverter.asTextEdits,(e=>(t.logFailedRequest(r.DocumentOnTypeFormattingRequest.type,e),Promise.resolve([]))))},s=t.clientOptions.middleware;return i.languages.registerOnTypeFormattingEditProvider(e.documentSelector,{provideOnTypeFormattingEdits:(e,t,n,i,r)=>s.provideOnTypeFormattingEdits?s.provideOnTypeFormattingEdits(e,t,n,i,r,o):o(e,t,n,i,r)},e.firstTriggerCharacter,...n)}}class V extends w{constructor(e){super(e,r.RenameRequest.type)}fillClientCapabilities(e){let t=y(y(e,"textDocument"),"rename");t.dynamicRegistration=!0,t.prepareSupport=!0}initialize(e,t){if(!e.renameProvider||!t)return;let n=Object.assign({},{documentSelector:t});a.boolean(e.renameProvider)?n.prepareProvider=!1:n.prepareProvider=e.renameProvider.prepareProvider,this.register(this.messages,{id:c.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=this._client,n=(e,n,i,o)=>{let s={textDocument:t.code2ProtocolConverter.asTextDocumentIdentifier(e),position:t.code2ProtocolConverter.asPosition(n),newName:i};return t.sendRequest(r.RenameRequest.type,s,o).then(t.protocol2CodeConverter.asWorkspaceEdit,(e=>(t.logFailedRequest(r.RenameRequest.type,e),Promise.reject(new Error(e.message)))))},o=(e,n,i)=>{let o={textDocument:t.code2ProtocolConverter.asTextDocumentIdentifier(e),position:t.code2ProtocolConverter.asPosition(n)};return t.sendRequest(r.PrepareRenameRequest.type,o,i).then((e=>r.Range.is(e)?t.protocol2CodeConverter.asRange(e):e&&e.range?{range:t.protocol2CodeConverter.asRange(e.range),placeholder:e.placeholder}:null),(e=>(t.logFailedRequest(r.PrepareRenameRequest.type,e),Promise.reject(new Error(e.message)))))},s=t.clientOptions.middleware;return i.languages.registerRenameProvider(e.documentSelector,{provideRenameEdits:(e,t,i,r)=>s.provideRenameEdits?s.provideRenameEdits(e,t,i,r,n):n(e,t,i,r),prepareRename:e.prepareProvider?(e,t,n)=>s.prepareRename?s.prepareRename(e,t,n,o):o(e,t,n):void 0})}}class G extends w{constructor(e){super(e,r.DocumentLinkRequest.type)}fillClientCapabilities(e){y(y(e,"textDocument"),"documentLink").dynamicRegistration=!0}initialize(e,t){e.documentLinkProvider&&t&&this.register(this.messages,{id:c.generateUuid(),registerOptions:Object.assign({},{documentSelector:t},e.documentLinkProvider)})}registerLanguageProvider(e){let t=this._client,n=(e,n)=>t.sendRequest(r.DocumentLinkRequest.type,t.code2ProtocolConverter.asDocumentLinkParams(e),n).then(t.protocol2CodeConverter.asDocumentLinks,(e=>{t.logFailedRequest(r.DocumentLinkRequest.type,e),Promise.resolve(new Error(e.message))})),o=(e,n)=>t.sendRequest(r.DocumentLinkResolveRequest.type,t.code2ProtocolConverter.asDocumentLink(e),n).then(t.protocol2CodeConverter.asDocumentLink,(e=>{t.logFailedRequest(r.DocumentLinkResolveRequest.type,e),Promise.resolve(new Error(e.message))})),s=t.clientOptions.middleware;return i.languages.registerDocumentLinkProvider(e.documentSelector,{provideDocumentLinks:(e,t)=>s.provideDocumentLinks?s.provideDocumentLinks(e,t,n):n(e,t),resolveDocumentLink:e.resolveProvider?(e,t)=>s.resolveDocumentLink?s.resolveDocumentLink(e,t,o):o(e,t):void 0})}}class W{constructor(e){this._client=e,this._listeners=new Map}get messages(){return r.DidChangeConfigurationNotification.type}fillClientCapabilities(e){y(y(e,"workspace"),"didChangeConfiguration").dynamicRegistration=!0}initialize(){let e=this._client.clientOptions.synchronize.configurationSection;void 0!==e&&this.register(this.messages,{id:c.generateUuid(),registerOptions:{section:e}})}register(e,t){let n=i.workspace.onDidChangeConfiguration((e=>{this.onDidChangeConfiguration(t.registerOptions.section,e)}));this._listeners.set(t.id,n),void 0!==t.registerOptions.section&&this.onDidChangeConfiguration(t.registerOptions.section,void 0)}unregister(e){let t=this._listeners.get(e);t&&(this._listeners.delete(e),t.dispose())}dispose(){for(let e of this._listeners.values())e.dispose();this._listeners.clear()}onDidChangeConfiguration(e,t){let n;if(n=a.string(e)?[e]:e,void 0!==n&&void 0!==t&&!n.some((e=>t.affectsConfiguration(e))))return;let i=e=>{void 0!==e?this._client.sendNotification(r.DidChangeConfigurationNotification.type,{settings:this.extractSettingsInformation(e)}):this._client.sendNotification(r.DidChangeConfigurationNotification.type,{settings:null})},o=this.getMiddleware();o?o(n,i):i(n)}extractSettingsInformation(e){function t(e,t){let n=e;for(let e=0;e<t.length-1;e++){let i=n[t[e]];i||(i=Object.create(null),n[t[e]]=i),n=i}return n}let n=this._client.clientOptions.workspaceFolder?this._client.clientOptions.workspaceFolder.uri:void 0,r=Object.create(null);for(let o=0;o<e.length;o++){let s=e[o],a=s.indexOf("."),l=null;if(l=a>=0?i.workspace.getConfiguration(s.substr(0,a),n).get(s.substr(a+1)):i.workspace.getConfiguration(s,n),l){let n=e[o].split(".");t(r,n)[n[n.length-1]]=l}}return r}getMiddleware(){let e=this._client.clientOptions.middleware;return e.workspace&&e.workspace.didChangeConfiguration?e.workspace.didChangeConfiguration:void 0}}class ${constructor(e){this._client=e,this._commands=new Map}get messages(){return r.ExecuteCommandRequest.type}fillClientCapabilities(e){y(y(e,"workspace"),"executeCommand").dynamicRegistration=!0}initialize(e){e.executeCommandProvider&&this.register(this.messages,{id:c.generateUuid(),registerOptions:Object.assign({},e.executeCommandProvider)})}register(e,t){let n=this._client;if(t.registerOptions.commands){let e=[];for(const o of t.registerOptions.commands)e.push(i.commands.registerCommand(o,((...e)=>{let t={command:o,arguments:e};return n.sendRequest(r.ExecuteCommandRequest.type,t).then(void 0,(e=>{n.logFailedRequest(r.ExecuteCommandRequest.type,e)}))})));this._commands.set(t.id,e)}}unregister(e){let t=this._commands.get(e);t&&t.forEach((e=>e.dispose()))}dispose(){this._commands.forEach((e=>{e.forEach((e=>e.dispose()))})),this._commands.clear()}}(t.MessageTransports||(t.MessageTransports={})).is=function(e){return e&&r.MessageReader.is(e.reader)&&r.MessageWriter.is(e.writer)};class K{constructor(e,t){this._resolve=e,this._reject=t,this._used=!1}get isUsed(){return this._used}resolve(){this._used=!0,this._resolve()}reject(e){this._used=!0,this._reject(e)}}t.BaseLanguageClient=class{constructor(e,t,n){this._traceFormat=r.TraceFormat.Text,this._features=[],this._method2Message=new Map,this._dynamicFeatures=new Map,this._id=e,this._name=t,n=n||{},this._clientOptions={documentSelector:n.documentSelector||[],synchronize:n.synchronize||{},diagnosticCollectionName:n.diagnosticCollectionName,outputChannelName:n.outputChannelName||this._name,revealOutputChannelOn:n.revealOutputChannelOn||h.Error,stdioEncoding:n.stdioEncoding||"utf8",initializationOptions:n.initializationOptions,initializationFailedHandler:n.initializationFailedHandler,errorHandler:n.errorHandler||new g(this._name),middleware:n.middleware||{},uriConverters:n.uriConverters,workspaceFolder:n.workspaceFolder},this._clientOptions.synchronize=this._clientOptions.synchronize||{},this.state=f.Initial,this._connectionPromise=void 0,this._resolvedConnection=void 0,this._initializeResult=void 0,n.outputChannel?(this._outputChannel=n.outputChannel,this._disposeOutputChannel=!1):(this._outputChannel=void 0,this._disposeOutputChannel=!0),this._listeners=void 0,this._providers=void 0,this._diagnostics=void 0,this._fileEvents=[],this._fileEventDelayer=new l.Delayer(250),this._onReady=new Promise(((e,t)=>{this._onReadyCallbacks=new K(e,t)})),this._onStop=void 0,this._telemetryEmitter=new r.Emitter,this._stateChangeEmitter=new r.Emitter,this._tracer={log:(e,t)=>{a.string(e)?this.logTrace(e,t):this.logObjectTrace(e)}},this._c2p=o.createConverter(n.uriConverters?n.uriConverters.code2Protocol:void 0),this._p2c=s.createConverter(n.uriConverters?n.uriConverters.protocol2Code:void 0),this._syncedDocuments=new Map,this.registerBuiltinFeatures()}get state(){return this._state}set state(e){let t=this.getPublicState();this._state=e;let n=this.getPublicState();n!==t&&this._stateChangeEmitter.fire({oldState:t,newState:n})}getPublicState(){return this.state===f.Running?m.Running:this.state===f.Starting?m.Starting:m.Stopped}get initializeResult(){return this._initializeResult}sendRequest(e,...t){if(!this.isConnectionActive())throw new Error("Language client is not ready yet");this.forceDocumentSync();try{return this._resolvedConnection.sendRequest(e,...t)}catch(t){throw this.error(`Sending request ${a.string(e)?e:e.method} failed.`,t),t}}onRequest(e,t){if(!this.isConnectionActive())throw new Error("Language client is not ready yet");try{this._resolvedConnection.onRequest(e,t)}catch(t){throw this.error(`Registering request handler ${a.string(e)?e:e.method} failed.`,t),t}}sendNotification(e,t){if(!this.isConnectionActive())throw new Error("Language client is not ready yet");this.forceDocumentSync();try{this._resolvedConnection.sendNotification(e,t)}catch(t){throw this.error(`Sending notification ${a.string(e)?e:e.method} failed.`,t),t}}onNotification(e,t){if(!this.isConnectionActive())throw new Error("Language client is not ready yet");try{this._resolvedConnection.onNotification(e,t)}catch(t){throw this.error(`Registering notification handler ${a.string(e)?e:e.method} failed.`,t),t}}get clientOptions(){return this._clientOptions}get protocol2CodeConverter(){return this._p2c}get code2ProtocolConverter(){return this._c2p}get onTelemetry(){return this._telemetryEmitter.event}get onDidChangeState(){return this._stateChangeEmitter.event}get outputChannel(){return this._outputChannel||(this._outputChannel=i.window.createOutputChannel(this._clientOptions.outputChannelName?this._clientOptions.outputChannelName:this._name)),this._outputChannel}get diagnostics(){return this._diagnostics}createDefaultErrorHandler(){return new g(this._name)}set trace(e){this._trace=e,this.onReady().then((()=>{this.resolveConnection().then((e=>{e.trace(this._trace,this._tracer,{sendNotification:!1,traceFormat:this._traceFormat})}))}),(()=>{}))}data2String(e){if(e instanceof r.ResponseError){const t=e;return`  Message: ${t.message}\n  Code: ${t.code} ${t.data?"\n"+t.data.toString():""}`}return e instanceof Error?a.string(e.stack)?e.stack:e.message:a.string(e)?e:e.toString()}info(e,t){this.outputChannel.appendLine(`[Info  - ${(new Date).toLocaleTimeString()}] ${e}`),t&&this.outputChannel.appendLine(this.data2String(t)),this._clientOptions.revealOutputChannelOn<=h.Info&&this.outputChannel.show(!0)}warn(e,t){this.outputChannel.appendLine(`[Warn  - ${(new Date).toLocaleTimeString()}] ${e}`),t&&this.outputChannel.appendLine(this.data2String(t)),this._clientOptions.revealOutputChannelOn<=h.Warn&&this.outputChannel.show(!0)}error(e,t){this.outputChannel.appendLine(`[Error - ${(new Date).toLocaleTimeString()}] ${e}`),t&&this.outputChannel.appendLine(this.data2String(t)),this._clientOptions.revealOutputChannelOn<=h.Error&&this.outputChannel.show(!0)}logTrace(e,t){this.outputChannel.appendLine(`[Trace - ${(new Date).toLocaleTimeString()}] ${e}`),t&&this.outputChannel.appendLine(this.data2String(t))}logObjectTrace(e){e.isLSPMessage&&e.type?this.outputChannel.append(`[LSP   - ${(new Date).toLocaleTimeString()}] `):this.outputChannel.append(`[Trace - ${(new Date).toLocaleTimeString()}] `),e&&this.outputChannel.appendLine(`${JSON.stringify(e)}`)}needsStart(){return this.state===f.Initial||this.state===f.Stopping||this.state===f.Stopped}needsStop(){return this.state===f.Starting||this.state===f.Running}onReady(){return this._onReady}isConnectionActive(){return this.state===f.Running&&!!this._resolvedConnection}start(){return this._onReadyCallbacks.isUsed&&(this._onReady=new Promise(((e,t)=>{this._onReadyCallbacks=new K(e,t)}))),this._listeners=[],this._providers=[],this._diagnostics||(this._diagnostics=this._clientOptions.diagnosticCollectionName?i.languages.createDiagnosticCollection(this._clientOptions.diagnosticCollectionName):i.languages.createDiagnosticCollection()),this.state=f.Starting,this.resolveConnection().then((e=>(e.onLogMessage((e=>{switch(e.type){case r.MessageType.Error:this.error(e.message);break;case r.MessageType.Warning:this.warn(e.message);break;case r.MessageType.Info:this.info(e.message);break;default:this.outputChannel.appendLine(e.message)}})),e.onShowMessage((e=>{switch(e.type){case r.MessageType.Error:i.window.showErrorMessage(e.message);break;case r.MessageType.Warning:i.window.showWarningMessage(e.message);break;case r.MessageType.Info:default:i.window.showInformationMessage(e.message)}})),e.onRequest(r.ShowMessageRequest.type,(e=>{let t;switch(e.type){case r.MessageType.Error:t=i.window.showErrorMessage;break;case r.MessageType.Warning:t=i.window.showWarningMessage;break;case r.MessageType.Info:default:t=i.window.showInformationMessage}let n=e.actions||[];return t(e.message,...n)})),e.onTelemetry((e=>{this._telemetryEmitter.fire(e)})),e.listen(),this.initialize(e)))).then(void 0,(e=>{this.state=f.StartFailed,this._onReadyCallbacks.reject(e),this.error("Starting client failed",e),i.window.showErrorMessage(`Couldn't start client ${this._name}`)})),new i.Disposable((()=>{this.needsStop()&&this.stop()}))}resolveConnection(){return this._connectionPromise||(this._connectionPromise=this.createConnection()),this._connectionPromise}initialize(e){this.refreshTrace(e,!1);let t=this._clientOptions.initializationOptions,n=this._clientOptions.workspaceFolder?this._clientOptions.workspaceFolder.uri.fsPath:this._clientGetRootPath(),o={processId:process.pid,rootPath:n||null,rootUri:n?this._c2p.asUri(i.Uri.file(n)):null,capabilities:this.computeClientCapabilities(),initializationOptions:a.func(t)?t():t,trace:r.Trace.toString(this._trace),workspaceFolders:null};return this.fillInitializeParams(o),e.initialize(o).then((t=>{let n;return this._resolvedConnection=e,this._initializeResult=t,this.state=f.Running,a.number(t.capabilities.textDocumentSync)?n=t.capabilities.textDocumentSync===r.TextDocumentSyncKind.None?{openClose:!1,change:r.TextDocumentSyncKind.None,save:void 0}:{openClose:!0,change:t.capabilities.textDocumentSync,save:{includeText:!1}}:void 0!==t.capabilities.textDocumentSync&&null!==t.capabilities.textDocumentSync&&(n=t.capabilities.textDocumentSync),this._capabilities=Object.assign({},t.capabilities,{resolvedTextDocumentSync:n}),e.onDiagnostics((e=>this.handleDiagnostics(e))),e.onRequest(r.RegistrationRequest.type,(e=>this.handleRegistrationRequest(e))),e.onRequest("client/registerFeature",(e=>this.handleRegistrationRequest(e))),e.onRequest(r.UnregistrationRequest.type,(e=>this.handleUnregistrationRequest(e))),e.onRequest("client/unregisterFeature",(e=>this.handleUnregistrationRequest(e))),e.onRequest(r.ApplyWorkspaceEditRequest.type,(e=>this.handleApplyWorkspaceEdit(e))),e.sendNotification(r.InitializedNotification.type,{}),this.hookFileEvents(e),this.hookConfigurationChanged(e),this.initializeFeatures(e),this._onReadyCallbacks.resolve(),t})).then(void 0,(t=>{this._clientOptions.initializationFailedHandler?this._clientOptions.initializationFailedHandler(t)?this.initialize(e):(this.stop(),this._onReadyCallbacks.reject(t)):t instanceof r.ResponseError&&t.data&&t.data.retry?i.window.showErrorMessage(t.message,{title:"Retry",id:"retry"}).then((n=>{n&&"retry"===n.id?this.initialize(e):(this.stop(),this._onReadyCallbacks.reject(t))})):(t&&t.message&&i.window.showErrorMessage(t.message),this.error("Server initialization failed.",t),this.stop(),this._onReadyCallbacks.reject(t))}))}_clientGetRootPath(){let e=i.workspace.workspaceFolders;if(!e||0===e.length)return;let t=e[0];return"file"===t.uri.scheme?t.uri.fsPath:void 0}stop(){return this._initializeResult=void 0,this._connectionPromise?this.state===f.Stopping&&this._onStop?this._onStop:(this.state=f.Stopping,this.cleanUp(),this._onStop=this.resolveConnection().then((e=>e.shutdown().then((()=>{e.exit(),e.dispose(),this.state=f.Stopped,this._onStop=void 0,this._connectionPromise=void 0,this._resolvedConnection=void 0}))))):(this.state=f.Stopped,Promise.resolve())}cleanUp(e=!0,t=!0){this._listeners&&(this._listeners.forEach((e=>e.dispose())),this._listeners=void 0),this._providers&&(this._providers.forEach((e=>e.dispose())),this._providers=void 0),this._syncedDocuments&&this._syncedDocuments.clear();for(let e of this._dynamicFeatures.values())e.dispose();e&&this._outputChannel&&this._disposeOutputChannel&&(this._outputChannel.dispose(),this._outputChannel=void 0),t&&this._diagnostics&&(this._diagnostics.dispose(),this._diagnostics=void 0)}notifyFileEvent(e){this._fileEvents.push(e),this._fileEventDelayer.trigger((()=>{this.onReady().then((()=>{this.resolveConnection().then((e=>{this.isConnectionActive()&&e.didChangeWatchedFiles({changes:this._fileEvents}),this._fileEvents=[]}))}),(e=>{this.error("Notify file events failed.",e)}))}))}forceDocumentSync(){this._dynamicFeatures.get(r.DidChangeTextDocumentNotification.type.method).forceDelivery()}handleDiagnostics(e){if(!this._diagnostics)return;let t=this._p2c.asUri(e.uri),n=this._p2c.asDiagnostics(e.diagnostics),i=this.clientOptions.middleware.handleDiagnostics;i?i(t,n,((e,t)=>this.setDiagnostics(e,t))):this.setDiagnostics(t,n)}setDiagnostics(e,t){this._diagnostics&&this._diagnostics.set(e,t)}createConnection(){let e=(e,t,n)=>{this.handleConnectionError(e,t,n)},t=()=>{this.handleConnectionClosed()};return this.createMessageTransports(this._clientOptions.stdioEncoding||"utf8").then((n=>function(e,t,n,i){let o=new u,s=r.createProtocolConnection(e,t,o);return s.onError((e=>{n(e[0],e[1],e[2])})),s.onClose(i),{listen:()=>s.listen(),sendRequest:(e,...t)=>s.sendRequest(a.string(e)?e:e.method,...t),onRequest:(e,t)=>s.onRequest(a.string(e)?e:e.method,t),sendNotification:(e,t)=>s.sendNotification(a.string(e)?e:e.method,t),onNotification:(e,t)=>s.onNotification(a.string(e)?e:e.method,t),trace:(e,t,n)=>{const i={sendNotification:!1,traceFormat:r.TraceFormat.Text};void 0===n?s.trace(e,t,i):(a.boolean(n),s.trace(e,t,n))},initialize:e=>s.sendRequest(r.InitializeRequest.type,e),shutdown:()=>s.sendRequest(r.ShutdownRequest.type,void 0),exit:()=>s.sendNotification(r.ExitNotification.type),onLogMessage:e=>s.onNotification(r.LogMessageNotification.type,e),onShowMessage:e=>s.onNotification(r.ShowMessageNotification.type,e),onTelemetry:e=>s.onNotification(r.TelemetryEventNotification.type,e),didChangeConfiguration:e=>s.sendNotification(r.DidChangeConfigurationNotification.type,e),didChangeWatchedFiles:e=>s.sendNotification(r.DidChangeWatchedFilesNotification.type,e),didOpenTextDocument:e=>s.sendNotification(r.DidOpenTextDocumentNotification.type,e),didChangeTextDocument:e=>s.sendNotification(r.DidChangeTextDocumentNotification.type,e),didCloseTextDocument:e=>s.sendNotification(r.DidCloseTextDocumentNotification.type,e),didSaveTextDocument:e=>s.sendNotification(r.DidSaveTextDocumentNotification.type,e),onDiagnostics:e=>s.onNotification(r.PublishDiagnosticsNotification.type,e),dispose:()=>s.dispose()}}(n.reader,n.writer,e,t)))}handleConnectionClosed(){if(this.state===f.Stopping||this.state===f.Stopped)return;try{this._resolvedConnection&&this._resolvedConnection.dispose()}catch(e){}let e=p.DoNotRestart;try{e=this._clientOptions.errorHandler.closed()}catch(e){}this._connectionPromise=void 0,this._resolvedConnection=void 0,e===p.DoNotRestart?(this.error("Connection to server got closed. Server will not be restarted."),this.state=f.Stopped,this.cleanUp(!1,!0)):e===p.Restart&&(this.info("Connection to server got closed. Server will restart."),this.cleanUp(!1,!1),this.state=f.Initial,this.start())}handleConnectionError(e,t,n){this._clientOptions.errorHandler.error(e,t,n)===d.Shutdown&&(this.error("Connection to server is erroring. Shutting down server."),this.stop())}hookConfigurationChanged(e){i.workspace.onDidChangeConfiguration((()=>{this.refreshTrace(e,!0)}))}refreshTrace(e,t=!1){let n=i.workspace.getConfiguration(this._id),o=r.Trace.Off,s=r.TraceFormat.Text;if(n){const e=n.get("trace.server","off");"string"==typeof e?o=r.Trace.fromString(e):(o=r.Trace.fromString(n.get("trace.server.verbosity","off")),s=r.TraceFormat.fromString(n.get("trace.server.format","text")))}this._trace=o,this._traceFormat=s,e.trace(this._trace,this._tracer,{sendNotification:t,traceFormat:this._traceFormat})}hookFileEvents(e){let t,n=this._clientOptions.synchronize.fileEvents;n&&(t=a.array(n)?n:[n],t&&this._dynamicFeatures.get(r.DidChangeWatchedFilesNotification.type.method).registerRaw(c.generateUuid(),t))}registerFeatures(e){for(let t of e)this.registerFeature(t)}registerFeature(e){if(this._features.push(e),S.is(e)){let t=e.messages;if(Array.isArray(t))for(let n of t)this._method2Message.set(n.method,n),this._dynamicFeatures.set(n.method,e);else this._method2Message.set(t.method,t),this._dynamicFeatures.set(t.method,e)}}registerBuiltinFeatures(){this.registerFeature(new W(this)),this.registerFeature(new T(this,this._syncedDocuments)),this.registerFeature(new b(this)),this.registerFeature(new I(this)),this.registerFeature(new R(this)),this.registerFeature(new A(this)),this.registerFeature(new C(this,this._syncedDocuments)),this.registerFeature(new O(this,(e=>this.notifyFileEvent(e)))),this.registerFeature(new P(this)),this.registerFeature(new N(this)),this.registerFeature(new D(this)),this.registerFeature(new M(this)),this.registerFeature(new k(this)),this.registerFeature(new L(this)),this.registerFeature(new B(this)),this.registerFeature(new q(this)),this.registerFeature(new F(this)),this.registerFeature(new U(this)),this.registerFeature(new j(this)),this.registerFeature(new z(this)),this.registerFeature(new H(this)),this.registerFeature(new V(this)),this.registerFeature(new G(this)),this.registerFeature(new $(this))}fillInitializeParams(e){for(let t of this._features)a.func(t.fillInitializeParams)&&t.fillInitializeParams(e)}computeClientCapabilities(){let e={};y(e,"workspace").applyEdit=!0;let t=y(y(e,"workspace"),"workspaceEdit");t.documentChanges=!0,t.resourceOperations=[r.ResourceOperationKind.Create,r.ResourceOperationKind.Rename,r.ResourceOperationKind.Delete],t.failureHandling=r.FailureHandlingKind.TextOnlyTransactional,y(y(e,"textDocument"),"publishDiagnostics").relatedInformation=!0;for(let t of this._features)t.fillClientCapabilities(e);return e}initializeFeatures(e){let t=this._clientOptions.documentSelector;for(let e of this._features)e.initialize(this._capabilities,t)}handleRegistrationRequest(e){return new Promise(((t,n)=>{for(let t of e.registrations){const e=this._dynamicFeatures.get(t.method);if(!e)return void n(new Error(`No feature implementation for ${t.method} found. Registration failed.`));const i=t.registerOptions||{};i.documentSelector=i.documentSelector||this._clientOptions.documentSelector;const r={id:t.id,registerOptions:i};e.register(this._method2Message.get(t.method),r)}t()}))}handleUnregistrationRequest(e){return new Promise(((t,n)=>{for(let t of e.unregisterations){const e=this._dynamicFeatures.get(t.method);if(!e)return void n(new Error(`No feature implementation for ${t.method} found. Unregistration failed.`));e.unregister(t.id)}t()}))}handleApplyWorkspaceEdit(e){let t=e.edit,n=new Map;i.workspace.textDocuments.forEach((e=>n.set(e.uri.toString(),e)));let o=!1;if(t.documentChanges)for(const e of t.documentChanges)if(r.TextDocumentEdit.is(e)&&e.textDocument.version&&e.textDocument.version>=0){let t=n.get(e.textDocument.uri);if(t&&t.version!==e.textDocument.version){o=!0;break}}return o?Promise.resolve({applied:!1}):i.workspace.applyEdit(this._p2c.asWorkspaceEdit(e.edit)).then((e=>({applied:e})))}logFailedRequest(e,t){t instanceof r.ResponseError&&t.code===r.ErrorCodes.RequestCancelled||this.error(`Request ${e.method} failed.`,t)}}},7620:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4665),r=n(4192),o=n(2097),s=n(213),a=n(5628),l=n(6653);t.createConverter=function(e){const t=e||(e=>e.toString());function n(e){return t(e)}function c(e){return{uri:t(e.uri)}}function u(e){return{uri:t(e.uri),version:e.version}}function d(e){switch(e){case i.TextDocumentSaveReason.Manual:return r.TextDocumentSaveReason.Manual;case i.TextDocumentSaveReason.AfterDelay:return r.TextDocumentSaveReason.AfterDelay;case i.TextDocumentSaveReason.FocusOut:return r.TextDocumentSaveReason.FocusOut}return r.TextDocumentSaveReason.Manual}function p(e){switch(e){case i.CompletionTriggerKind.TriggerCharacter:return r.CompletionTriggerKind.TriggerCharacter;case i.CompletionTriggerKind.TriggerForIncompleteCompletions:return r.CompletionTriggerKind.TriggerForIncompleteCompletions;default:return r.CompletionTriggerKind.Invoked}}function h(e){return{line:e.line,character:e.character}}function m(e){if(void 0!==e)return null===e?null:{line:e.line,character:e.character}}function f(e){return null==e?e:{start:m(e.start),end:m(e.end)}}function g(e){switch(e){case i.DiagnosticSeverity.Error:return r.DiagnosticSeverity.Error;case i.DiagnosticSeverity.Warning:return r.DiagnosticSeverity.Warning;case i.DiagnosticSeverity.Information:return r.DiagnosticSeverity.Information;case i.DiagnosticSeverity.Hint:return r.DiagnosticSeverity.Hint}}function v(e){let t=r.Diagnostic.create(f(e.range),e.message);return o.number(e.severity)&&(t.severity=g(e.severity)),(o.number(e.code)||o.string(e.code))&&(t.code=e.code),e.source&&(t.source=e.source),t}function _(e){return null==e?e:e.map(v)}function y(e){return{range:f(e.range),newText:e.newText}}function S(e){let t=r.Command.create(e.title,e.command);return e.arguments&&(t.arguments=e.arguments),t}return{asUri:n,asTextDocumentIdentifier:c,asVersionedTextDocumentIdentifier:u,asOpenTextDocumentParams:function(e){return{textDocument:{uri:t(e.uri),languageId:e.languageId,version:e.version,text:e.getText()}}},asChangeTextDocumentParams:function(e){if(function(e){let t=e;return!!t.uri&&!!t.version}(e))return{textDocument:{uri:t(e.uri),version:e.version},contentChanges:[{text:e.getText()}]};if(function(e){let t=e;return!!t.document&&!!t.contentChanges}(e)){let n=e.document;return{textDocument:{uri:t(n.uri),version:n.version},contentChanges:e.contentChanges.map((e=>{let t=e.range;return{range:{start:{line:t.start.line,character:t.start.character},end:{line:t.end.line,character:t.end.character}},rangeLength:e.rangeLength,text:e.text}}))}}throw Error("Unsupported text document change parameter")},asCloseTextDocumentParams:function(e){return{textDocument:c(e)}},asSaveTextDocumentParams:function(e,t=!1){let n={textDocument:u(e)};return t&&(n.text=e.getText()),n},asWillSaveTextDocumentParams:function(e){return{textDocument:c(e.document),reason:d(e.reason)}},asTextDocumentPositionParams:function(e,t){return{textDocument:c(e),position:h(t)}},asCompletionParams:function(e,t,n){return{textDocument:c(e),position:h(t),context:{triggerKind:p(n.triggerKind),triggerCharacter:n.triggerCharacter}}},asWorkerPosition:h,asRange:f,asPosition:m,asDiagnosticSeverity:g,asDiagnostic:v,asDiagnostics:_,asCompletionItem:function(e){let t={label:e.label},n=e instanceof s.default?e:void 0;var a,l,c;return e.detail&&(t.detail=e.detail),e.documentation&&(n&&"$string"!==n.documentationFormat?t.documentation=function(e,t){switch(e){case"$string":return t;case r.MarkupKind.PlainText:return{kind:e,value:t};case r.MarkupKind.Markdown:return{kind:e,value:t.value};default:return`Unsupported Markup content received. Kind is: ${e}`}}(n.documentationFormat,e.documentation):t.documentation=e.documentation),e.filterText&&(t.filterText=e.filterText),function(e,t){let n,o,s=r.InsertTextFormat.PlainText;t.textEdit?(n=t.textEdit.newText,o=f(t.textEdit.range)):t.insertText instanceof i.SnippetString?(s=r.InsertTextFormat.Snippet,n=t.insertText.value):n=t.insertText,t.range&&(o=f(t.range)),e.insertTextFormat=s,t.fromEdit&&n&&o?e.textEdit={newText:n,range:o}:e.insertText=n}(t,e),o.number(e.kind)&&(t.kind=(a=e.kind,void 0!==(l=n&&n.originalItemKind)?l:a+1)),e.sortText&&(t.sortText=e.sortText),e.additionalTextEdits&&(t.additionalTextEdits=null==(c=e.additionalTextEdits)?c:c.map(y)),e.commitCharacters&&(t.commitCharacters=e.commitCharacters.slice()),e.command&&(t.command=S(e.command)),!0!==e.preselect&&!1!==e.preselect||(t.preselect=e.preselect),n&&(void 0!==n.data&&(t.data=n.data),!0!==n.deprecated&&!1!==n.deprecated||(t.deprecated=n.deprecated)),t},asTextEdit:y,asReferenceParams:function(e,t,n){return{textDocument:c(e),position:h(t),context:{includeDeclaration:n.includeDeclaration}}},asCodeActionContext:function(e){return null==e?e:r.CodeActionContext.create(_(e.diagnostics),o.string(e.only)?[e.only]:void 0)},asCommand:S,asCodeLens:function(e){let t=r.CodeLens.create(f(e.range));return e.command&&(t.command=S(e.command)),e instanceof a.default&&e.data&&(t.data=e.data),t},asFormattingOptions:function(e){return{tabSize:e.tabSize,insertSpaces:e.insertSpaces}},asDocumentSymbolParams:function(e){return{textDocument:c(e)}},asCodeLensParams:function(e){return{textDocument:c(e)}},asDocumentLink:function(e){let t=r.DocumentLink.create(f(e.range));e.target&&(t.target=n(e.target));let i=e instanceof l.default?e:void 0;return i&&i.data&&(t.data=i.data),t},asDocumentLinkParams:function(e){return{textDocument:c(e)}}}}},2101:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(2884),r=n(2097),o=n(4665),s=n(4192),a=n(5620);function l(e,t){return void 0===e[t]&&(e[t]={}),e[t]}class c extends a.TextDocumentFeature{constructor(e){super(e,s.DocumentColorRequest.type)}fillClientCapabilities(e){l(l(e,"textDocument"),"colorProvider").dynamicRegistration=!0}initialize(e,t){if(!e.colorProvider)return;const n=e.colorProvider,o=r.string(n.id)&&n.id.length>0?n.id:i.generateUuid(),s=n.documentSelector||t;s&&this.register(this.messages,{id:o,registerOptions:Object.assign({},{documentSelector:s})})}registerLanguageProvider(e){let t=this._client,n=(e,n,i)=>{const r={color:e,textDocument:t.code2ProtocolConverter.asTextDocumentIdentifier(n.document),range:t.code2ProtocolConverter.asRange(n.range)};return t.sendRequest(s.ColorPresentationRequest.type,r,i).then(this.asColorPresentations.bind(this),(e=>(t.logFailedRequest(s.ColorPresentationRequest.type,e),Promise.resolve(null))))},i=(e,n)=>{const i={textDocument:t.code2ProtocolConverter.asTextDocumentIdentifier(e)};return t.sendRequest(s.DocumentColorRequest.type,i,n).then(this.asColorInformations.bind(this),(e=>(t.logFailedRequest(s.ColorPresentationRequest.type,e),Promise.resolve(null))))},r=t.clientOptions.middleware;return o.languages.registerColorProvider(e.documentSelector,{provideColorPresentations:(e,t,i)=>r.provideColorPresentations?r.provideColorPresentations(e,t,i,n):n(e,t,i),provideDocumentColors:(e,t)=>r.provideDocumentColors?r.provideDocumentColors(e,t,i):i(e,t)})}asColor(e){return new o.Color(e.red,e.green,e.blue,e.alpha)}asColorInformations(e){return Array.isArray(e)?e.map((e=>new o.ColorInformation(this._client.protocol2CodeConverter.asRange(e.range),this.asColor(e.color)))):[]}asColorPresentations(e){return Array.isArray(e)?e.map((e=>{let t=new o.ColorPresentation(e.label);return t.additionalTextEdits=this._client.protocol2CodeConverter.asTextEdits(e.additionalTextEdits),t.textEdit=this._client.protocol2CodeConverter.asTextEdit(e.textEdit),t})):[]}}t.ColorProviderFeature=c},7888:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4665),r=n(4192);t.ConfigurationFeature=class{constructor(e){this._client=e}fillClientCapabilities(e){e.workspace=e.workspace||{},e.workspace.configuration=!0}initialize(){let e=this._client;e.onRequest(r.ConfigurationRequest.type,((t,n)=>{let i=e=>{let t=[];for(let n of e.items){let e=void 0!==n.scopeUri&&null!==n.scopeUri?this._client.protocol2CodeConverter.asUri(n.scopeUri):void 0;t.push(this.getConfiguration(e,null!==n.section?n.section:void 0))}return t},r=e.clientOptions.middleware.workspace;return r&&r.configuration?r.configuration(t,n,i):i(t)}))}getConfiguration(e,t){let n=null;if(t){let r=t.lastIndexOf(".");if(-1===r)n=i.workspace.getConfiguration(void 0,e).get(t);else{let e=i.workspace.getConfiguration(t.substr(0,r));e&&(n=e.get(t.substr(r+1)))}}else{let t=i.workspace.getConfiguration(void 0,e);n={};for(let e of Object.keys(t))t.has(e)&&(n[e]=t.get(e))}return n||null}}},7812:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(2884),r=n(2097),o=n(4665),s=n(4192),a=n(5620);function l(e,t){return void 0===e[t]&&(e[t]={}),e[t]}class c extends a.TextDocumentFeature{constructor(e){super(e,s.DeclarationRequest.type)}fillClientCapabilities(e){let t=l(l(e,"textDocument"),"declaration");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){if(e.declarationProvider)if(!0===e.declarationProvider){if(!t)return;this.register(this.messages,{id:i.generateUuid(),registerOptions:Object.assign({},{documentSelector:t})})}else{const n=e.declarationProvider,o=r.string(n.id)&&n.id.length>0?n.id:i.generateUuid(),s=n.documentSelector||t;s&&this.register(this.messages,{id:o,registerOptions:Object.assign({},{documentSelector:s})})}}registerLanguageProvider(e){let t=this._client,n=(e,n,i)=>t.sendRequest(s.DeclarationRequest.type,t.code2ProtocolConverter.asTextDocumentPositionParams(e,n),i).then(t.protocol2CodeConverter.asDeclarationResult,(e=>(t.logFailedRequest(s.DeclarationRequest.type,e),Promise.resolve(null)))),i=t.clientOptions.middleware;return o.languages.registerDeclarationProvider(e.documentSelector,{provideDeclaration:(e,t,r)=>i.provideDeclaration?i.provideDeclaration(e,t,r,n):n(e,t,r)})}}t.DeclarationFeature=c},5573:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(2884),r=n(2097),o=n(4665),s=n(4192),a=n(5620);function l(e,t){return void 0===e[t]&&(e[t]={}),e[t]}class c extends a.TextDocumentFeature{constructor(e){super(e,s.FoldingRangeRequest.type)}fillClientCapabilities(e){let t=l(l(e,"textDocument"),"foldingRange");t.dynamicRegistration=!0,t.rangeLimit=5e3,t.lineFoldingOnly=!0}initialize(e,t){if(!e.foldingRangeProvider)return;const n=e.foldingRangeProvider,o=r.string(n.id)&&n.id.length>0?n.id:i.generateUuid(),s=n.documentSelector||t;s&&this.register(this.messages,{id:o,registerOptions:Object.assign({},{documentSelector:s})})}registerLanguageProvider(e){let t=this._client,n=(e,n,i)=>{const r={textDocument:t.code2ProtocolConverter.asTextDocumentIdentifier(e)};return t.sendRequest(s.FoldingRangeRequest.type,r,i).then(this.asFoldingRanges.bind(this),(e=>(t.logFailedRequest(s.FoldingRangeRequest.type,e),Promise.resolve(null))))},i=t.clientOptions.middleware;return o.languages.registerFoldingRangeProvider(e.documentSelector,{provideFoldingRanges:(e,t,r)=>i.provideFoldingRanges?i.provideFoldingRanges(e,t,r,n):n(e,0,r)})}asFoldingRangeKind(e){if(e)switch(e){case s.FoldingRangeKind.Comment:return o.FoldingRangeKind.Comment;case s.FoldingRangeKind.Imports:return o.FoldingRangeKind.Imports;case s.FoldingRangeKind.Region:return o.FoldingRangeKind.Region}}asFoldingRanges(e){return Array.isArray(e)?e.map((e=>new o.FoldingRange(e.startLine,e.endLine,this.asFoldingRangeKind(e.kind)))):[]}}t.FoldingRangeFeature=c},7391:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(2884),r=n(2097),o=n(4665),s=n(4192),a=n(5620);function l(e,t){return void 0===e[t]&&(e[t]={}),e[t]}class c extends a.TextDocumentFeature{constructor(e){super(e,s.ImplementationRequest.type)}fillClientCapabilities(e){let t=l(l(e,"textDocument"),"implementation");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){if(e.implementationProvider)if(!0===e.implementationProvider){if(!t)return;this.register(this.messages,{id:i.generateUuid(),registerOptions:Object.assign({},{documentSelector:t})})}else{const n=e.implementationProvider,o=r.string(n.id)&&n.id.length>0?n.id:i.generateUuid(),s=n.documentSelector||t;s&&this.register(this.messages,{id:o,registerOptions:Object.assign({},{documentSelector:s})})}}registerLanguageProvider(e){let t=this._client,n=(e,n,i)=>t.sendRequest(s.ImplementationRequest.type,t.code2ProtocolConverter.asTextDocumentPositionParams(e,n),i).then(t.protocol2CodeConverter.asDefinitionResult,(e=>(t.logFailedRequest(s.ImplementationRequest.type,e),Promise.resolve(null)))),i=t.clientOptions.middleware;return o.languages.registerImplementationProvider(e.documentSelector,{provideImplementation:(e,t,r)=>i.provideImplementation?i.provideImplementation(e,t,r,n):n(e,t,r)})}}t.ImplementationFeature=c},3056:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(2081),r=n(7147),o=n(6625),s=n(5620),a=n(4665),l=n(4192),c=n(2101),u=n(7888),d=n(7391),p=n(9409),h=n(4670),m=n(5573),f=n(7812),g=n(2097),v=n(9567);!function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(5620));var _,y,S,E,T,C,b;!function(e){e.is=function(e){return g.string(e.command)}}(_||(_={})),function(e){e[e.stdio=0]="stdio",e[e.ipc=1]="ipc",e[e.pipe=2]="pipe",e[e.socket=3]="socket"}(y=t.TransportKind||(t.TransportKind={})),function(e){e.isSocket=function(e){let t=e;return t&&t.kind===y.socket&&g.number(t.port)}}(S||(S={})),function(e){e.is=function(e){return g.string(e.module)}}(E||(E={})),function(e){e.is=function(e){let t=e;return t&&void 0!==t.writer&&void 0!==t.reader}}(T||(T={})),function(e){e.is=function(e){let t=e;return t&&void 0!==t.process&&"boolean"==typeof t.detached}}(C||(C={}));class I extends s.BaseLanguageClient{constructor(e,t,n,i,r){let o,s,a,l,c;g.string(t)?(o=e,s=t,a=n,l=i,c=!!r):(o=e.toLowerCase(),s=e,a=t,l=n,c=i),void 0===c&&(c=!1),super(o,s,l),this._serverOptions=a,this._forceDebug=c;try{this.checkVersion()}catch(e){throw g.string(e.message)&&this.outputChannel.appendLine(e.message),e}}checkVersion(){let e=o.parse(a.version);if(!e)throw new Error(`No valid VS Code version detected. Version string is: ${a.version}`);if(e.prerelease&&e.prerelease.length>0&&(e.prerelease=[]),!o.satisfies(e,"^1.30"))throw new Error(`The language client requires VS Code version ^1.30 but received version ${a.version}`)}stop(){return super.stop().then((()=>{if(this._serverProcess){let e=this._serverProcess;this._serverProcess=void 0,void 0!==this._isDetached&&this._isDetached||this.checkProcessDied(e),this._isDetached=void 0}}))}checkProcessDied(e){e&&setTimeout((()=>{try{process.kill(e.pid,0),v.terminate(e)}catch(e){}}),2e3)}handleConnectionClosed(){this._serverProcess=void 0,super.handleConnectionClosed()}createMessageTransports(e){let t,n=this._serverOptions;if(g.func(n))return n().then((t=>{if(s.MessageTransports.is(t))return this._isDetached=!!t.detached,t;if(T.is(t))return this._isDetached=!!t.detached,{reader:new l.StreamMessageReader(t.reader),writer:new l.StreamMessageWriter(t.writer)};{let n;return C.is(t)?(n=t.process,this._isDetached=t.detached):(n=t,this._isDetached=!1),n.stderr.on("data",(t=>this.outputChannel.append(g.string(t)?t:t.toString(e)))),{reader:new l.StreamMessageReader(n.stdout),writer:new l.StreamMessageWriter(n.stdin)}}}));let r=n;return t=r.run||r.debug?"object"==typeof v8debug||this._forceDebug||function(){let e=process.execArgv;return!!e&&e.some((e=>/^--debug=?/.test(e)||/^--debug-brk=?/.test(e)||/^--inspect=?/.test(e)||/^--inspect-brk=?/.test(e)))}()?r.debug:r.run:n,this._getServerWorkingDir(t.options).then((r=>{if(E.is(t)&&t.module){let n=t,o=n.transport||y.stdio;if(!n.runtime){let t;return new Promise(((s,a)=>{let c=n.args&&n.args.slice()||[];o===y.ipc?c.push("--node-ipc"):o===y.stdio?c.push("--stdio"):o===y.pipe?(t=l.generateRandomPipeName(),c.push(`--pipe=${t}`)):S.isSocket(o)&&c.push(`--socket=${o.port}`),c.push(`--clientProcessId=${process.pid.toString()}`);let u=n.options||Object.create(null);if(u.execArgv=u.execArgv||[],u.cwd=r,u.silent=!0,o===y.ipc||o===y.stdio){let t=i.fork(n.module,c||[],u);this._serverProcess=t,t.stderr.on("data",(t=>this.outputChannel.append(g.string(t)?t:t.toString(e)))),o===y.ipc?(t.stdout.on("data",(t=>this.outputChannel.append(g.string(t)?t:t.toString(e)))),s({reader:new l.IPCMessageReader(this._serverProcess),writer:new l.IPCMessageWriter(this._serverProcess)})):s({reader:new l.StreamMessageReader(t.stdout),writer:new l.StreamMessageWriter(t.stdin)})}else o===y.pipe?l.createClientPipeTransport(t).then((t=>{let r=i.fork(n.module,c||[],u);this._serverProcess=r,r.stderr.on("data",(t=>this.outputChannel.append(g.string(t)?t:t.toString(e)))),r.stdout.on("data",(t=>this.outputChannel.append(g.string(t)?t:t.toString(e)))),t.onConnected().then((e=>{s({reader:e[0],writer:e[1]})}))})):S.isSocket(o)&&l.createClientSocketTransport(o.port).then((t=>{let r=i.fork(n.module,c||[],u);this._serverProcess=r,r.stderr.on("data",(t=>this.outputChannel.append(g.string(t)?t:t.toString(e)))),r.stdout.on("data",(t=>this.outputChannel.append(g.string(t)?t:t.toString(e)))),t.onConnected().then((e=>{s({reader:e[0],writer:e[1]})}))}))}))}{let t=[],s=n.options||Object.create(null);s.execArgv&&s.execArgv.forEach((e=>t.push(e))),t.push(n.module),n.args&&n.args.forEach((e=>t.push(e)));let a,c=Object.create(null);if(c.cwd=r,c.env=function(e){if(!e)return process.env;let t=Object.create(null);return Object.keys(process.env).forEach((e=>t[e]=process.env[e])),Object.keys(e).forEach((n=>t[n]=e[n])),t}(s.env),o===y.ipc?(c.stdio=[null,null,null,"ipc"],t.push("--node-ipc")):o===y.stdio?t.push("--stdio"):o===y.pipe?(a=l.generateRandomPipeName(),t.push(`--pipe=${a}`)):S.isSocket(o)&&t.push(`--socket=${o.port}`),t.push(`--clientProcessId=${process.pid.toString()}`),o===y.ipc||o===y.stdio){let r=i.spawn(n.runtime,t,c);return r&&r.pid?(this._serverProcess=r,r.stderr.on("data",(t=>this.outputChannel.append(g.string(t)?t:t.toString(e)))),o===y.ipc?(r.stdout.on("data",(t=>this.outputChannel.append(g.string(t)?t:t.toString(e)))),Promise.resolve({reader:new l.IPCMessageReader(r),writer:new l.IPCMessageWriter(r)})):Promise.resolve({reader:new l.StreamMessageReader(r.stdout),writer:new l.StreamMessageWriter(r.stdin)})):Promise.reject(`Launching server using runtime ${n.runtime} failed.`)}if(o==y.pipe)return l.createClientPipeTransport(a).then((r=>{let o=i.spawn(n.runtime,t,c);return o&&o.pid?(this._serverProcess=o,o.stderr.on("data",(t=>this.outputChannel.append(g.string(t)?t:t.toString(e)))),o.stdout.on("data",(t=>this.outputChannel.append(g.string(t)?t:t.toString(e)))),r.onConnected().then((e=>({reader:e[0],writer:e[1]})))):Promise.reject(`Launching server using runtime ${n.runtime} failed.`)}));if(S.isSocket(o))return l.createClientSocketTransport(o.port).then((r=>{let o=i.spawn(n.runtime,t,c);return o&&o.pid?(this._serverProcess=o,o.stderr.on("data",(t=>this.outputChannel.append(g.string(t)?t:t.toString(e)))),o.stdout.on("data",(t=>this.outputChannel.append(g.string(t)?t:t.toString(e)))),r.onConnected().then((e=>({reader:e[0],writer:e[1]})))):Promise.reject(`Launching server using runtime ${n.runtime} failed.`)}))}}else if(_.is(t)&&t.command){let n=t,o=n.args||[],s=Object.assign({},n.options);s.cwd=s.cwd||r;let a=i.spawn(n.command,o,s);return a&&a.pid?(a.stderr.on("data",(t=>this.outputChannel.append(g.string(t)?t:t.toString(e)))),this._serverProcess=a,this._isDetached=!!s.detached,Promise.resolve({reader:new l.StreamMessageReader(a.stdout),writer:new l.StreamMessageWriter(a.stdin)})):Promise.reject(`Launching server using command ${n.command} failed.`)}return Promise.reject(new Error("Unsupported server configuration "+JSON.stringify(n,null,4)))}))}registerProposedFeatures(){this.registerFeatures(b.createAll(this))}registerBuiltinFeatures(){super.registerBuiltinFeatures(),this.registerFeature(new u.ConfigurationFeature(this)),this.registerFeature(new p.TypeDefinitionFeature(this)),this.registerFeature(new d.ImplementationFeature(this)),this.registerFeature(new c.ColorProviderFeature(this)),this.registerFeature(new h.WorkspaceFoldersFeature(this)),this.registerFeature(new m.FoldingRangeFeature(this)),this.registerFeature(new f.DeclarationFeature(this))}_mainGetRootPath(){let e=a.workspace.workspaceFolders;if(!e||0===e.length)return;let t=e[0];return"file"===t.uri.scheme?t.uri.fsPath:void 0}_getServerWorkingDir(e){let t=e&&e.cwd;return t||(t=this.clientOptions.workspaceFolder?this.clientOptions.workspaceFolder.uri.fsPath:this._mainGetRootPath()),t?new Promise((e=>{r.lstat(t,((n,i)=>{e(!n&&i.isDirectory()?t:void 0)}))})):Promise.resolve(void 0)}}t.LanguageClient=I,t.SettingMonitor=class{constructor(e,t){this._client=e,this._setting=t,this._listeners=[]}start(){return a.workspace.onDidChangeConfiguration(this.onDidChangeConfiguration,this,this._listeners),this.onDidChangeConfiguration(),new a.Disposable((()=>{this._client.needsStop()&&this._client.stop()}))}onDidChangeConfiguration(){let e=this._setting.indexOf("."),t=e>=0?this._setting.substr(0,e):this._setting,n=e>=0?this._setting.substr(e+1):void 0,i=n?a.workspace.getConfiguration(t).get(n,!1):a.workspace.getConfiguration(t);i&&this._client.needsStart()?this._client.start():!i&&this._client.needsStop()&&this._client.stop()}},function(e){e.createAll=function(e){return[]}}(b=t.ProposedFeatures||(t.ProposedFeatures={}))},5628:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4665);class r extends i.CodeLens{constructor(e){super(e)}}t.default=r},213:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4665);class r extends i.CompletionItem{constructor(e){super(e)}}t.default=r},3101:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4665),r=n(4192),o=n(2097),s=n(213),a=n(5628),l=n(6653);var c;!function(e){e.is=function(e){let t=e;return t&&o.string(t.language)&&o.string(t.value)}}(c||(c={})),t.createConverter=function(e){const t=e||(e=>i.Uri.parse(e));function n(e){return t(e)}function u(e){return e.map(d)}function d(e){let t=new i.Diagnostic(m(e.range),e.message,f(e.severity));return(o.number(e.code)||o.string(e.code))&&(t.code=e.code),e.source&&(t.source=e.source),e.relatedInformation&&(t.relatedInformation=e.relatedInformation.map(p)),t}function p(e){return new i.DiagnosticRelatedInformation(b(e.location),e.message)}function h(e){if(e)return new i.Position(e.line,e.character)}function m(e){if(e)return new i.Range(h(e.start),h(e.end))}function f(e){if(null==e)return i.DiagnosticSeverity.Error;switch(e){case r.DiagnosticSeverity.Error:return i.DiagnosticSeverity.Error;case r.DiagnosticSeverity.Warning:return i.DiagnosticSeverity.Warning;case r.DiagnosticSeverity.Information:return i.DiagnosticSeverity.Information;case r.DiagnosticSeverity.Hint:return i.DiagnosticSeverity.Hint}return i.DiagnosticSeverity.Error}function g(e){if(o.string(e))return e;switch(e.kind){case r.MarkupKind.Markdown:return new i.MarkdownString(e.value);case r.MarkupKind.PlainText:return e.value;default:return`Unsupported Markup content received. Kind is: ${e.kind}`}}function v(e){let t=new s.default(e.label);e.detail&&(t.detail=e.detail),e.documentation&&(t.documentation=g(e.documentation),t.documentationFormat=o.string(e.documentation)?"$string":e.documentation.kind),e.filterText&&(t.filterText=e.filterText);let n=function(e){return e.textEdit?e.insertTextFormat===r.InsertTextFormat.Snippet?{text:new i.SnippetString(e.textEdit.newText),range:m(e.textEdit.range),fromEdit:!0}:{text:e.textEdit.newText,range:m(e.textEdit.range),fromEdit:!0}:e.insertText?e.insertTextFormat===r.InsertTextFormat.Snippet?{text:new i.SnippetString(e.insertText),fromEdit:!1}:{text:e.insertText,fromEdit:!1}:void 0}(e);if(n&&(t.insertText=n.text,t.range=n.range,t.fromEdit=n.fromEdit),o.number(e.kind)){let[n,o]=(a=e.kind,r.CompletionItemKind.Text<=a&&a<=r.CompletionItemKind.TypeParameter?[a-1,void 0]:[i.CompletionItemKind.Text,a]);t.kind=n,o&&(t.originalItemKind=o)}var a;return e.sortText&&(t.sortText=e.sortText),e.additionalTextEdits&&(t.additionalTextEdits=y(e.additionalTextEdits)),o.stringArray(e.commitCharacters)&&(t.commitCharacters=e.commitCharacters.slice()),e.command&&(t.command=N(e.command)),!0!==e.deprecated&&!1!==e.deprecated||(t.deprecated=e.deprecated),!0!==e.preselect&&!1!==e.preselect||(t.preselect=e.preselect),void 0!==e.data&&(t.data=e.data),t}function _(e){if(e)return new i.TextEdit(m(e.range),e.newText)}function y(e){if(e)return e.map(_)}function S(e){return e.map(E)}function E(e){let t=new i.SignatureInformation(e.label);return e.documentation&&(t.documentation=g(e.documentation)),e.parameters&&(t.parameters=T(e.parameters)),t}function T(e){return e.map(C)}function C(e){let t=new i.ParameterInformation(e.label);return e.documentation&&(t.documentation=g(e.documentation)),t}function b(e){if(e)return new i.Location(t(e.uri),m(e.range))}function I(e){if(e)return{targetUri:t(e.targetUri),targetRange:m(e.targetSelectionRange),originSelectionRange:m(e.originSelectionRange),targetSelectionRange:m(e.targetSelectionRange)}}function R(e){if(e)return o.array(e)?0===e.length?[]:r.LocationLink.is(e[0])?e.map((e=>I(e))):e.map((e=>b(e))):r.LocationLink.is(e)?[I(e)]:b(e)}function A(e){let t=new i.DocumentHighlight(m(e.range));return o.number(e.kind)&&(t.kind=O(e.kind)),t}function O(e){switch(e){case r.DocumentHighlightKind.Text:return i.DocumentHighlightKind.Text;case r.DocumentHighlightKind.Read:return i.DocumentHighlightKind.Read;case r.DocumentHighlightKind.Write:return i.DocumentHighlightKind.Write}return i.DocumentHighlightKind.Text}function w(e){return e<=r.SymbolKind.TypeParameter?e-1:i.SymbolKind.Property}function x(e,n){let r=new i.SymbolInformation(e.name,w(e.kind),m(e.location.range),e.location.uri?t(e.location.uri):n);return e.containerName&&(r.containerName=e.containerName),r}function P(e){let t=new i.DocumentSymbol(e.name,e.detail||"",w(e.kind),m(e.range),m(e.selectionRange));if(void 0!==e.children&&e.children.length>0){let n=[];for(let t of e.children)n.push(P(t));t.children=n}return t}function N(e){let t={title:e.title,command:e.command};return e.arguments&&(t.arguments=e.arguments),t}const D=new Map;function M(e){if(null==e)return;let t=D.get(e);if(t)return t;let n=e.split(".");t=i.CodeActionKind.Empty;for(let e of n)t=t.append(e);return t}function k(e){if(!e)return;let t=new a.default(m(e.range));return e.command&&(t.command=N(e.command)),void 0!==e.data&&null!==e.data&&(t.data=e.data),t}function L(e){if(!e)return;let n=new i.WorkspaceEdit;return e.documentChanges?e.documentChanges.forEach((e=>{r.CreateFile.is(e)?n.createFile(t(e.uri),e.options):r.RenameFile.is(e)?n.renameFile(t(e.oldUri),t(e.newUri),e.options):r.DeleteFile.is(e)?n.deleteFile(t(e.uri),e.options):r.TextDocumentEdit.is(e)?n.set(t(e.textDocument.uri),y(e.edits)):console.error(`Unknown workspace edit change received:\n${JSON.stringify(e,void 0,4)}`)})):e.changes&&Object.keys(e.changes).forEach((i=>{n.set(t(i),y(e.changes[i]))})),n}function B(e){let t=m(e.range),i=e.target?n(e.target):void 0,r=new l.default(t,i);return void 0!==e.data&&null!==e.data&&(r.data=e.data),r}function q(e){return new i.Color(e.red,e.green,e.blue,e.alpha)}function F(e){return new i.ColorInformation(m(e.range),q(e.color))}function U(e){let t=new i.ColorPresentation(e.label);return t.additionalTextEdits=y(e.additionalTextEdits),e.textEdit&&(t.textEdit=_(e.textEdit)),t}function j(e){if(e)switch(e){case r.FoldingRangeKind.Comment:return i.FoldingRangeKind.Comment;case r.FoldingRangeKind.Imports:return i.FoldingRangeKind.Imports;case r.FoldingRangeKind.Region:return i.FoldingRangeKind.Region}}function z(e){return new i.FoldingRange(e.startLine,e.endLine,j(e.kind))}return D.set("",i.CodeActionKind.Empty),D.set(r.CodeActionKind.QuickFix,i.CodeActionKind.QuickFix),D.set(r.CodeActionKind.Refactor,i.CodeActionKind.Refactor),D.set(r.CodeActionKind.RefactorExtract,i.CodeActionKind.RefactorExtract),D.set(r.CodeActionKind.RefactorInline,i.CodeActionKind.RefactorInline),D.set(r.CodeActionKind.RefactorRewrite,i.CodeActionKind.RefactorRewrite),D.set(r.CodeActionKind.Source,i.CodeActionKind.Source),D.set(r.CodeActionKind.SourceOrganizeImports,i.CodeActionKind.SourceOrganizeImports),{asUri:n,asDiagnostics:u,asDiagnostic:d,asRange:m,asPosition:h,asDiagnosticSeverity:f,asHover:function(e){if(e)return new i.Hover(function(e){if(o.string(e))return new i.MarkdownString(e);if(c.is(e))return(new i.MarkdownString).appendCodeblock(e.value,e.language);if(Array.isArray(e)){let t=[];for(let n of e){let e=new i.MarkdownString;c.is(n)?e.appendCodeblock(n.value,n.language):e.appendMarkdown(n),t.push(e)}return t}{let t;switch(e.kind){case r.MarkupKind.Markdown:return new i.MarkdownString(e.value);case r.MarkupKind.PlainText:return t=new i.MarkdownString,t.appendText(e.value),t;default:return t=new i.MarkdownString,t.appendText(`Unsupported Markup content received. Kind is: ${e.kind}`),t}}}(e.contents),m(e.range))},asCompletionResult:function(e){if(!e)return;if(Array.isArray(e))return e.map(v);let t=e;return new i.CompletionList(t.items.map(v),t.isIncomplete)},asCompletionItem:v,asTextEdit:_,asTextEdits:y,asSignatureHelp:function(e){if(!e)return;let t=new i.SignatureHelp;return o.number(e.activeSignature)?t.activeSignature=e.activeSignature:t.activeSignature=0,o.number(e.activeParameter)?t.activeParameter=e.activeParameter:t.activeParameter=0,e.signatures&&(t.signatures=S(e.signatures)),t},asSignatureInformations:S,asSignatureInformation:E,asParameterInformations:T,asParameterInformation:C,asDeclarationResult:function(e){if(e)return R(e)},asDefinitionResult:function(e){if(e)return R(e)},asLocation:b,asReferences:function(e){if(e)return e.map((e=>b(e)))},asDocumentHighlights:function(e){if(e)return e.map(A)},asDocumentHighlight:A,asDocumentHighlightKind:O,asSymbolInformations:function(e,t){if(e)return e.map((e=>x(e,t)))},asSymbolInformation:x,asDocumentSymbols:function(e){if(null!=e)return e.map(P)},asDocumentSymbol:P,asCommand:N,asCommands:function(e){if(e)return e.map(N)},asCodeAction:function(e){if(null==e)return;let t=new i.CodeAction(e.title);return void 0!==e.kind&&(t.kind=M(e.kind)),e.diagnostics&&(t.diagnostics=u(e.diagnostics)),e.edit&&(t.edit=L(e.edit)),e.command&&(t.command=N(e.command)),t},asCodeActionKind:M,asCodeActionKinds:function(e){if(null!=e)return e.map((e=>M(e)))},asCodeLens:k,asCodeLenses:function(e){if(e)return e.map((e=>k(e)))},asWorkspaceEdit:L,asDocumentLink:B,asDocumentLinks:function(e){if(e)return e.map(B)},asFoldingRangeKind:j,asFoldingRange:z,asFoldingRanges:function(e){if(Array.isArray(e))return e.map(z)},asColor:q,asColorInformation:F,asColorInformations:function(e){if(Array.isArray(e))return e.map(F)},asColorPresentation:U,asColorPresentations:function(e){if(Array.isArray(e))return e.map(U)}}}},6653:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4665);class r extends i.DocumentLink{constructor(e,t){super(e,t)}}t.default=r},9409:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(2884),r=n(2097),o=n(4665),s=n(4192),a=n(5620);function l(e,t){return void 0===e[t]&&(e[t]={}),e[t]}class c extends a.TextDocumentFeature{constructor(e){super(e,s.TypeDefinitionRequest.type)}fillClientCapabilities(e){l(l(e,"textDocument"),"typeDefinition").dynamicRegistration=!0;let t=l(l(e,"textDocument"),"typeDefinition");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){if(e.typeDefinitionProvider)if(!0===e.typeDefinitionProvider){if(!t)return;this.register(this.messages,{id:i.generateUuid(),registerOptions:Object.assign({},{documentSelector:t})})}else{const n=e.typeDefinitionProvider,o=r.string(n.id)&&n.id.length>0?n.id:i.generateUuid(),s=n.documentSelector||t;s&&this.register(this.messages,{id:o,registerOptions:Object.assign({},{documentSelector:s})})}}registerLanguageProvider(e){let t=this._client,n=(e,n,i)=>t.sendRequest(s.TypeDefinitionRequest.type,t.code2ProtocolConverter.asTextDocumentPositionParams(e,n),i).then(t.protocol2CodeConverter.asDefinitionResult,(e=>(t.logFailedRequest(s.TypeDefinitionRequest.type,e),Promise.resolve(null)))),i=t.clientOptions.middleware;return o.languages.registerTypeDefinitionProvider(e.documentSelector,{provideTypeDefinition:(e,t,r)=>i.provideTypeDefinition?i.provideTypeDefinition(e,t,r,n):n(e,t,r)})}}t.TypeDefinitionFeature=c},3299:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Delayer=class{constructor(e){this.defaultDelay=e,this.timeout=void 0,this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0}trigger(e,t=this.defaultDelay){return this.task=e,t>=0&&this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((e=>{this.onSuccess=e})).then((()=>{this.completionPromise=void 0,this.onSuccess=void 0;var e=this.task();return this.task=void 0,e}))),(t>=0||void 0===this.timeout)&&(this.timeout=setTimeout((()=>{this.timeout=void 0,this.onSuccess(void 0)}),t>=0?t:this.defaultDelay)),this.completionPromise}forceDelivery(){if(!this.completionPromise)return;this.cancelTimeout();let e=this.task();return this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0,e}isTriggered(){return void 0!==this.timeout}cancel(){this.cancelTimeout(),this.completionPromise=void 0}cancelTimeout(){void 0!==this.timeout&&(clearTimeout(this.timeout),this.timeout=void 0)}}},2097:(e,t)=>{"use strict";function n(e){return"string"==typeof e||e instanceof String}function i(e){return"function"==typeof e}function r(e){return Array.isArray(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.boolean=function(e){return!0===e||!1===e},t.string=n,t.number=function(e){return"number"==typeof e||e instanceof Number},t.error=function(e){return e instanceof Error},t.func=i,t.array=r,t.stringArray=function(e){return r(e)&&e.every((e=>n(e)))},t.typedArray=function(e,t){return Array.isArray(e)&&e.every(t)},t.thenable=function(e){return e&&i(e.then)}},9567:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(2081),r=n(1017),o="win32"===process.platform,s="darwin"===process.platform,a="linux"===process.platform;t.terminate=function(e,t){if(o)try{let n={stdio:["pipe","pipe","ignore"]};return t&&(n.cwd=t),i.execFileSync("taskkill",["/T","/F","/PID",e.pid.toString()],n),!0}catch(e){return!1}else{if(!a&&!s)return e.kill("SIGKILL"),!0;try{var n=r.join(__dirname,"terminateProcess.sh");return!i.spawnSync(n,[e.pid.toString()]).error}catch(e){return!1}}}},2884:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n{constructor(e){this._value=e}asHex(){return this._value}equals(e){return this.asHex()===e.asHex()}}class i extends n{constructor(){super([i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),"-",i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),"-","4",i._randomHex(),i._randomHex(),i._randomHex(),"-",i._oneOf(i._timeHighBits),i._randomHex(),i._randomHex(),i._randomHex(),"-",i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex()].join(""))}static _oneOf(e){return e[Math.floor(e.length*Math.random())]}static _randomHex(){return i._oneOf(i._chars)}}function r(){return new i}i._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"],i._timeHighBits=["8","9","a","b"],t.empty=new n("00000000-0000-0000-0000-000000000000"),t.v4=r;const o=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function s(e){return o.test(e)}t.isUUID=s,t.parse=function(e){if(!s(e))throw new Error("invalid uuid");return new n(e)},t.generateUuid=function(){return r().asHex()}},4670:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(2884),r=n(4665),o=n(4192);function s(e,t){if(void 0!==e)return e[t]}t.WorkspaceFoldersFeature=class{constructor(e){this._client=e,this._listeners=new Map}get messages(){return o.DidChangeWorkspaceFoldersNotification.type}fillInitializeParams(e){let t=r.workspace.workspaceFolders;e.workspaceFolders=void 0===t?null:t.map((e=>this.asProtocol(e)))}fillClientCapabilities(e){e.workspace=e.workspace||{},e.workspace.workspaceFolders=!0}initialize(e){let t=this._client;t.onRequest(o.WorkspaceFoldersRequest.type,(e=>{let n=()=>{let e=r.workspace.workspaceFolders;return void 0===e?null:e.map((e=>this.asProtocol(e)))},i=t.clientOptions.middleware.workspace;return i&&i.workspaceFolders?i.workspaceFolders(e,n):n()}));let n,a=s(s(s(e,"workspace"),"workspaceFolders"),"changeNotifications");"string"==typeof a?n=a:!0===a&&(n=i.generateUuid()),n&&this.register(this.messages,{id:n,registerOptions:void 0})}register(e,t){let n=t.id,i=this._client,s=r.workspace.onDidChangeWorkspaceFolders((e=>{let t=e=>{let t={event:{added:e.added.map((e=>this.asProtocol(e))),removed:e.removed.map((e=>this.asProtocol(e)))}};this._client.sendNotification(o.DidChangeWorkspaceFoldersNotification.type,t)},n=i.clientOptions.middleware.workspace;n&&n.didChangeWorkspaceFolders?n.didChangeWorkspaceFolders(e,t):t(e)}));this._listeners.set(n,s)}unregister(e){let t=this._listeners.get(e);void 0!==t&&(this._listeners.delete(e),t.dispose())}dispose(){for(let e of this._listeners.values())e.dispose();this._listeners.clear()}asProtocol(e){return void 0===e?null:{uri:this._client.code2ProtocolConverter.asUri(e.uri),name:e.name}}}},4192:(e,t,n)=>{"use strict";function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0});const r=n(8231);t.ErrorCodes=r.ErrorCodes,t.ResponseError=r.ResponseError,t.CancellationToken=r.CancellationToken,t.CancellationTokenSource=r.CancellationTokenSource,t.Disposable=r.Disposable,t.Event=r.Event,t.Emitter=r.Emitter,t.Trace=r.Trace,t.TraceFormat=r.TraceFormat,t.SetTraceNotification=r.SetTraceNotification,t.LogTraceNotification=r.LogTraceNotification,t.RequestType=r.RequestType,t.RequestType0=r.RequestType0,t.NotificationType=r.NotificationType,t.NotificationType0=r.NotificationType0,t.MessageReader=r.MessageReader,t.MessageWriter=r.MessageWriter,t.ConnectionStrategy=r.ConnectionStrategy,t.StreamMessageReader=r.StreamMessageReader,t.StreamMessageWriter=r.StreamMessageWriter,t.IPCMessageReader=r.IPCMessageReader,t.IPCMessageWriter=r.IPCMessageWriter,t.createClientPipeTransport=r.createClientPipeTransport,t.createServerPipeTransport=r.createServerPipeTransport,t.generateRandomPipeName=r.generateRandomPipeName,t.createClientSocketTransport=r.createClientSocketTransport,t.createServerSocketTransport=r.createServerSocketTransport,i(n(1674)),i(n(9121)),t.createProtocolConnection=function(e,t,n,i){return r.createMessageConnection(e,t,n,i)}},1418:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(8231);(t.DocumentColorRequest||(t.DocumentColorRequest={})).type=new i.RequestType("textDocument/documentColor"),(t.ColorPresentationRequest||(t.ColorPresentationRequest={})).type=new i.RequestType("textDocument/colorPresentation")},4082:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(8231);(t.ConfigurationRequest||(t.ConfigurationRequest={})).type=new i.RequestType("workspace/configuration")},3688:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(8231);(t.DeclarationRequest||(t.DeclarationRequest={})).type=new i.RequestType("textDocument/declaration")},4138:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(8231);var r;(r=t.FoldingRangeKind||(t.FoldingRangeKind={})).Comment="comment",r.Imports="imports",r.Region="region",(t.FoldingRangeRequest||(t.FoldingRangeRequest={})).type=new i.RequestType("textDocument/foldingRange")},3759:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(8231);(t.ImplementationRequest||(t.ImplementationRequest={})).type=new i.RequestType("textDocument/implementation")},9121:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(3381),r=n(8231),o=n(3759);t.ImplementationRequest=o.ImplementationRequest;const s=n(2040);t.TypeDefinitionRequest=s.TypeDefinitionRequest;const a=n(942);t.WorkspaceFoldersRequest=a.WorkspaceFoldersRequest,t.DidChangeWorkspaceFoldersNotification=a.DidChangeWorkspaceFoldersNotification;const l=n(4082);t.ConfigurationRequest=l.ConfigurationRequest;const c=n(1418);t.DocumentColorRequest=c.DocumentColorRequest,t.ColorPresentationRequest=c.ColorPresentationRequest;const u=n(4138);t.FoldingRangeRequest=u.FoldingRangeRequest;const d=n(3688);var p,h,m,f,g,v,_;t.DeclarationRequest=d.DeclarationRequest,(t.DocumentFilter||(t.DocumentFilter={})).is=function(e){let t=e;return i.string(t.language)||i.string(t.scheme)||i.string(t.pattern)},(t.RegistrationRequest||(t.RegistrationRequest={})).type=new r.RequestType("client/registerCapability"),(t.UnregistrationRequest||(t.UnregistrationRequest={})).type=new r.RequestType("client/unregisterCapability"),(_=t.ResourceOperationKind||(t.ResourceOperationKind={})).Create="create",_.Rename="rename",_.Delete="delete",(v=t.FailureHandlingKind||(t.FailureHandlingKind={})).Abort="abort",v.Transactional="transactional",v.TextOnlyTransactional="textOnlyTransactional",v.Undo="undo",(g=t.TextDocumentSyncKind||(t.TextDocumentSyncKind={})).None=0,g.Full=1,g.Incremental=2,(t.InitializeRequest||(t.InitializeRequest={})).type=new r.RequestType("initialize"),(t.InitializeError||(t.InitializeError={})).unknownProtocolVersion=1,(t.InitializedNotification||(t.InitializedNotification={})).type=new r.NotificationType("initialized"),(t.ShutdownRequest||(t.ShutdownRequest={})).type=new r.RequestType0("shutdown"),(t.ExitNotification||(t.ExitNotification={})).type=new r.NotificationType0("exit"),(t.DidChangeConfigurationNotification||(t.DidChangeConfigurationNotification={})).type=new r.NotificationType("workspace/didChangeConfiguration"),(f=t.MessageType||(t.MessageType={})).Error=1,f.Warning=2,f.Info=3,f.Log=4,(t.ShowMessageNotification||(t.ShowMessageNotification={})).type=new r.NotificationType("window/showMessage"),(t.ShowMessageRequest||(t.ShowMessageRequest={})).type=new r.RequestType("window/showMessageRequest"),(t.LogMessageNotification||(t.LogMessageNotification={})).type=new r.NotificationType("window/logMessage"),(t.TelemetryEventNotification||(t.TelemetryEventNotification={})).type=new r.NotificationType("telemetry/event"),(t.DidOpenTextDocumentNotification||(t.DidOpenTextDocumentNotification={})).type=new r.NotificationType("textDocument/didOpen"),(t.DidChangeTextDocumentNotification||(t.DidChangeTextDocumentNotification={})).type=new r.NotificationType("textDocument/didChange"),(t.DidCloseTextDocumentNotification||(t.DidCloseTextDocumentNotification={})).type=new r.NotificationType("textDocument/didClose"),(t.DidSaveTextDocumentNotification||(t.DidSaveTextDocumentNotification={})).type=new r.NotificationType("textDocument/didSave"),(t.WillSaveTextDocumentNotification||(t.WillSaveTextDocumentNotification={})).type=new r.NotificationType("textDocument/willSave"),(t.WillSaveTextDocumentWaitUntilRequest||(t.WillSaveTextDocumentWaitUntilRequest={})).type=new r.RequestType("textDocument/willSaveWaitUntil"),(t.DidChangeWatchedFilesNotification||(t.DidChangeWatchedFilesNotification={})).type=new r.NotificationType("workspace/didChangeWatchedFiles"),(m=t.FileChangeType||(t.FileChangeType={})).Created=1,m.Changed=2,m.Deleted=3,(h=t.WatchKind||(t.WatchKind={})).Create=1,h.Change=2,h.Delete=4,(t.PublishDiagnosticsNotification||(t.PublishDiagnosticsNotification={})).type=new r.NotificationType("textDocument/publishDiagnostics"),(p=t.CompletionTriggerKind||(t.CompletionTriggerKind={})).Invoked=1,p.TriggerCharacter=2,p.TriggerForIncompleteCompletions=3,(t.CompletionRequest||(t.CompletionRequest={})).type=new r.RequestType("textDocument/completion"),(t.CompletionResolveRequest||(t.CompletionResolveRequest={})).type=new r.RequestType("completionItem/resolve"),(t.HoverRequest||(t.HoverRequest={})).type=new r.RequestType("textDocument/hover"),(t.SignatureHelpRequest||(t.SignatureHelpRequest={})).type=new r.RequestType("textDocument/signatureHelp"),(t.DefinitionRequest||(t.DefinitionRequest={})).type=new r.RequestType("textDocument/definition"),(t.ReferencesRequest||(t.ReferencesRequest={})).type=new r.RequestType("textDocument/references"),(t.DocumentHighlightRequest||(t.DocumentHighlightRequest={})).type=new r.RequestType("textDocument/documentHighlight"),(t.DocumentSymbolRequest||(t.DocumentSymbolRequest={})).type=new r.RequestType("textDocument/documentSymbol"),(t.WorkspaceSymbolRequest||(t.WorkspaceSymbolRequest={})).type=new r.RequestType("workspace/symbol"),(t.CodeActionRequest||(t.CodeActionRequest={})).type=new r.RequestType("textDocument/codeAction"),(t.CodeLensRequest||(t.CodeLensRequest={})).type=new r.RequestType("textDocument/codeLens"),(t.CodeLensResolveRequest||(t.CodeLensResolveRequest={})).type=new r.RequestType("codeLens/resolve"),(t.DocumentFormattingRequest||(t.DocumentFormattingRequest={})).type=new r.RequestType("textDocument/formatting"),(t.DocumentRangeFormattingRequest||(t.DocumentRangeFormattingRequest={})).type=new r.RequestType("textDocument/rangeFormatting"),(t.DocumentOnTypeFormattingRequest||(t.DocumentOnTypeFormattingRequest={})).type=new r.RequestType("textDocument/onTypeFormatting"),(t.RenameRequest||(t.RenameRequest={})).type=new r.RequestType("textDocument/rename"),(t.PrepareRenameRequest||(t.PrepareRenameRequest={})).type=new r.RequestType("textDocument/prepareRename"),(t.DocumentLinkRequest||(t.DocumentLinkRequest={})).type=new r.RequestType("textDocument/documentLink"),(t.DocumentLinkResolveRequest||(t.DocumentLinkResolveRequest={})).type=new r.RequestType("documentLink/resolve"),(t.ExecuteCommandRequest||(t.ExecuteCommandRequest={})).type=new r.RequestType("workspace/executeCommand"),(t.ApplyWorkspaceEditRequest||(t.ApplyWorkspaceEditRequest={})).type=new r.RequestType("workspace/applyEdit")},2040:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(8231);(t.TypeDefinitionRequest||(t.TypeDefinitionRequest={})).type=new i.RequestType("textDocument/typeDefinition")},942:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(8231);(t.WorkspaceFoldersRequest||(t.WorkspaceFoldersRequest={})).type=new i.RequestType0("workspace/workspaceFolders"),(t.DidChangeWorkspaceFoldersNotification||(t.DidChangeWorkspaceFoldersNotification={})).type=new i.NotificationType("workspace/didChangeWorkspaceFolders")},3381:(e,t)=>{"use strict";function n(e){return"string"==typeof e||e instanceof String}function i(e){return"function"==typeof e}function r(e){return Array.isArray(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.boolean=function(e){return!0===e||!1===e},t.string=n,t.number=function(e){return"number"==typeof e||e instanceof Number},t.error=function(e){return e instanceof Error},t.func=i,t.array=r,t.stringArray=function(e){return r(e)&&e.every((e=>n(e)))},t.typedArray=function(e,t){return Array.isArray(e)&&e.every(t)},t.thenable=function(e){return e&&i(e.then)}},1674:(e,t,n)=>{"use strict";var i,r,o,s,a,l,c,u,d,p,h,m,f,g,v,_,y,S,E;n.r(t),n.d(t,{CodeAction:()=>H,CodeActionContext:()=>z,CodeActionKind:()=>j,CodeLens:()=>V,Color:()=>a,ColorInformation:()=>l,ColorPresentation:()=>c,Command:()=>f,CompletionItem:()=>w,CompletionItemKind:()=>A,CompletionList:()=>x,CreateFile:()=>_,DeleteFile:()=>S,Diagnostic:()=>m,DiagnosticRelatedInformation:()=>p,DiagnosticSeverity:()=>h,DocumentHighlight:()=>L,DocumentHighlightKind:()=>k,DocumentLink:()=>$,DocumentSymbol:()=>W,EOL:()=>Y,FoldingRange:()=>d,FoldingRangeKind:()=>u,FormattingOptions:()=>G,Hover:()=>N,InsertTextFormat:()=>O,Location:()=>o,LocationLink:()=>s,MarkedString:()=>P,MarkupContent:()=>R,MarkupKind:()=>I,ParameterInformation:()=>D,Position:()=>i,Range:()=>r,RenameFile:()=>y,SignatureInformation:()=>M,SymbolInformation:()=>q,SymbolKind:()=>B,TextDocument:()=>K,TextDocumentEdit:()=>v,TextDocumentIdentifier:()=>T,TextDocumentItem:()=>b,TextDocumentSaveReason:()=>X,TextEdit:()=>g,VersionedTextDocumentIdentifier:()=>C,WorkspaceChange:()=>U,WorkspaceEdit:()=>E}),function(e){e.create=function(e,t){return{line:e,character:t}},e.is=function(e){var t=e;return Q.objectLiteral(t)&&Q.number(t.line)&&Q.number(t.character)}}(i||(i={})),function(e){e.create=function(e,t,n,r){if(Q.number(e)&&Q.number(t)&&Q.number(n)&&Q.number(r))return{start:i.create(e,t),end:i.create(n,r)};if(i.is(e)&&i.is(t))return{start:e,end:t};throw new Error("Range#create called with invalid arguments["+e+", "+t+", "+n+", "+r+"]")},e.is=function(e){var t=e;return Q.objectLiteral(t)&&i.is(t.start)&&i.is(t.end)}}(r||(r={})),function(e){e.create=function(e,t){return{uri:e,range:t}},e.is=function(e){var t=e;return Q.defined(t)&&r.is(t.range)&&(Q.string(t.uri)||Q.undefined(t.uri))}}(o||(o={})),function(e){e.create=function(e,t,n,i){return{targetUri:e,targetRange:t,targetSelectionRange:n,originSelectionRange:i}},e.is=function(e){var t=e;return Q.defined(t)&&r.is(t.targetRange)&&Q.string(t.targetUri)&&(r.is(t.targetSelectionRange)||Q.undefined(t.targetSelectionRange))&&(r.is(t.originSelectionRange)||Q.undefined(t.originSelectionRange))}}(s||(s={})),function(e){e.create=function(e,t,n,i){return{red:e,green:t,blue:n,alpha:i}},e.is=function(e){var t=e;return Q.number(t.red)&&Q.number(t.green)&&Q.number(t.blue)&&Q.number(t.alpha)}}(a||(a={})),function(e){e.create=function(e,t){return{range:e,color:t}},e.is=function(e){var t=e;return r.is(t.range)&&a.is(t.color)}}(l||(l={})),function(e){e.create=function(e,t,n){return{label:e,textEdit:t,additionalTextEdits:n}},e.is=function(e){var t=e;return Q.string(t.label)&&(Q.undefined(t.textEdit)||g.is(t))&&(Q.undefined(t.additionalTextEdits)||Q.typedArray(t.additionalTextEdits,g.is))}}(c||(c={})),function(e){e.Comment="comment",e.Imports="imports",e.Region="region"}(u||(u={})),function(e){e.create=function(e,t,n,i,r){var o={startLine:e,endLine:t};return Q.defined(n)&&(o.startCharacter=n),Q.defined(i)&&(o.endCharacter=i),Q.defined(r)&&(o.kind=r),o},e.is=function(e){var t=e;return Q.number(t.startLine)&&Q.number(t.startLine)&&(Q.undefined(t.startCharacter)||Q.number(t.startCharacter))&&(Q.undefined(t.endCharacter)||Q.number(t.endCharacter))&&(Q.undefined(t.kind)||Q.string(t.kind))}}(d||(d={})),function(e){e.create=function(e,t){return{location:e,message:t}},e.is=function(e){var t=e;return Q.defined(t)&&o.is(t.location)&&Q.string(t.message)}}(p||(p={})),function(e){e.Error=1,e.Warning=2,e.Information=3,e.Hint=4}(h||(h={})),function(e){e.create=function(e,t,n,i,r,o){var s={range:e,message:t};return Q.defined(n)&&(s.severity=n),Q.defined(i)&&(s.code=i),Q.defined(r)&&(s.source=r),Q.defined(o)&&(s.relatedInformation=o),s},e.is=function(e){var t=e;return Q.defined(t)&&r.is(t.range)&&Q.string(t.message)&&(Q.number(t.severity)||Q.undefined(t.severity))&&(Q.number(t.code)||Q.string(t.code)||Q.undefined(t.code))&&(Q.string(t.source)||Q.undefined(t.source))&&(Q.undefined(t.relatedInformation)||Q.typedArray(t.relatedInformation,p.is))}}(m||(m={})),function(e){e.create=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var r={title:e,command:t};return Q.defined(n)&&n.length>0&&(r.arguments=n),r},e.is=function(e){var t=e;return Q.defined(t)&&Q.string(t.title)&&Q.string(t.command)}}(f||(f={})),function(e){e.replace=function(e,t){return{range:e,newText:t}},e.insert=function(e,t){return{range:{start:e,end:e},newText:t}},e.del=function(e){return{range:e,newText:""}},e.is=function(e){var t=e;return Q.objectLiteral(t)&&Q.string(t.newText)&&r.is(t.range)}}(g||(g={})),function(e){e.create=function(e,t){return{textDocument:e,edits:t}},e.is=function(e){var t=e;return Q.defined(t)&&C.is(t.textDocument)&&Array.isArray(t.edits)}}(v||(v={})),function(e){e.create=function(e,t){var n={kind:"create",uri:e};return void 0===t||void 0===t.overwrite&&void 0===t.ignoreIfExists||(n.options=t),n},e.is=function(e){var t=e;return t&&"create"===t.kind&&Q.string(t.uri)&&(void 0===t.options||(void 0===t.options.overwrite||Q.boolean(t.options.overwrite))&&(void 0===t.options.ignoreIfExists||Q.boolean(t.options.ignoreIfExists)))}}(_||(_={})),function(e){e.create=function(e,t,n){var i={kind:"rename",oldUri:e,newUri:t};return void 0===n||void 0===n.overwrite&&void 0===n.ignoreIfExists||(i.options=n),i},e.is=function(e){var t=e;return t&&"rename"===t.kind&&Q.string(t.oldUri)&&Q.string(t.newUri)&&(void 0===t.options||(void 0===t.options.overwrite||Q.boolean(t.options.overwrite))&&(void 0===t.options.ignoreIfExists||Q.boolean(t.options.ignoreIfExists)))}}(y||(y={})),function(e){e.create=function(e,t){var n={kind:"delete",uri:e};return void 0===t||void 0===t.recursive&&void 0===t.ignoreIfNotExists||(n.options=t),n},e.is=function(e){var t=e;return t&&"delete"===t.kind&&Q.string(t.uri)&&(void 0===t.options||(void 0===t.options.recursive||Q.boolean(t.options.recursive))&&(void 0===t.options.ignoreIfNotExists||Q.boolean(t.options.ignoreIfNotExists)))}}(S||(S={})),function(e){e.is=function(e){var t=e;return t&&(void 0!==t.changes||void 0!==t.documentChanges)&&(void 0===t.documentChanges||t.documentChanges.every((function(e){return Q.string(e.kind)?_.is(e)||y.is(e)||S.is(e):v.is(e)})))}}(E||(E={}));var T,C,b,I,R,A,O,w,x,P,N,D,M,k,L,B,q,F=function(){function e(e){this.edits=e}return e.prototype.insert=function(e,t){this.edits.push(g.insert(e,t))},e.prototype.replace=function(e,t){this.edits.push(g.replace(e,t))},e.prototype.delete=function(e){this.edits.push(g.del(e))},e.prototype.add=function(e){this.edits.push(e)},e.prototype.all=function(){return this.edits},e.prototype.clear=function(){this.edits.splice(0,this.edits.length)},e}(),U=function(){function e(e){var t=this;this._textEditChanges=Object.create(null),e&&(this._workspaceEdit=e,e.documentChanges?e.documentChanges.forEach((function(e){if(v.is(e)){var n=new F(e.edits);t._textEditChanges[e.textDocument.uri]=n}})):e.changes&&Object.keys(e.changes).forEach((function(n){var i=new F(e.changes[n]);t._textEditChanges[n]=i})))}return Object.defineProperty(e.prototype,"edit",{get:function(){return this._workspaceEdit},enumerable:!0,configurable:!0}),e.prototype.getTextEditChange=function(e){if(C.is(e)){if(this._workspaceEdit||(this._workspaceEdit={documentChanges:[]}),!this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var t=e;if(!(i=this._textEditChanges[t.uri])){var n={textDocument:t,edits:r=[]};this._workspaceEdit.documentChanges.push(n),i=new F(r),this._textEditChanges[t.uri]=i}return i}if(this._workspaceEdit||(this._workspaceEdit={changes:Object.create(null)}),!this._workspaceEdit.changes)throw new Error("Workspace edit is not configured for normal text edit changes.");var i;if(!(i=this._textEditChanges[e])){var r=[];this._workspaceEdit.changes[e]=r,i=new F(r),this._textEditChanges[e]=i}return i},e.prototype.createFile=function(e,t){this.checkDocumentChanges(),this._workspaceEdit.documentChanges.push(_.create(e,t))},e.prototype.renameFile=function(e,t,n){this.checkDocumentChanges(),this._workspaceEdit.documentChanges.push(y.create(e,t,n))},e.prototype.deleteFile=function(e,t){this.checkDocumentChanges(),this._workspaceEdit.documentChanges.push(S.create(e,t))},e.prototype.checkDocumentChanges=function(){if(!this._workspaceEdit||!this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.")},e}();!function(e){e.create=function(e){return{uri:e}},e.is=function(e){var t=e;return Q.defined(t)&&Q.string(t.uri)}}(T||(T={})),function(e){e.create=function(e,t){return{uri:e,version:t}},e.is=function(e){var t=e;return Q.defined(t)&&Q.string(t.uri)&&(null===t.version||Q.number(t.version))}}(C||(C={})),function(e){e.create=function(e,t,n,i){return{uri:e,languageId:t,version:n,text:i}},e.is=function(e){var t=e;return Q.defined(t)&&Q.string(t.uri)&&Q.string(t.languageId)&&Q.number(t.version)&&Q.string(t.text)}}(b||(b={})),function(e){e.PlainText="plaintext",e.Markdown="markdown"}(I||(I={})),function(e){e.is=function(t){var n=t;return n===e.PlainText||n===e.Markdown}}(I||(I={})),function(e){e.is=function(e){var t=e;return Q.objectLiteral(e)&&I.is(t.kind)&&Q.string(t.value)}}(R||(R={})),function(e){e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25}(A||(A={})),function(e){e.PlainText=1,e.Snippet=2}(O||(O={})),function(e){e.create=function(e){return{label:e}}}(w||(w={})),function(e){e.create=function(e,t){return{items:e||[],isIncomplete:!!t}}}(x||(x={})),function(e){e.fromPlainText=function(e){return e.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")},e.is=function(e){var t=e;return Q.string(t)||Q.objectLiteral(t)&&Q.string(t.language)&&Q.string(t.value)}}(P||(P={})),function(e){e.is=function(e){var t=e;return!!t&&Q.objectLiteral(t)&&(R.is(t.contents)||P.is(t.contents)||Q.typedArray(t.contents,P.is))&&(void 0===e.range||r.is(e.range))}}(N||(N={})),function(e){e.create=function(e,t){return t?{label:e,documentation:t}:{label:e}}}(D||(D={})),function(e){e.create=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var r={label:e};return Q.defined(t)&&(r.documentation=t),Q.defined(n)?r.parameters=n:r.parameters=[],r}}(M||(M={})),function(e){e.Text=1,e.Read=2,e.Write=3}(k||(k={})),function(e){e.create=function(e,t){var n={range:e};return Q.number(t)&&(n.kind=t),n}}(L||(L={})),function(e){e.File=1,e.Module=2,e.Namespace=3,e.Package=4,e.Class=5,e.Method=6,e.Property=7,e.Field=8,e.Constructor=9,e.Enum=10,e.Interface=11,e.Function=12,e.Variable=13,e.Constant=14,e.String=15,e.Number=16,e.Boolean=17,e.Array=18,e.Object=19,e.Key=20,e.Null=21,e.EnumMember=22,e.Struct=23,e.Event=24,e.Operator=25,e.TypeParameter=26}(B||(B={})),function(e){e.create=function(e,t,n,i,r){var o={name:e,kind:t,location:{uri:i,range:n}};return r&&(o.containerName=r),o}}(q||(q={}));var j,z,H,V,G,W=function(){};!function(e){e.create=function(e,t,n,i,r,o){var s={name:e,detail:t,kind:n,range:i,selectionRange:r};return void 0!==o&&(s.children=o),s},e.is=function(e){var t=e;return t&&Q.string(t.name)&&Q.number(t.kind)&&r.is(t.range)&&r.is(t.selectionRange)&&(void 0===t.detail||Q.string(t.detail))&&(void 0===t.deprecated||Q.boolean(t.deprecated))&&(void 0===t.children||Array.isArray(t.children))}}(W||(W={})),function(e){e.QuickFix="quickfix",e.Refactor="refactor",e.RefactorExtract="refactor.extract",e.RefactorInline="refactor.inline",e.RefactorRewrite="refactor.rewrite",e.Source="source",e.SourceOrganizeImports="source.organizeImports"}(j||(j={})),function(e){e.create=function(e,t){var n={diagnostics:e};return null!=t&&(n.only=t),n},e.is=function(e){var t=e;return Q.defined(t)&&Q.typedArray(t.diagnostics,m.is)&&(void 0===t.only||Q.typedArray(t.only,Q.string))}}(z||(z={})),function(e){e.create=function(e,t,n){var i={title:e};return f.is(t)?i.command=t:i.edit=t,void 0!==n&&(i.kind=n),i},e.is=function(e){var t=e;return t&&Q.string(t.title)&&(void 0===t.diagnostics||Q.typedArray(t.diagnostics,m.is))&&(void 0===t.kind||Q.string(t.kind))&&(void 0!==t.edit||void 0!==t.command)&&(void 0===t.command||f.is(t.command))&&(void 0===t.edit||E.is(t.edit))}}(H||(H={})),function(e){e.create=function(e,t){var n={range:e};return Q.defined(t)&&(n.data=t),n},e.is=function(e){var t=e;return Q.defined(t)&&r.is(t.range)&&(Q.undefined(t.command)||f.is(t.command))}}(V||(V={})),function(e){e.create=function(e,t){return{tabSize:e,insertSpaces:t}},e.is=function(e){var t=e;return Q.defined(t)&&Q.number(t.tabSize)&&Q.boolean(t.insertSpaces)}}(G||(G={}));var $=function(){};!function(e){e.create=function(e,t,n){return{range:e,target:t,data:n}},e.is=function(e){var t=e;return Q.defined(t)&&r.is(t.range)&&(Q.undefined(t.target)||Q.string(t.target))}}($||($={}));var K,X,Y=["\n","\r\n","\r"];!function(e){function t(e,n){if(e.length<=1)return e;var i=e.length/2|0,r=e.slice(0,i),o=e.slice(i);t(r,n),t(o,n);for(var s=0,a=0,l=0;s<r.length&&a<o.length;){var c=n(r[s],o[a]);e[l++]=c<=0?r[s++]:o[a++]}for(;s<r.length;)e[l++]=r[s++];for(;a<o.length;)e[l++]=o[a++];return e}e.create=function(e,t,n,i){return new J(e,t,n,i)},e.is=function(e){var t=e;return!!(Q.defined(t)&&Q.string(t.uri)&&(Q.undefined(t.languageId)||Q.string(t.languageId))&&Q.number(t.lineCount)&&Q.func(t.getText)&&Q.func(t.positionAt)&&Q.func(t.offsetAt))},e.applyEdits=function(e,n){for(var i=e.getText(),r=t(n,(function(e,t){var n=e.range.start.line-t.range.start.line;return 0===n?e.range.start.character-t.range.start.character:n})),o=i.length,s=r.length-1;s>=0;s--){var a=r[s],l=e.offsetAt(a.range.start),c=e.offsetAt(a.range.end);if(!(c<=o))throw new Error("Overlapping edit");i=i.substring(0,l)+a.newText+i.substring(c,i.length),o=l}return i}}(K||(K={})),function(e){e.Manual=1,e.AfterDelay=2,e.FocusOut=3}(X||(X={}));var Q,J=function(){function e(e,t,n,i){this._uri=e,this._languageId=t,this._version=n,this._content=i,this._lineOffsets=null}return Object.defineProperty(e.prototype,"uri",{get:function(){return this._uri},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"version",{get:function(){return this._version},enumerable:!0,configurable:!0}),e.prototype.getText=function(e){if(e){var t=this.offsetAt(e.start),n=this.offsetAt(e.end);return this._content.substring(t,n)}return this._content},e.prototype.update=function(e,t){this._content=e.text,this._version=t,this._lineOffsets=null},e.prototype.getLineOffsets=function(){if(null===this._lineOffsets){for(var e=[],t=this._content,n=!0,i=0;i<t.length;i++){n&&(e.push(i),n=!1);var r=t.charAt(i);n="\r"===r||"\n"===r,"\r"===r&&i+1<t.length&&"\n"===t.charAt(i+1)&&i++}n&&t.length>0&&e.push(t.length),this._lineOffsets=e}return this._lineOffsets},e.prototype.positionAt=function(e){e=Math.max(Math.min(e,this._content.length),0);var t=this.getLineOffsets(),n=0,r=t.length;if(0===r)return i.create(0,e);for(;n<r;){var o=Math.floor((n+r)/2);t[o]>e?r=o:n=o+1}var s=n-1;return i.create(s,e-t[s])},e.prototype.offsetAt=function(e){var t=this.getLineOffsets();if(e.line>=t.length)return this._content.length;if(e.line<0)return 0;var n=t[e.line],i=e.line+1<t.length?t[e.line+1]:this._content.length;return Math.max(Math.min(n+e.character,i),n)},Object.defineProperty(e.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!0,configurable:!0}),e}();!function(e){var t=Object.prototype.toString;e.defined=function(e){return void 0!==e},e.undefined=function(e){return void 0===e},e.boolean=function(e){return!0===e||!1===e},e.string=function(e){return"[object String]"===t.call(e)},e.number=function(e){return"[object Number]"===t.call(e)},e.func=function(e){return"[object Function]"===t.call(e)},e.objectLiteral=function(e){return null!==e&&"object"==typeof e},e.typedArray=function(e,t){return Array.isArray(e)&&e.every(t)}}(Q||(Q={}))},1784:e=>{"use strict";e.exports=require("@microsoft/1ds-core-js")},4090:e=>{"use strict";e.exports=require("@microsoft/applicationinsights-core-js")},8630:e=>{"use strict";e.exports=require("@microsoft/applicationinsights-shims")},2016:e=>{"use strict";e.exports=require("@microsoft/dynamicproto-js")},2114:e=>{"use strict";e.exports=require("applicationinsights-native-metrics")},9690:e=>{"use strict";e.exports=require("azdata")},4665:e=>{"use strict";e.exports=require("vscode")},9491:e=>{"use strict";e.exports=require("assert")},852:e=>{"use strict";e.exports=require("async_hooks")},2081:e=>{"use strict";e.exports=require("child_process")},6206:e=>{"use strict";e.exports=require("console")},2057:e=>{"use strict";e.exports=require("constants")},6113:e=>{"use strict";e.exports=require("crypto")},9523:e=>{"use strict";e.exports=require("dns")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},8188:e=>{"use strict";e.exports=require("module")},1808:e=>{"use strict";e.exports=require("net")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},4074:e=>{"use strict";e.exports=require("perf_hooks")},2781:e=>{"use strict";e.exports=require("stream")},9512:e=>{"use strict";e.exports=require("timers")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},4147:e=>{"use strict";e.exports=JSON.parse('{"name":"postgresql-migration","version":"2.0.6","aiKey":"AIF-37eefaf0-8022-4671-a3fb-64752724682e","displayName":"%constants.extensionName%","description":"%constants.description%","publisher":"Microsoft","preview":true,"license":"SEE LICENSE IN LICENSE.rtf","icon":"images/postgreSQLMigrationIcon.png","repository":{"type":"git","url":"https://github.com/Microsoft/PostgresToAzure.git"},"engines":{"vscode":"*","azdata":">=1.40.0"},"categories":["Other"],"activationEvents":["*","onCommand:postgresql-migration.startassessment","onCommand:postgresql-migration.newsupportrequest","onCommand:postgresql-migration.sendfeedback"],"main":"./bin/dist/extension.js","extensionDependencies":["microsoft.net-6-runtime","microsoft.azuredatastudio-postgresql"],"contributes":{"commands":[{"command":"postgresql-migration.startassessment","title":"Start Assessment","category":"Azure PostgreSQL migration"},{"command":"postgresql-migration.newsupportrequest","title":"Help & Support ","category":"Azure PostgreSQL migration"},{"command":"postgresql-migration.sendfeedback","title":"Send feedback","category":"Azure PostgreSQL migration"}],"menu":{"commandPalette":[{"command":"postgresql-migration.startassessment","when":"false"},{"command":"postgresql-migration.newsupportrequest","when":"false"},{"command":"postgresql-migration.sendfeedback","when":"false"}]},"configuration":[{"title":"%constants.extensionName%","properties":{"postgresqlAssessment.assessmentPath":{"type":"string","default":"","description":"Local path to store your assessment and performance statistics."},"postgresqlAssessment.expandAssessmentDetails":{"type":"boolean","default":false,"description":"Expand Assessment Details."}}}],"dashboard.tabs":[{"id":"postgresql-dashboard","description":"Azure PostgreSQL migration","provider":"PGSQL","title":"Azure PostgreSQL migration","when":"connectionProvider == \'PGSQL\'","icon":"images/postgreSQLMigrationIcon.png","container":{"modelview-container":null}}]},"scripts":{"vscode:prepublish":"npm run compile","compile":"tsc -p ./","lint":"eslint src --ext ts","watch":"tsc -watch -p ./","pretest":"npm run compile && npm run lint","proposedapi":"node installTypings.js","build":"eslint src/** test/** -f visualstudio && tsc --build","clean":"tsc --build --clean","test":"mocha bin/test/*.spec.js","package":"webpack --mode production && vsce package -o bin","package-debug":"dotnet publish ../Microsoft.AdsPgSqlAssessment.Service/Microsoft.AdsPgSqlAssessment.Service.csproj -p:PublishProfile=PublishToExtensionFolder && webpack --mode development && npm run create-vsix-package","create-vsix-package":"vsce package -o bin","minify":"webpack --mode production"},"devDependencies":{"@types/azdata":"^1.40.0","@types/crypto-js":"^4.1.0","@types/mocha":"^8.2.1","@types/node":"^12.20.5","@types/uuid":"^8.3.4","@types/vscode":"^1.39.0","@typescript-eslint/eslint-plugin":"^4.17.0","@typescript-eslint/parser":"^4.17.0","copy-webpack-plugin":"^9.0.1","dts-bundle-webpack":"^1.0.2","eslint":"^7.22.0","eslint-plugin-import":"^2.22.1","eslint-plugin-mocha":"^8.1.0","eslint-plugin-node":"^11.1.0","eslint-plugin-promise":"^4.3.1","mocha":"^8.3.2","ts-loader":"^8.0.18","typescript":"^4.2.3","vsce":"^1.103.1","webpack":"^5.74.0","webpack-cli":"^4.9.1"},"dependencies":{"@microsoft/ads-extension-telemetry":"^3.0.1","crypto-js":"^4.1.1","chart.js":"^4.1.1","dataprotocol-client":"github:microsoft/sqlops-dataprotocolclient#1.2.2","uuid":"^8.3.2","vscode-languageclient":"5.2.1","vscode-nls":"^5.0.0"},"__metadata":{"id":"97","publisherDisplayName":"Microsoft","publisherId":"Microsoft"}}')}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var o=t[i]={exports:{}};return e[i].call(o.exports,o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i=n(112);module.exports=i})();
//# sourceMappingURL=extension.js.map
// SIG // Begin signature block
// SIG // MIInwAYJKoZIhvcNAQcCoIInsTCCJ60CAQExDzANBglg
// SIG // hkgBZQMEAgEFADB3BgorBgEEAYI3AgEEoGkwZzAyBgor
// SIG // BgEEAYI3AgEeMCQCAQEEEBDgyQbOONQRoqMAEEvTUJAC
// SIG // AQACAQACAQACAQACAQAwMTANBglghkgBZQMEAgEFAAQg
// SIG // 3siECTB12MQV17q/qiJMgzGsqf01QihAgAUNhxM0fUWg
// SIG // gg12MIIF9DCCA9ygAwIBAgITMwAAA061PHrBhG/rKwAA
// SIG // AAADTjANBgkqhkiG9w0BAQsFADB+MQswCQYDVQQGEwJV
// SIG // UzETMBEGA1UECBMKV2FzaGluZ3RvbjEQMA4GA1UEBxMH
// SIG // UmVkbW9uZDEeMBwGA1UEChMVTWljcm9zb2Z0IENvcnBv
// SIG // cmF0aW9uMSgwJgYDVQQDEx9NaWNyb3NvZnQgQ29kZSBT
// SIG // aWduaW5nIFBDQSAyMDExMB4XDTIzMDMxNjE4NDMyOVoX
// SIG // DTI0MDMxNDE4NDMyOVowdDELMAkGA1UEBhMCVVMxEzAR
// SIG // BgNVBAgTCldhc2hpbmd0b24xEDAOBgNVBAcTB1JlZG1v
// SIG // bmQxHjAcBgNVBAoTFU1pY3Jvc29mdCBDb3Jwb3JhdGlv
// SIG // bjEeMBwGA1UEAxMVTWljcm9zb2Z0IENvcnBvcmF0aW9u
// SIG // MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA
// SIG // 3QiojSOiARVrryVJn+lnTiamZiMGLORuwCQ+VG3C+rbA
// SIG // vhATw269+qRRqNW7FKed50chWJ53KDIPBStHfIy5cNJY
// SIG // HsQw6+4InH9szgRVqn7/50i8MyRTT+VtNwxf9daGddq0
// SIG // hahpZvjuOnEY0wxQaTEQmWRnXWZUQY4r28tHiNVYEw9U
// SIG // 7wHXwWEHvNn4ZlkJGEf5VpgCvr1v9fmzu4x2sV0zQsSy
// SIG // AVtOxfDwY1HMBcccn23tphweIdS+FNDn2vh1/2kREO0q
// SIG // mGc+fbFzNskjn72MiI56kjvNDRgWs+Q78yBvPCdPgTYT
// SIG // rto5eg33Ko2ELNR/zzEkCCuhO5Vw10qV8wIDAQABo4IB
// SIG // czCCAW8wHwYDVR0lBBgwFgYKKwYBBAGCN0wIAQYIKwYB
// SIG // BQUHAwMwHQYDVR0OBBYEFJzHO2Z/7pCgbAYlpMHTX7De
// SIG // aXcAMEUGA1UdEQQ+MDykOjA4MR4wHAYDVQQLExVNaWNy
// SIG // b3NvZnQgQ29ycG9yYXRpb24xFjAUBgNVBAUTDTIzMDAx
// SIG // Mis1MDA1MTYwHwYDVR0jBBgwFoAUSG5k5VAF04KqFzc3
// SIG // IrVtqMp1ApUwVAYDVR0fBE0wSzBJoEegRYZDaHR0cDov
// SIG // L3d3dy5taWNyb3NvZnQuY29tL3BraW9wcy9jcmwvTWlj
// SIG // Q29kU2lnUENBMjAxMV8yMDExLTA3LTA4LmNybDBhBggr
// SIG // BgEFBQcBAQRVMFMwUQYIKwYBBQUHMAKGRWh0dHA6Ly93
// SIG // d3cubWljcm9zb2Z0LmNvbS9wa2lvcHMvY2VydHMvTWlj
// SIG // Q29kU2lnUENBMjAxMV8yMDExLTA3LTA4LmNydDAMBgNV
// SIG // HRMBAf8EAjAAMA0GCSqGSIb3DQEBCwUAA4ICAQA9tb/a
// SIG // R6C3QUjZRQI5pJseF8TmQD7FccV2w8kL9fpBg3vV6YAZ
// SIG // 09ZV58eyQ6RTCgcAMiMHSJ5r4SvaRgWt9U8ni96e0drN
// SIG // C/EgATz0SRwBJODR6QV8R45uEyo3swG0qqm4LMtdGOyg
// SIG // KcvvVKymtpBprLgErJPeT1Zub3puzpk7ONr5tASVFPiT
// SIG // 0C4PGP7HY907Uny2GGQGicEwCIIu3Yc5+YWrS6Ow4c/u
// SIG // E/jKxXfui1GtlN86/e0MMw7YcfkT/f0WZ7q+Ip80kLBu
// SIG // QwlSDKQNZdjVhANygHGtLSNpeoUDWLGii9ZHn3Xxwqz8
// SIG // RK8vKJyY8hhr/WCqC7+gDjuzoSRJm0Jc/8ZLGBtjfyUj
// SIG // ifkKmKRkxLmBWFVmop+x3uo4G+NSW6Thig3RP2/ldqv4
// SIG // F1IBXtoHcE6Qg7L4fEjEaKtfwTV3K+4kwFN/FYK/N4lb
// SIG // T2JhYWTlTNFC6f5Ck1aIqyKT9igsU+DnpDnLbfIK2J4S
// SIG // dekDI5jL+aOd4YzRVzsYoJEFmM1DvusOdINBQHhWvObo
// SIG // AggepVxJNtRRQdRXSB6Y0kH/iz/1tjlfx34Qt7kz4Cm0
// SIG // bV6PN02WBLnaKMmfwFbtPLIm2dzJBjiTkSxETcCpthu6
// SIG // KnTr+EI/GdCaxoDM4+OjRSgMZC0qROaB0GD9R7T8dZT3
// SIG // w+4jUmybD+i4lB1x9TCCB3owggVioAMCAQICCmEOkNIA
// SIG // AAAAAAMwDQYJKoZIhvcNAQELBQAwgYgxCzAJBgNVBAYT
// SIG // AlVTMRMwEQYDVQQIEwpXYXNoaW5ndG9uMRAwDgYDVQQH
// SIG // EwdSZWRtb25kMR4wHAYDVQQKExVNaWNyb3NvZnQgQ29y
// SIG // cG9yYXRpb24xMjAwBgNVBAMTKU1pY3Jvc29mdCBSb290
// SIG // IENlcnRpZmljYXRlIEF1dGhvcml0eSAyMDExMB4XDTEx
// SIG // MDcwODIwNTkwOVoXDTI2MDcwODIxMDkwOVowfjELMAkG
// SIG // A1UEBhMCVVMxEzARBgNVBAgTCldhc2hpbmd0b24xEDAO
// SIG // BgNVBAcTB1JlZG1vbmQxHjAcBgNVBAoTFU1pY3Jvc29m
// SIG // dCBDb3Jwb3JhdGlvbjEoMCYGA1UEAxMfTWljcm9zb2Z0
// SIG // IENvZGUgU2lnbmluZyBQQ0EgMjAxMTCCAiIwDQYJKoZI
// SIG // hvcNAQEBBQADggIPADCCAgoCggIBAKvw+nIQHC6t2G6q
// SIG // ghBNNLrytlghn0IbKmvpWlCquAY4GgRJun/DDB7dN2vG
// SIG // EtgL8DjCmQawyDnVARQxQtOJDXlkh36UYCRsr55JnOlo
// SIG // XtLfm1OyCizDr9mpK656Ca/XllnKYBoF6WZ26DJSJhIv
// SIG // 56sIUM+zRLdd2MQuA3WraPPLbfM6XKEW9Ea64DhkrG5k
// SIG // NXimoGMPLdNAk/jj3gcN1Vx5pUkp5w2+oBN3vpQ97/vj
// SIG // K1oQH01WKKJ6cuASOrdJXtjt7UORg9l7snuGG9k+sYxd
// SIG // 6IlPhBryoS9Z5JA7La4zWMW3Pv4y07MDPbGyr5I4ftKd
// SIG // gCz1TlaRITUlwzluZH9TupwPrRkjhMv0ugOGjfdf8NBS
// SIG // v4yUh7zAIXQlXxgotswnKDglmDlKNs98sZKuHCOnqWbs
// SIG // YR9q4ShJnV+I4iVd0yFLPlLEtVc/JAPw0XpbL9Uj43Bd
// SIG // D1FGd7P4AOG8rAKCX9vAFbO9G9RVS+c5oQ/pI0m8GLhE
// SIG // fEXkwcNyeuBy5yTfv0aZxe/CHFfbg43sTUkwp6uO3+xb
// SIG // n6/83bBm4sGXgXvt1u1L50kppxMopqd9Z4DmimJ4X7Iv
// SIG // hNdXnFy/dygo8e1twyiPLI9AN0/B4YVEicQJTMXUpUMv
// SIG // dJX3bvh4IFgsE11glZo+TzOE2rCIF96eTvSWsLxGoGyY
// SIG // 0uDWiIwLAgMBAAGjggHtMIIB6TAQBgkrBgEEAYI3FQEE
// SIG // AwIBADAdBgNVHQ4EFgQUSG5k5VAF04KqFzc3IrVtqMp1
// SIG // ApUwGQYJKwYBBAGCNxQCBAweCgBTAHUAYgBDAEEwCwYD
// SIG // VR0PBAQDAgGGMA8GA1UdEwEB/wQFMAMBAf8wHwYDVR0j
// SIG // BBgwFoAUci06AjGQQ7kUBU7h6qfHMdEjiTQwWgYDVR0f
// SIG // BFMwUTBPoE2gS4ZJaHR0cDovL2NybC5taWNyb3NvZnQu
// SIG // Y29tL3BraS9jcmwvcHJvZHVjdHMvTWljUm9vQ2VyQXV0
// SIG // MjAxMV8yMDExXzAzXzIyLmNybDBeBggrBgEFBQcBAQRS
// SIG // MFAwTgYIKwYBBQUHMAKGQmh0dHA6Ly93d3cubWljcm9z
// SIG // b2Z0LmNvbS9wa2kvY2VydHMvTWljUm9vQ2VyQXV0MjAx
// SIG // MV8yMDExXzAzXzIyLmNydDCBnwYDVR0gBIGXMIGUMIGR
// SIG // BgkrBgEEAYI3LgMwgYMwPwYIKwYBBQUHAgEWM2h0dHA6
// SIG // Ly93d3cubWljcm9zb2Z0LmNvbS9wa2lvcHMvZG9jcy9w
// SIG // cmltYXJ5Y3BzLmh0bTBABggrBgEFBQcCAjA0HjIgHQBM
// SIG // AGUAZwBhAGwAXwBwAG8AbABpAGMAeQBfAHMAdABhAHQA
// SIG // ZQBtAGUAbgB0AC4gHTANBgkqhkiG9w0BAQsFAAOCAgEA
// SIG // Z/KGpZjgVHkaLtPYdGcimwuWEeFjkplCln3SeQyQwWVf
// SIG // Liw++MNy0W2D/r4/6ArKO79HqaPzadtjvyI1pZddZYSQ
// SIG // fYtGUFXYDJJ80hpLHPM8QotS0LD9a+M+By4pm+Y9G6XU
// SIG // tR13lDni6WTJRD14eiPzE32mkHSDjfTLJgJGKsKKELuk
// SIG // qQUMm+1o+mgulaAqPyprWEljHwlpblqYluSD9MCP80Yr
// SIG // 3vw70L01724lruWvJ+3Q3fMOr5kol5hNDj0L8giJ1h/D
// SIG // Mhji8MUtzluetEk5CsYKwsatruWy2dsViFFFWDgycSca
// SIG // f7H0J/jeLDogaZiyWYlobm+nt3TDQAUGpgEqKD6CPxNN
// SIG // ZgvAs0314Y9/HG8VfUWnduVAKmWjw11SYobDHWM2l4bf
// SIG // 2vP48hahmifhzaWX0O5dY0HjWwechz4GdwbRBrF1HxS+
// SIG // YWG18NzGGwS+30HHDiju3mUv7Jf2oVyW2ADWoUa9WfOX
// SIG // pQlLSBCZgB/QACnFsZulP0V3HjXG0qKin3p6IvpIlR+r
// SIG // +0cjgPWe+L9rt0uX4ut1eBrs6jeZeRhL/9azI2h15q/6
// SIG // /IvrC4DqaTuv/DDtBEyO3991bWORPdGdVk5Pv4BXIqF4
// SIG // ETIheu9BCrE/+6jMpF3BoYibV3FWTkhFwELJm3ZbCoBI
// SIG // a/15n8G9bW1qyVJzEw16UM0xghmiMIIZngIBATCBlTB+
// SIG // MQswCQYDVQQGEwJVUzETMBEGA1UECBMKV2FzaGluZ3Rv
// SIG // bjEQMA4GA1UEBxMHUmVkbW9uZDEeMBwGA1UEChMVTWlj
// SIG // cm9zb2Z0IENvcnBvcmF0aW9uMSgwJgYDVQQDEx9NaWNy
// SIG // b3NvZnQgQ29kZSBTaWduaW5nIFBDQSAyMDExAhMzAAAD
// SIG // TrU8esGEb+srAAAAAANOMA0GCWCGSAFlAwQCAQUAoIGu
// SIG // MBkGCSqGSIb3DQEJAzEMBgorBgEEAYI3AgEEMBwGCisG
// SIG // AQQBgjcCAQsxDjAMBgorBgEEAYI3AgEVMC8GCSqGSIb3
// SIG // DQEJBDEiBCDMZkCQxG13ViMJUNK8w9/wdZnkWoyMpNl0
// SIG // 0+xl7N7ENjBCBgorBgEEAYI3AgEMMTQwMqAUgBIATQBp
// SIG // AGMAcgBvAHMAbwBmAHShGoAYaHR0cDovL3d3dy5taWNy
// SIG // b3NvZnQuY29tMA0GCSqGSIb3DQEBAQUABIIBAFTgjCWi
// SIG // Xk/irZbatlWE0y9dScHZI6LMmoAApY8zUMkp4Pw5V4n0
// SIG // iO2Rqq0qQ2LIe0SJcCof9LmxvHfeN24UD1hl+1GRUfT6
// SIG // kzK7mQWaUXJh8dlguQYc2P4CBe94WyIpw2Q0RycFmp5y
// SIG // vL4KjiedWTvoThfLBOkyf7JE1jFampuMvD258Ls+ybpQ
// SIG // tfPWp1+EOT5YnabuYzIy31SJXhCS2pEuU2BvaRKwqZjT
// SIG // omJrBRcWZCyrlbWLqQrsfN4pisVHoER+3FigZtota8lx
// SIG // fFeViTaJlT2EVJ7+YPfFJN8Fr485Xhi3/hgalE/NjQwi
// SIG // tPpnD9Ou95XXHeT8kj2Mx+1SN2ahghcsMIIXKAYKKwYB
// SIG // BAGCNwMDATGCFxgwghcUBgkqhkiG9w0BBwKgghcFMIIX
// SIG // AQIBAzEPMA0GCWCGSAFlAwQCAQUAMIIBWQYLKoZIhvcN
// SIG // AQkQAQSgggFIBIIBRDCCAUACAQEGCisGAQQBhFkKAwEw
// SIG // MTANBglghkgBZQMEAgEFAAQgoOtJTsCBtPxhrN74EFKj
// SIG // 4q84pzyUb4p5faAjydbFYkkCBmSTBiqyBBgTMjAyMzA3
// SIG // MTcxNjEwMzcuMzA2WjAEgAIB9KCB2KSB1TCB0jELMAkG
// SIG // A1UEBhMCVVMxEzARBgNVBAgTCldhc2hpbmd0b24xEDAO
// SIG // BgNVBAcTB1JlZG1vbmQxHjAcBgNVBAoTFU1pY3Jvc29m
// SIG // dCBDb3Jwb3JhdGlvbjEtMCsGA1UECxMkTWljcm9zb2Z0
// SIG // IElyZWxhbmQgT3BlcmF0aW9ucyBMaW1pdGVkMSYwJAYD
// SIG // VQQLEx1UaGFsZXMgVFNTIEVTTjozQkQ0LTRCODAtNjlD
// SIG // MzElMCMGA1UEAxMcTWljcm9zb2Z0IFRpbWUtU3RhbXAg
// SIG // U2VydmljZaCCEXswggcnMIIFD6ADAgECAhMzAAABtPuA
// SIG // CEQF0i36AAEAAAG0MA0GCSqGSIb3DQEBCwUAMHwxCzAJ
// SIG // BgNVBAYTAlVTMRMwEQYDVQQIEwpXYXNoaW5ndG9uMRAw
// SIG // DgYDVQQHEwdSZWRtb25kMR4wHAYDVQQKExVNaWNyb3Nv
// SIG // ZnQgQ29ycG9yYXRpb24xJjAkBgNVBAMTHU1pY3Jvc29m
// SIG // dCBUaW1lLVN0YW1wIFBDQSAyMDEwMB4XDTIyMDkyMDIw
// SIG // MjIwOVoXDTIzMTIxNDIwMjIwOVowgdIxCzAJBgNVBAYT
// SIG // AlVTMRMwEQYDVQQIEwpXYXNoaW5ndG9uMRAwDgYDVQQH
// SIG // EwdSZWRtb25kMR4wHAYDVQQKExVNaWNyb3NvZnQgQ29y
// SIG // cG9yYXRpb24xLTArBgNVBAsTJE1pY3Jvc29mdCBJcmVs
// SIG // YW5kIE9wZXJhdGlvbnMgTGltaXRlZDEmMCQGA1UECxMd
// SIG // VGhhbGVzIFRTUyBFU046M0JENC00QjgwLTY5QzMxJTAj
// SIG // BgNVBAMTHE1pY3Jvc29mdCBUaW1lLVN0YW1wIFNlcnZp
// SIG // Y2UwggIiMA0GCSqGSIb3DQEBAQUAA4ICDwAwggIKAoIC
// SIG // AQC0R6aeZQcyQh+86K7bsrzplvBaGSwbBXvYOXW4Z2qv
// SIG // akqb6Z/OhP5ieCSr1osR/5cO0APID7YohlTSI7xYbv14
// SIG // mPPPb1+VmkEpsqDzGXY/c712uV65DDdOc1803j5AiCMx
// SIG // ekTe3E8XszshEspkyI63cV+QVZWaJckADsTc4jAmCmGD
// SIG // T22HdO/OnwxPz4c60bdt2tF3/La7xWtCxBMtmJXBNnqo
// SIG // Ngo1Pw9BmXvEWtJI7dDNdr3UuKlmdg6XeyIYkMJ57UFr
// SIG // tfWLXd1AUfEqXkV/gnMN244Fnzl7ZWunIXLVrdrIZTMG
// SIG // sjDn2OExuMjD1hVxC32RRae3IKY2TXlbJsJL6FekQMMt
// SIG // WPVflb2yeahbWq7Tf66emtCNZBpW47sF9y9B01V3IpKo
// SIG // B4rLV5PYdxzmfVoBV5cWbqxtUmZnM9ARBHcmvtbxhxOO
// SIG // SoLmFPaqti4hxgY5/c+Pg6p1ebVCqG7C2yTG+K/vLLdn
// SIG // 4/EmnErH7Z7rMZFqhCYiUt+D9rjZc1UdN/pbOvmTtDXD
// SIG // u/S4D+wWyDIqYjsfModfTzEMNKYmihcDlu0PoHSXH8uq
// SIG // zpBvgq2GcDs3YgR0nmyMwiHIdnAGvt/MOyRT/5KCnZSd
// SIG // +qs3VV1r+Bv6maVsnCLwymG8SVjONPs9krYObh6ityPH
// SIG // tPZBV7cQh6Uu4ZvHPJtuVmhFOQIDAQABo4IBSTCCAUUw
// SIG // HQYDVR0OBBYEFMtEheXxlLg6nLsSKLdO3jjMMtl+MB8G
// SIG // A1UdIwQYMBaAFJ+nFV0AXmJdg/Tl0mWnG1M1GelyMF8G
// SIG // A1UdHwRYMFYwVKBSoFCGTmh0dHA6Ly93d3cubWljcm9z
// SIG // b2Z0LmNvbS9wa2lvcHMvY3JsL01pY3Jvc29mdCUyMFRp
// SIG // bWUtU3RhbXAlMjBQQ0ElMjAyMDEwKDEpLmNybDBsBggr
// SIG // BgEFBQcBAQRgMF4wXAYIKwYBBQUHMAKGUGh0dHA6Ly93
// SIG // d3cubWljcm9zb2Z0LmNvbS9wa2lvcHMvY2VydHMvTWlj
// SIG // cm9zb2Z0JTIwVGltZS1TdGFtcCUyMFBDQSUyMDIwMTAo
// SIG // MSkuY3J0MAwGA1UdEwEB/wQCMAAwFgYDVR0lAQH/BAww
// SIG // CgYIKwYBBQUHAwgwDgYDVR0PAQH/BAQDAgeAMA0GCSqG
// SIG // SIb3DQEBCwUAA4ICAQAS0Q8FjCm3gmKhKrSOgbPCphfp
// SIG // Kg0fthuqmACt2Wet23q7e6QpESW4oRWpLZdqNfHHRSRc
// SIG // ZzheL12nZtLGm7JCdOSr4hDCSDunV0qvABra92Zo3PPe
// SIG // atJp5QS7jTIJOEfCq5CTB6gbh6pFFl7X061VKYMM0Ldl
// SIG // DoiDSrPv2+K9eDLl0VaTienEDkvFIZHjAFpdoi5WGgRr
// SIG // Tq93/3/ZixD31sKJHtLElG3VetDmQkYdSLQWGDPXnyq9
// SIG // eB+aruo2p+p9NKaxBGu1t7hm/9f6o+j+Xpp75KsuRyNF
// SIG // +vQ41XS8VW40rHoJv3QPkuA2lz3HxX+ogcSv4ldtZdbq
// SIG // YBFVWo1AKZeVUeNMGOFxfBKZp1HU6i1w3+wqnYQ4z0k9
// SIG // ivzo71j8kBkL3O6D2qWMpOuhlN9gDssh1yY+vr27UVIP
// SIG // /qK8vodEdl3+TYQvsW1nDM1xFF0UX9WCmQ7Ech+q+Ndq
// SIG // ZvCgyhP6+0ZO2qCiu6GFKTRszUX+kGmL+c9m1U0sZM1o
// SIG // rxa3qSxxsL0bp/T2DP/AEEk4Ga9Ms845P/e1oIZKgmgM
// SIG // AFacr4N7mmJ7gpfwHHEpBsm/HPu9GxUnlHqYbH4G9q/k
// SIG // COzG9lnDp5CaQjS89FyTEv1MJUJ9ZLS7IgqbKjpN2iyd
// SIG // sE7+iyt7uvSNL0AfyykSpWWEVylA186D8K91LbE1UzCC
// SIG // B3EwggVZoAMCAQICEzMAAAAVxedrngKbSZkAAAAAABUw
// SIG // DQYJKoZIhvcNAQELBQAwgYgxCzAJBgNVBAYTAlVTMRMw
// SIG // EQYDVQQIEwpXYXNoaW5ndG9uMRAwDgYDVQQHEwdSZWRt
// SIG // b25kMR4wHAYDVQQKExVNaWNyb3NvZnQgQ29ycG9yYXRp
// SIG // b24xMjAwBgNVBAMTKU1pY3Jvc29mdCBSb290IENlcnRp
// SIG // ZmljYXRlIEF1dGhvcml0eSAyMDEwMB4XDTIxMDkzMDE4
// SIG // MjIyNVoXDTMwMDkzMDE4MzIyNVowfDELMAkGA1UEBhMC
// SIG // VVMxEzARBgNVBAgTCldhc2hpbmd0b24xEDAOBgNVBAcT
// SIG // B1JlZG1vbmQxHjAcBgNVBAoTFU1pY3Jvc29mdCBDb3Jw
// SIG // b3JhdGlvbjEmMCQGA1UEAxMdTWljcm9zb2Z0IFRpbWUt
// SIG // U3RhbXAgUENBIDIwMTAwggIiMA0GCSqGSIb3DQEBAQUA
// SIG // A4ICDwAwggIKAoICAQDk4aZM57RyIQt5osvXJHm9DtWC
// SIG // 0/3unAcH0qlsTnXIyjVX9gF/bErg4r25PhdgM/9cT8dm
// SIG // 95VTcVrifkpa/rg2Z4VGIwy1jRPPdzLAEBjoYH1qUoNE
// SIG // t6aORmsHFPPFdvWGUNzBRMhxXFExN6AKOG6N7dcP2CZT
// SIG // fDlhAnrEqv1yaa8dq6z2Nr41JmTamDu6GnszrYBbfowQ
// SIG // HJ1S/rboYiXcag/PXfT+jlPP1uyFVk3v3byNpOORj7I5
// SIG // LFGc6XBpDco2LXCOMcg1KL3jtIckw+DJj361VI/c+gVV
// SIG // mG1oO5pGve2krnopN6zL64NF50ZuyjLVwIYwXE8s4mKy
// SIG // zbnijYjklqwBSru+cakXW2dg3viSkR4dPf0gz3N9QZpG
// SIG // dc3EXzTdEonW/aUgfX782Z5F37ZyL9t9X4C626p+Nuw2
// SIG // TPYrbqgSUei/BQOj0XOmTTd0lBw0gg/wEPK3Rxjtp+iZ
// SIG // fD9M269ewvPV2HM9Q07BMzlMjgK8QmguEOqEUUbi0b1q
// SIG // GFphAXPKZ6Je1yh2AuIzGHLXpyDwwvoSCtdjbwzJNmSL
// SIG // W6CmgyFdXzB0kZSU2LlQ+QuJYfM2BjUYhEfb3BvR/bLU
// SIG // HMVr9lxSUV0S2yW6r1AFemzFER1y7435UsSFF5PAPBXb
// SIG // GjfHCBUYP3irRbb1Hode2o+eFnJpxq57t7c+auIurQID
// SIG // AQABo4IB3TCCAdkwEgYJKwYBBAGCNxUBBAUCAwEAATAj
// SIG // BgkrBgEEAYI3FQIEFgQUKqdS/mTEmr6CkTxGNSnPEP8v
// SIG // BO4wHQYDVR0OBBYEFJ+nFV0AXmJdg/Tl0mWnG1M1Gely
// SIG // MFwGA1UdIARVMFMwUQYMKwYBBAGCN0yDfQEBMEEwPwYI
// SIG // KwYBBQUHAgEWM2h0dHA6Ly93d3cubWljcm9zb2Z0LmNv
// SIG // bS9wa2lvcHMvRG9jcy9SZXBvc2l0b3J5Lmh0bTATBgNV
// SIG // HSUEDDAKBggrBgEFBQcDCDAZBgkrBgEEAYI3FAIEDB4K
// SIG // AFMAdQBiAEMAQTALBgNVHQ8EBAMCAYYwDwYDVR0TAQH/
// SIG // BAUwAwEB/zAfBgNVHSMEGDAWgBTV9lbLj+iiXGJo0T2U
// SIG // kFvXzpoYxDBWBgNVHR8ETzBNMEugSaBHhkVodHRwOi8v
// SIG // Y3JsLm1pY3Jvc29mdC5jb20vcGtpL2NybC9wcm9kdWN0
// SIG // cy9NaWNSb29DZXJBdXRfMjAxMC0wNi0yMy5jcmwwWgYI
// SIG // KwYBBQUHAQEETjBMMEoGCCsGAQUFBzAChj5odHRwOi8v
// SIG // d3d3Lm1pY3Jvc29mdC5jb20vcGtpL2NlcnRzL01pY1Jv
// SIG // b0NlckF1dF8yMDEwLTA2LTIzLmNydDANBgkqhkiG9w0B
// SIG // AQsFAAOCAgEAnVV9/Cqt4SwfZwExJFvhnnJL/Klv6lwU
// SIG // tj5OR2R4sQaTlz0xM7U518JxNj/aZGx80HU5bbsPMeTC
// SIG // j/ts0aGUGCLu6WZnOlNN3Zi6th542DYunKmCVgADsAW+
// SIG // iehp4LoJ7nvfam++Kctu2D9IdQHZGN5tggz1bSNU5HhT
// SIG // dSRXud2f8449xvNo32X2pFaq95W2KFUn0CS9QKC/GbYS
// SIG // EhFdPSfgQJY4rPf5KYnDvBewVIVCs/wMnosZiefwC2qB
// SIG // woEZQhlSdYo2wh3DYXMuLGt7bj8sCXgU6ZGyqVvfSaN0
// SIG // DLzskYDSPeZKPmY7T7uG+jIa2Zb0j/aRAfbOxnT99kxy
// SIG // bxCrdTDFNLB62FD+CljdQDzHVG2dY3RILLFORy3BFARx
// SIG // v2T5JL5zbcqOCb2zAVdJVGTZc9d/HltEAY5aGZFrDZ+k
// SIG // KNxnGSgkujhLmm77IVRrakURR6nxt67I6IleT53S0Ex2
// SIG // tVdUCbFpAUR+fKFhbHP+CrvsQWY9af3LwUFJfn6Tvsv4
// SIG // O+S3Fb+0zj6lMVGEvL8CwYKiexcdFYmNcP7ntdAoGokL
// SIG // jzbaukz5m/8K6TT4JDVnK+ANuOaMmdbhIurwJ0I9JZTm
// SIG // dHRbatGePu1+oDEzfbzL6Xu/OHBE0ZDxyKs6ijoIYn/Z
// SIG // cGNTTY3ugm2lBRDBcQZqELQdVTNYs6FwZvKhggLXMIIC
// SIG // QAIBATCCAQChgdikgdUwgdIxCzAJBgNVBAYTAlVTMRMw
// SIG // EQYDVQQIEwpXYXNoaW5ndG9uMRAwDgYDVQQHEwdSZWRt
// SIG // b25kMR4wHAYDVQQKExVNaWNyb3NvZnQgQ29ycG9yYXRp
// SIG // b24xLTArBgNVBAsTJE1pY3Jvc29mdCBJcmVsYW5kIE9w
// SIG // ZXJhdGlvbnMgTGltaXRlZDEmMCQGA1UECxMdVGhhbGVz
// SIG // IFRTUyBFU046M0JENC00QjgwLTY5QzMxJTAjBgNVBAMT
// SIG // HE1pY3Jvc29mdCBUaW1lLVN0YW1wIFNlcnZpY2WiIwoB
// SIG // ATAHBgUrDgMCGgMVAGWc2JDzm5f2c3gpEm3+AeQnHgkI
// SIG // oIGDMIGApH4wfDELMAkGA1UEBhMCVVMxEzARBgNVBAgT
// SIG // Cldhc2hpbmd0b24xEDAOBgNVBAcTB1JlZG1vbmQxHjAc
// SIG // BgNVBAoTFU1pY3Jvc29mdCBDb3Jwb3JhdGlvbjEmMCQG
// SIG // A1UEAxMdTWljcm9zb2Z0IFRpbWUtU3RhbXAgUENBIDIw
// SIG // MTAwDQYJKoZIhvcNAQEFBQACBQDoX8lPMCIYDzIwMjMw
// SIG // NzE3MjIwNjA3WhgPMjAyMzA3MTgyMjA2MDdaMHcwPQYK
// SIG // KwYBBAGEWQoEATEvMC0wCgIFAOhfyU8CAQAwCgIBAAIC
// SIG // DWQCAf8wBwIBAAICEkwwCgIFAOhhGs8CAQAwNgYKKwYB
// SIG // BAGEWQoEAjEoMCYwDAYKKwYBBAGEWQoDAqAKMAgCAQAC
// SIG // AwehIKEKMAgCAQACAwGGoDANBgkqhkiG9w0BAQUFAAOB
// SIG // gQAYroilOFubDFcYNWIhmI3kDS9BGR0LOzmouU7hd02i
// SIG // FGEIKYR1DJ7CFSJl00ssYESTtKVUtCfjyr27HXzKI+yY
// SIG // 0bPgpNfgB80BRkTpb6vNEX5w0NbGFHQLAlbGVn4Hkos5
// SIG // k3+MbqSZViwPRaXsUJGIFzC1fb3U0rAI8wyZHXo+3zGC
// SIG // BA0wggQJAgEBMIGTMHwxCzAJBgNVBAYTAlVTMRMwEQYD
// SIG // VQQIEwpXYXNoaW5ndG9uMRAwDgYDVQQHEwdSZWRtb25k
// SIG // MR4wHAYDVQQKExVNaWNyb3NvZnQgQ29ycG9yYXRpb24x
// SIG // JjAkBgNVBAMTHU1pY3Jvc29mdCBUaW1lLVN0YW1wIFBD
// SIG // QSAyMDEwAhMzAAABtPuACEQF0i36AAEAAAG0MA0GCWCG
// SIG // SAFlAwQCAQUAoIIBSjAaBgkqhkiG9w0BCQMxDQYLKoZI
// SIG // hvcNAQkQAQQwLwYJKoZIhvcNAQkEMSIEIGjGQt82yA7c
// SIG // cPyD4MEP4XgtQof6ehXfUUrAQuqRlqAJMIH6BgsqhkiG
// SIG // 9w0BCRACLzGB6jCB5zCB5DCBvQQg08j3e+ajMHAGUXG9
// SIG // +v+sSWt4U9Hi7Hu9crHaeLcB9wYwgZgwgYCkfjB8MQsw
// SIG // CQYDVQQGEwJVUzETMBEGA1UECBMKV2FzaGluZ3RvbjEQ
// SIG // MA4GA1UEBxMHUmVkbW9uZDEeMBwGA1UEChMVTWljcm9z
// SIG // b2Z0IENvcnBvcmF0aW9uMSYwJAYDVQQDEx1NaWNyb3Nv
// SIG // ZnQgVGltZS1TdGFtcCBQQ0EgMjAxMAITMwAAAbT7gAhE
// SIG // BdIt+gABAAABtDAiBCBy/+t3ymkN4IjZvxaM8ArCxRex
// SIG // 4vm+rM5fxvI5gCjjQjANBgkqhkiG9w0BAQsFAASCAgBJ
// SIG // RispBPvq3lOw1SrPbxv9UuUSXBptw43KUYPPaiwdun8l
// SIG // JhL+6QquISemOBHHLwpepHD7ckHp/AQQ8GOq7csmtA0n
// SIG // TdsfJxmZHsp3Tp/FYMMh7GTi5xzMMa76LPIsUUl6d3HQ
// SIG // 3O+TQmsfuPaa4xSX3KYE8jdyThBduxDIEKhVdEbEvsGa
// SIG // sJawoYxCtTqtmt+Mc43Cdf6amNyRcxlPPrRD7q7KEc55
// SIG // UOxt/CBp6Q01YYmtkAEDnWNjmr5snne85I8xEDpr9HxS
// SIG // 7k79v3qdoER4k7wnNHIMTN+GelG/VoT27I1GobMC9XfD
// SIG // Yfb3cNsfHIvzDQJ9XXuFYtc1OdTMC+AIGJ0o9KeqNh2q
// SIG // pOHPhwuyFo2sBPHo8pBL25rUUTRKvlIIvfn297rvvR5o
// SIG // mso7XFlX5H9rmalM+jxDL14V7MRbjK/ThZ0SDRpuQawz
// SIG // lkEJZWh6mWeoowpiaXjvuz4DMEQGj/4U23mJiaso71pu
// SIG // gyR6RwKB7DDenNl2BtTNCvOuTahxXCJHf4AhsSAPI9MV
// SIG // 153W++2bmx88RScb+SAixVzd8ZLkHoHq8hXW1UHbeKSb
// SIG // EvhgFr9m9HukgzdhcvufL7irymFFnZin6tFcUoq6kIuT
// SIG // 8KCthOGSbOljP7f8pCVsV2adrFbYGaoXC9M+hvppWfHV
// SIG // 01DKRKUUzB1eKWGJyCkqCA==
// SIG // End signature block
