{"version":3,"file":"main.js","mappings":"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","sources":["webpack://profiler/./node_modules/vscode-nls/lib/main.js","webpack://profiler/./src/data/createSessionData.ts","webpack://profiler/./src/dialogs/profilerCreateSessionDialog.ts","webpack://profiler/./src/main.ts","webpack://profiler/./src/mainController.ts","webpack://profiler/external commonjs \"azdata\"","webpack://profiler/external commonjs \"vscode\"","webpack://profiler/external node-commonjs \"fs\"","webpack://profiler/external node-commonjs \"path\"","webpack://profiler/webpack/bootstrap","webpack://profiler/webpack/startup"],"sourcesContent":["/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar path = require(\"path\");\r\nvar fs = require(\"fs\");\r\nvar toString = Object.prototype.toString;\r\nfunction isDefined(value) {\r\n    return typeof value !== 'undefined';\r\n}\r\nfunction isNumber(value) {\r\n    return toString.call(value) === '[object Number]';\r\n}\r\nfunction isString(value) {\r\n    return toString.call(value) === '[object String]';\r\n}\r\nfunction isBoolean(value) {\r\n    return value === true || value === false;\r\n}\r\nfunction readJsonFileSync(filename) {\r\n    return JSON.parse(fs.readFileSync(filename, 'utf8'));\r\n}\r\nvar MessageFormat;\r\n(function (MessageFormat) {\r\n    MessageFormat[\"file\"] = \"file\";\r\n    MessageFormat[\"bundle\"] = \"bundle\";\r\n    MessageFormat[\"both\"] = \"both\";\r\n})(MessageFormat = exports.MessageFormat || (exports.MessageFormat = {}));\r\nvar BundleFormat;\r\n(function (BundleFormat) {\r\n    // the nls.bundle format\r\n    BundleFormat[\"standalone\"] = \"standalone\";\r\n    BundleFormat[\"languagePack\"] = \"languagePack\";\r\n})(BundleFormat = exports.BundleFormat || (exports.BundleFormat = {}));\r\nvar LocalizeInfo;\r\n(function (LocalizeInfo) {\r\n    function is(value) {\r\n        var candidate = value;\r\n        return candidate && isDefined(candidate.key) && isDefined(candidate.comment);\r\n    }\r\n    LocalizeInfo.is = is;\r\n})(LocalizeInfo || (LocalizeInfo = {}));\r\nvar resolvedLanguage;\r\nvar resolvedBundles;\r\nvar options;\r\nvar isPseudo;\r\nfunction initializeSettings() {\r\n    options = { locale: undefined, language: undefined, languagePackSupport: false, cacheLanguageResolution: true, messageFormat: MessageFormat.bundle };\r\n    if (isString(process.env.VSCODE_NLS_CONFIG)) {\r\n        try {\r\n            var vscodeOptions_1 = JSON.parse(process.env.VSCODE_NLS_CONFIG);\r\n            var language = void 0;\r\n            var locale = void 0;\r\n            if (vscodeOptions_1.availableLanguages) {\r\n                var value = vscodeOptions_1.availableLanguages['*'];\r\n                if (isString(value)) {\r\n                    language = value;\r\n                }\r\n            }\r\n            if (isString(vscodeOptions_1.locale)) {\r\n                options.locale = vscodeOptions_1.locale.toLowerCase();\r\n            }\r\n            if (language === undefined) {\r\n                options.language = options.locale;\r\n            }\r\n            else if (language !== 'en') {\r\n                options.language = language;\r\n            }\r\n            if (isBoolean(vscodeOptions_1._languagePackSupport)) {\r\n                options.languagePackSupport = vscodeOptions_1._languagePackSupport;\r\n            }\r\n            if (isString(vscodeOptions_1._cacheRoot)) {\r\n                options.cacheRoot = vscodeOptions_1._cacheRoot;\r\n            }\r\n            if (isString(vscodeOptions_1._languagePackId)) {\r\n                options.languagePackId = vscodeOptions_1._languagePackId;\r\n            }\r\n            if (isString(vscodeOptions_1._translationsConfigFile)) {\r\n                options.translationsConfigFile = vscodeOptions_1._translationsConfigFile;\r\n                try {\r\n                    options.translationsConfig = readJsonFileSync(options.translationsConfigFile);\r\n                }\r\n                catch (error) {\r\n                    // We can't read the translation config file. Mark the cache as corrupted.\r\n                    if (vscodeOptions_1._corruptedFile) {\r\n                        var dirname = path.dirname(vscodeOptions_1._corruptedFile);\r\n                        fs.exists(dirname, function (exists) {\r\n                            if (exists) {\r\n                                fs.writeFile(vscodeOptions_1._corruptedFile, 'corrupted', 'utf8', function (err) {\r\n                                    console.error(err);\r\n                                });\r\n                            }\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        catch (_a) {\r\n            // Do nothing.\r\n        }\r\n    }\r\n    isPseudo = options.locale === 'pseudo';\r\n    resolvedLanguage = undefined;\r\n    resolvedBundles = Object.create(null);\r\n}\r\ninitializeSettings();\r\nfunction supportsLanguagePack() {\r\n    return options.languagePackSupport === true && options.cacheRoot !== undefined && options.languagePackId !== undefined && options.translationsConfigFile !== undefined\r\n        && options.translationsConfig !== undefined;\r\n}\r\nfunction format(message, args) {\r\n    var result;\r\n    if (isPseudo) {\r\n        // FF3B and FF3D is the Unicode zenkaku representation for [ and ]\r\n        message = '\\uFF3B' + message.replace(/[aouei]/g, '$&$&') + '\\uFF3D';\r\n    }\r\n    if (args.length === 0) {\r\n        result = message;\r\n    }\r\n    else {\r\n        result = message.replace(/\\{(\\d+)\\}/g, function (match, rest) {\r\n            var index = rest[0];\r\n            var arg = args[index];\r\n            var replacement = match;\r\n            if (typeof arg === 'string') {\r\n                replacement = arg;\r\n            }\r\n            else if (typeof arg === 'number' || typeof arg === 'boolean' || arg === void 0 || arg === null) {\r\n                replacement = String(arg);\r\n            }\r\n            return replacement;\r\n        });\r\n    }\r\n    return result;\r\n}\r\nfunction createScopedLocalizeFunction(messages) {\r\n    return function (key, message) {\r\n        var args = [];\r\n        for (var _i = 2; _i < arguments.length; _i++) {\r\n            args[_i - 2] = arguments[_i];\r\n        }\r\n        if (isNumber(key)) {\r\n            if (key >= messages.length) {\r\n                console.error(\"Broken localize call found. Index out of bounds. Stacktrace is\\n: \" + new Error('').stack);\r\n                return;\r\n            }\r\n            return format(messages[key], args);\r\n        }\r\n        else {\r\n            if (isString(message)) {\r\n                console.warn(\"Message \" + message + \" didn't get externalized correctly.\");\r\n                return format(message, args);\r\n            }\r\n            else {\r\n                console.error(\"Broken localize call found. Stacktrace is\\n: \" + new Error('').stack);\r\n            }\r\n        }\r\n    };\r\n}\r\nfunction localize(key, message) {\r\n    var args = [];\r\n    for (var _i = 2; _i < arguments.length; _i++) {\r\n        args[_i - 2] = arguments[_i];\r\n    }\r\n    return format(message, args);\r\n}\r\nfunction resolveLanguage(file) {\r\n    var resolvedLanguage;\r\n    if (options.cacheLanguageResolution && resolvedLanguage) {\r\n        resolvedLanguage = resolvedLanguage;\r\n    }\r\n    else {\r\n        if (isPseudo || !options.language) {\r\n            resolvedLanguage = '.nls.json';\r\n        }\r\n        else {\r\n            var locale = options.language;\r\n            while (locale) {\r\n                var candidate = '.nls.' + locale + '.json';\r\n                if (fs.existsSync(file + candidate)) {\r\n                    resolvedLanguage = candidate;\r\n                    break;\r\n                }\r\n                else {\r\n                    var index = locale.lastIndexOf('-');\r\n                    if (index > 0) {\r\n                        locale = locale.substring(0, index);\r\n                    }\r\n                    else {\r\n                        resolvedLanguage = '.nls.json';\r\n                        locale = null;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        if (options.cacheLanguageResolution) {\r\n            resolvedLanguage = resolvedLanguage;\r\n        }\r\n    }\r\n    return file + resolvedLanguage;\r\n}\r\nfunction findInTheBoxBundle(root) {\r\n    var language = options.language;\r\n    while (language) {\r\n        var candidate = path.join(root, \"nls.bundle.\" + language + \".json\");\r\n        if (fs.existsSync(candidate)) {\r\n            return candidate;\r\n        }\r\n        else {\r\n            var index = language.lastIndexOf('-');\r\n            if (index > 0) {\r\n                language = language.substring(0, index);\r\n            }\r\n            else {\r\n                language = undefined;\r\n            }\r\n        }\r\n    }\r\n    // Test if we can reslove the default bundle.\r\n    if (language === undefined) {\r\n        var candidate = path.join(root, 'nls.bundle.json');\r\n        if (fs.existsSync(candidate)) {\r\n            return candidate;\r\n        }\r\n    }\r\n    return undefined;\r\n}\r\nfunction mkdir(directory) {\r\n    try {\r\n        fs.mkdirSync(directory);\r\n    }\r\n    catch (err) {\r\n        if (err.code === 'EEXIST') {\r\n            return;\r\n        }\r\n        else if (err.code === 'ENOENT') {\r\n            var parent = path.dirname(directory);\r\n            if (parent !== directory) {\r\n                mkdir(parent);\r\n                fs.mkdirSync(directory);\r\n            }\r\n        }\r\n        else {\r\n            throw err;\r\n        }\r\n    }\r\n}\r\nfunction createDefaultNlsBundle(folder) {\r\n    var metaData = readJsonFileSync(path.join(folder, 'nls.metadata.json'));\r\n    var result = Object.create(null);\r\n    for (var module_1 in metaData) {\r\n        var entry = metaData[module_1];\r\n        result[module_1] = entry.messages;\r\n    }\r\n    return result;\r\n}\r\nfunction createNLSBundle(header, metaDataPath) {\r\n    var languagePackLocation = options.translationsConfig[header.id];\r\n    if (!languagePackLocation) {\r\n        return undefined;\r\n    }\r\n    var languagePack = readJsonFileSync(languagePackLocation).contents;\r\n    var metaData = readJsonFileSync(path.join(metaDataPath, 'nls.metadata.json'));\r\n    var result = Object.create(null);\r\n    for (var module_2 in metaData) {\r\n        var entry = metaData[module_2];\r\n        var translations = languagePack[header.outDir + \"/\" + module_2];\r\n        if (translations) {\r\n            var resultMessages = [];\r\n            for (var i = 0; i < entry.keys.length; i++) {\r\n                var messageKey = entry.keys[i];\r\n                var key = isString(messageKey) ? messageKey : messageKey.key;\r\n                var translatedMessage = translations[key];\r\n                if (translatedMessage === undefined) {\r\n                    translatedMessage = entry.messages[i];\r\n                }\r\n                resultMessages.push(translatedMessage);\r\n            }\r\n            result[module_2] = resultMessages;\r\n        }\r\n        else {\r\n            result[module_2] = entry.messages;\r\n        }\r\n    }\r\n    return result;\r\n}\r\nfunction touch(file) {\r\n    var d = new Date();\r\n    fs.utimes(file, d, d, function () {\r\n        // Do nothing. Ignore\r\n    });\r\n}\r\nfunction cacheBundle(key, bundle) {\r\n    resolvedBundles[key] = bundle;\r\n    return bundle;\r\n}\r\nfunction loadNlsBundleOrCreateFromI18n(header, bundlePath) {\r\n    var result;\r\n    var bundle = path.join(options.cacheRoot, header.id + \"-\" + header.hash + \".json\");\r\n    var useMemoryOnly = false;\r\n    var writeBundle = false;\r\n    try {\r\n        result = JSON.parse(fs.readFileSync(bundle, { encoding: 'utf8', flag: 'r' }));\r\n        touch(bundle);\r\n        return result;\r\n    }\r\n    catch (err) {\r\n        if (err.code === 'ENOENT') {\r\n            writeBundle = true;\r\n        }\r\n        else if (err instanceof SyntaxError) {\r\n            // We have a syntax error. So no valid JSON. Use\r\n            console.log(\"Syntax error parsing message bundle: \" + err.message + \".\");\r\n            fs.unlink(bundle, function (err) {\r\n                if (err) {\r\n                    console.error(\"Deleting corrupted bundle \" + bundle + \" failed.\");\r\n                }\r\n            });\r\n            useMemoryOnly = true;\r\n        }\r\n        else {\r\n            throw err;\r\n        }\r\n    }\r\n    result = createNLSBundle(header, bundlePath);\r\n    if (!result || useMemoryOnly) {\r\n        return result;\r\n    }\r\n    if (writeBundle) {\r\n        try {\r\n            fs.writeFileSync(bundle, JSON.stringify(result), { encoding: 'utf8', flag: 'wx' });\r\n        }\r\n        catch (err) {\r\n            if (err.code === 'EEXIST') {\r\n                return result;\r\n            }\r\n            throw err;\r\n        }\r\n    }\r\n    return result;\r\n}\r\nfunction loadDefaultNlsBundle(bundlePath) {\r\n    try {\r\n        return createDefaultNlsBundle(bundlePath);\r\n    }\r\n    catch (err) {\r\n        console.log(\"Generating default bundle from meta data failed.\", err);\r\n        return undefined;\r\n    }\r\n}\r\nfunction loadNlsBundle(header, bundlePath) {\r\n    var result;\r\n    // Core decided to use a language pack. Do the same in the extension\r\n    if (supportsLanguagePack()) {\r\n        try {\r\n            result = loadNlsBundleOrCreateFromI18n(header, bundlePath);\r\n        }\r\n        catch (err) {\r\n            console.log(\"Load or create bundle failed \", err);\r\n        }\r\n    }\r\n    if (!result) {\r\n        // No language pack found, but core is running in language pack mode\r\n        // Don't try to use old in the box bundles since the might be stale\r\n        // Fall right back to the default bundle.\r\n        if (options.languagePackSupport) {\r\n            return loadDefaultNlsBundle(bundlePath);\r\n        }\r\n        var candidate = findInTheBoxBundle(bundlePath);\r\n        if (candidate) {\r\n            try {\r\n                return readJsonFileSync(candidate);\r\n            }\r\n            catch (err) {\r\n                console.log(\"Loading in the box message bundle failed.\", err);\r\n            }\r\n        }\r\n        result = loadDefaultNlsBundle(bundlePath);\r\n    }\r\n    return result;\r\n}\r\nfunction tryFindMetaDataHeaderFile(file) {\r\n    var result;\r\n    var dirname = path.dirname(file);\r\n    while (true) {\r\n        result = path.join(dirname, 'nls.metadata.header.json');\r\n        if (fs.existsSync(result)) {\r\n            break;\r\n        }\r\n        var parent = path.dirname(dirname);\r\n        if (parent === dirname) {\r\n            result = undefined;\r\n            break;\r\n        }\r\n        else {\r\n            dirname = parent;\r\n        }\r\n    }\r\n    return result;\r\n}\r\nfunction loadMessageBundle(file) {\r\n    if (!file) {\r\n        // No file. We are in dev mode. Return the default\r\n        // localize function.\r\n        return localize;\r\n    }\r\n    // Remove extension since we load json files.\r\n    var ext = path.extname(file);\r\n    if (ext) {\r\n        file = file.substr(0, file.length - ext.length);\r\n    }\r\n    if (options.messageFormat === MessageFormat.both || options.messageFormat === MessageFormat.bundle) {\r\n        var headerFile = tryFindMetaDataHeaderFile(file);\r\n        if (headerFile) {\r\n            var bundlePath = path.dirname(headerFile);\r\n            var bundle = resolvedBundles[bundlePath];\r\n            if (bundle === undefined) {\r\n                try {\r\n                    var header = JSON.parse(fs.readFileSync(headerFile, 'utf8'));\r\n                    try {\r\n                        var nlsBundle = loadNlsBundle(header, bundlePath);\r\n                        bundle = cacheBundle(bundlePath, nlsBundle ? { header: header, nlsBundle: nlsBundle } : null);\r\n                    }\r\n                    catch (err) {\r\n                        console.error('Failed to load nls bundle', err);\r\n                        bundle = cacheBundle(bundlePath, null);\r\n                    }\r\n                }\r\n                catch (err) {\r\n                    console.error('Failed to read header file', err);\r\n                    bundle = cacheBundle(bundlePath, null);\r\n                }\r\n            }\r\n            if (bundle) {\r\n                var module_3 = file.substr(bundlePath.length + 1).replace(/\\\\/g, '/');\r\n                var messages = bundle.nlsBundle[module_3];\r\n                if (messages === undefined) {\r\n                    console.error(\"Messages for file \" + file + \" not found. See console for details.\");\r\n                    return function () {\r\n                        return 'Messages not found.';\r\n                    };\r\n                }\r\n                return createScopedLocalizeFunction(messages);\r\n            }\r\n        }\r\n    }\r\n    if (options.messageFormat === MessageFormat.both || options.messageFormat === MessageFormat.file) {\r\n        // Try to load a single file bundle\r\n        try {\r\n            var json = readJsonFileSync(resolveLanguage(file));\r\n            if (Array.isArray(json)) {\r\n                return createScopedLocalizeFunction(json);\r\n            }\r\n            else {\r\n                if (isDefined(json.messages) && isDefined(json.keys)) {\r\n                    return createScopedLocalizeFunction(json.messages);\r\n                }\r\n                else {\r\n                    console.error(\"String bundle '\" + file + \"' uses an unsupported format.\");\r\n                    return function () {\r\n                        return 'File bundle has unsupported format. See console for details';\r\n                    };\r\n                }\r\n            }\r\n        }\r\n        catch (err) {\r\n            if (err.code !== 'ENOENT') {\r\n                console.error('Failed to load single file bundle', err);\r\n            }\r\n        }\r\n    }\r\n    console.error(\"Failed to load message bundle for file \" + file);\r\n    return function () {\r\n        return 'Failed to load message bundle. See console for details.';\r\n    };\r\n}\r\nexports.loadMessageBundle = loadMessageBundle;\r\nfunction config(opts) {\r\n    if (opts) {\r\n        if (isString(opts.locale)) {\r\n            options.locale = opts.locale.toLowerCase();\r\n            options.language = options.locale;\r\n            resolvedLanguage = undefined;\r\n            resolvedBundles = Object.create(null);\r\n        }\r\n        if (opts.messageFormat !== undefined) {\r\n            options.messageFormat = opts.messageFormat;\r\n        }\r\n        if (opts.bundleFormat === BundleFormat.standalone && options.languagePackSupport === true) {\r\n            options.languagePackSupport = false;\r\n        }\r\n    }\r\n    isPseudo = options.locale === 'pseudo';\r\n    return loadMessageBundle;\r\n}\r\nexports.config = config;\r\n//# sourceMappingURL=main.js.map","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the Source EULA. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as azdata from 'azdata';\n\nexport class CreateSessionData {\n\tpublic ownerUri: string;\n\tpublic sessionName: string;\n\tpublic templates: Array<azdata.ProfilerSessionTemplate> = new Array<azdata.ProfilerSessionTemplate>();\n\n\tconstructor(ownerUri: string, templates: Array<azdata.ProfilerSessionTemplate>) {\n\t\tthis.ownerUri = ownerUri;\n\t\tthis.templates = templates;\n\t}\n\n\tpublic getTemplateNames(): string[] {\n\t\treturn this.templates.map(e => e.name);\n\t}\n\n\tpublic selectTemplate(name: string): azdata.ProfilerSessionTemplate {\n\t\treturn this.templates.find((t) => { return t.name === name; });\n\t}\n}\n",null,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the Source EULA. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport vscode = require('vscode');\nimport { MainController } from './mainController';\nexport let controller: MainController;\n\nexport function activate(context: vscode.ExtensionContext) {\n\tcontroller = new MainController(context);\n\tcontroller.activate();\n}\n\n// this method is called when your extension is deactivated\nexport function deactivate(): void {\n\tif (controller) {\n\t\tcontroller.deactivate();\n\t}\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the Source EULA. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as vscode from 'vscode';\nimport * as azdata from 'azdata';\nimport { CreateSessionDialog } from './dialogs/profilerCreateSessionDialog';\n\n/**\n * The main controller class that initializes the extension\n */\nexport class MainController {\n\tprotected _context: vscode.ExtensionContext;\n\n\t// PUBLIC METHODS\n\tpublic constructor(context: vscode.ExtensionContext) {\n\t\tthis._context = context;\n\t}\n\n\t/**\n\t * Deactivates the extension\n\t */\n\tpublic deactivate(): void {\n\t}\n\n\tpublic activate(): void {\n\t\tvscode.commands.registerCommand('profiler.openCreateSessionDialog', (ownerUri: string, providerType: string, templates: Array<azdata.ProfilerSessionTemplate>) => {\n\t\t\tlet dialog = new CreateSessionDialog(ownerUri, providerType, templates);\n\t\t\tdialog.showDialog();\n\t\t});\n\t}\n}\n","module.exports = require(\"azdata\");","module.exports = require(\"vscode\");","module.exports = require(\"fs\");","module.exports = require(\"path\");","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(618);\n"],"names":["Object","defineProperty","exports","value","MessageFormat","BundleFormat","LocalizeInfo","resolvedBundles","options","isPseudo","path","fs","toString","prototype","isDefined","isString","call","readJsonFileSync","filename","JSON","parse","readFileSync","format","message","args","replace","length","match","rest","index","arg","replacement","String","createScopedLocalizeFunction","messages","key","_i","arguments","console","error","Error","stack","warn","localize","cacheBundle","bundle","loadDefaultNlsBundle","bundlePath","folder","metaData","join","result","create","module_1","entry","createDefaultNlsBundle","err","log","loadNlsBundle","header","languagePackSupport","undefined","cacheRoot","languagePackId","translationsConfigFile","translationsConfig","file","d","id","hash","useMemoryOnly","writeBundle","encoding","flag","Date","utimes","code","SyntaxError","unlink","metaDataPath","languagePackLocation","languagePack","contents","module_2","translations","outDir","resultMessages","i","keys","messageKey","translatedMessage","push","createNLSBundle","writeFileSync","stringify","loadNlsBundleOrCreateFromI18n","candidate","root","language","existsSync","lastIndexOf","substring","findInTheBoxBundle","loadMessageBundle","ext","extname","substr","messageFormat","both","headerFile","dirname","parent","tryFindMetaDataHeaderFile","nlsBundle","module_3","json","resolvedLanguage","cacheLanguageResolution","locale","resolveLanguage","Array","isArray","is","comment","process","env","VSCODE_NLS_CONFIG","vscodeOptions_1","availableLanguages","toLowerCase","isBoolean","_languagePackSupport","_cacheRoot","_languagePackId","_translationsConfigFile","_corruptedFile","exists","writeFile","_a","initializeSettings","config","opts","bundleFormat","standalone","constructor","ownerUri","templates","this","getTemplateNames","map","e","name","selectTemplate","find","t","context","controller","MainController","activate","deactivate","_context","vscode","commands","registerCommand","providerType","CreateSessionDialog","showDialog","module","require","__webpack_module_cache__","__webpack_exports__","__webpack_require__","moduleId","cachedModule","__webpack_modules__"],"sourceRoot":""}